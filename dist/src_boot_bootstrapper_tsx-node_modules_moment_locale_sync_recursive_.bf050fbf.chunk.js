(self["webpackChunk_zextras_carbonio_shell_ui"] = self["webpackChunk_zextras_carbonio_shell_ui"] || []).push([["src_boot_bootstrapper_tsx-node_modules_moment_locale_sync_recursive_"],{

/***/ "./src/boot/app/app-context-provider.tsx":
/*!***********************************************!*\
  !*** ./src/boot/app/app-context-provider.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _app_error_catcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app-error-catcher */ "./src/boot/app/app-error-catcher.tsx");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






var AppContextProvider = function AppContextProvider(_ref) {
  var _ref2, _instances$pkg;
  var pkg = _ref.pkg,
    children = _ref.children;
  var _useI18nStore$getStat = _store_i18n__WEBPACK_IMPORTED_MODULE_3__.useI18nStore.getState(),
    instances = _useI18nStore$getStat.instances,
    defaultI18n = _useI18nStore$getStat.defaultI18n;
  var i18n = (_ref2 = (_instances$pkg = instances[pkg]) !== null && _instances$pkg !== void 0 ? _instances$pkg : instances[_constants__WEBPACK_IMPORTED_MODULE_2__.SHELL_APP_ID]) !== null && _ref2 !== void 0 ? _ref2 : defaultI18n;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.I18nextProvider, {
    i18n: i18n
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_app_error_catcher__WEBPACK_IMPORTED_MODULE_4__["default"], null, children));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AppContextProvider);

/***/ }),

/***/ "./src/boot/app/app-error-catcher.tsx":
/*!********************************************!*\
  !*** ./src/boot/app/app-error-catcher.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1__);
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var AppErrorCatcher = function AppErrorCatcher(_ref) {
  var children = _ref.children;
  var onError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (error) {
    console.error(error);
    // ({event: 'report-exception',data: { exception: error }});
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1__.Catcher, {
    onError: onError
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AppErrorCatcher);

/***/ }),

/***/ "./src/boot/app/app-loader-functions.ts":
/*!**********************************************!*\
  !*** ./src/boot/app/app-loader-functions.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAppFunctions": () => (/* binding */ getAppFunctions)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _store_context_bridge__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../store/context-bridge */ "./src/store/context-bridge.ts");
/* harmony import */ var _store_integrations_getters__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../store/integrations/getters */ "./src/store/integrations/getters.tsx");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _store_integrations_hooks__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../store/integrations/hooks */ "./src/store/integrations/hooks.tsx");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../history/hooks */ "./src/history/hooks.ts");
/* harmony import */ var _network_fetch__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../network/fetch */ "./src/network/fetch.ts");
/* harmony import */ var _store_folder__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../store/folder */ "./src/store/folder/index.ts");
/* harmony import */ var _store_tags__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../store/tags */ "./src/store/tags/index.ts");
/* harmony import */ var _store_network__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../store/network */ "./src/store/network/index.ts");
/* harmony import */ var _network_tags__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../network/tags */ "./src/network/tags.ts");
/* harmony import */ var _search_run_search__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../search/run-search */ "./src/search/run-search.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _store_boards__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../store/boards */ "./src/store/boards/index.ts");
/* harmony import */ var _notification_NotificationManager__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../notification/NotificationManager */ "./src/notification/NotificationManager.ts");
/* harmony import */ var _shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../shell/hooks/useLocalStorage */ "./src/shell/hooks/useLocalStorage.ts");
/* harmony import */ var _shell_hooks_useIsMobile__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../shell/hooks/useIsMobile */ "./src/shell/hooks/useIsMobile.ts");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }











/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */
// The 'useXXX' functions actually return hooks
/* eslint-disable react-hooks/rules-of-hooks */




















// eslint-disable-next-line @typescript-eslint/ban-types
var getAppFunctions = function getAppFunctions(pkg) {
  return {
    // I18N
    getI18n: (0,_store_i18n__WEBPACK_IMPORTED_MODULE_25__.getI18n)(pkg.name),
    t: (0,_store_i18n__WEBPACK_IMPORTED_MODULE_25__.getTFunction)(pkg.name),
    // FETCH
    soapFetch: (0,_network_fetch__WEBPACK_IMPORTED_MODULE_19__.getSoapFetch)(pkg.name),
    xmlSoapFetch: (0,_network_fetch__WEBPACK_IMPORTED_MODULE_19__.getXmlSoapFetch)(pkg.name),
    // APP STORE FUNCTIONS
    useAppContext: (0,_store_app__WEBPACK_IMPORTED_MODULE_13__.useAppContext)(pkg.name),
    getAppContext: (0,_store_app__WEBPACK_IMPORTED_MODULE_13__.getAppContext)(pkg.name),
    useApp: (0,_store_app__WEBPACK_IMPORTED_MODULE_13__.useApp)(pkg.name),
    getApp: (0,_store_app__WEBPACK_IMPORTED_MODULE_13__.getApp)(pkg.name),
    getComponents: (0,_store_app__WEBPACK_IMPORTED_MODULE_13__.useAppStore)((s) => s.views.appView),
    // INTEGRATIONS
    useIntegratedFunction: _store_integrations_hooks__WEBPACK_IMPORTED_MODULE_17__.useIntegratedFunction,
    getIntegratedFunction: _store_integrations_getters__WEBPACK_IMPORTED_MODULE_15__.getIntegratedFunction,
    useIntegratedComponent: _store_integrations_hooks__WEBPACK_IMPORTED_MODULE_17__.useIntegratedComponent,
    getIntegratedComponent: _store_integrations_getters__WEBPACK_IMPORTED_MODULE_15__.getIntegratedComponent,
    useAction: _store_integrations_hooks__WEBPACK_IMPORTED_MODULE_17__.useAction,
    getAction: _store_integrations_getters__WEBPACK_IMPORTED_MODULE_15__.getAction,
    useActions: _store_integrations_hooks__WEBPACK_IMPORTED_MODULE_17__.useActions,
    getActions: _store_integrations_getters__WEBPACK_IMPORTED_MODULE_15__.getActions,
    useActionsFactory: _store_integrations_hooks__WEBPACK_IMPORTED_MODULE_17__.useActionsFactory,
    getActionsFactory: _store_integrations_getters__WEBPACK_IMPORTED_MODULE_15__.getActionsFactory,
    useActionFactory: _store_integrations_hooks__WEBPACK_IMPORTED_MODULE_17__.useActionFactory,
    getActionFactory: _store_integrations_getters__WEBPACK_IMPORTED_MODULE_15__.getActionFactory,
    // ACCOUNTS
    useUserAccount: _store_account__WEBPACK_IMPORTED_MODULE_16__.useUserAccount,
    getUserAccount: _store_account__WEBPACK_IMPORTED_MODULE_16__.getUserAccount,
    useUserAccounts: _store_account__WEBPACK_IMPORTED_MODULE_16__.useUserAccounts,
    getUserAccounts: _store_account__WEBPACK_IMPORTED_MODULE_16__.getUserAccounts,
    useUserSettings: _store_account__WEBPACK_IMPORTED_MODULE_16__.useUserSettings,
    getUserSettings: _store_account__WEBPACK_IMPORTED_MODULE_16__.getUserSettings,
    getUserSetting: _store_account__WEBPACK_IMPORTED_MODULE_16__.getUserSetting,
    useUserSetting: _store_account__WEBPACK_IMPORTED_MODULE_16__.useUserSetting,
    useUserRight: _store_account__WEBPACK_IMPORTED_MODULE_16__.useUserRight,
    useUserRights: _store_account__WEBPACK_IMPORTED_MODULE_16__.useUserRights,
    getUserRight: _store_account__WEBPACK_IMPORTED_MODULE_16__.getUserRight,
    getUserRights: _store_account__WEBPACK_IMPORTED_MODULE_16__.getUserRights,
    useTags: _store_tags__WEBPACK_IMPORTED_MODULE_21__.useTags,
    getTags: _store_tags__WEBPACK_IMPORTED_MODULE_21__.getTags,
    useNotify: _store_network__WEBPACK_IMPORTED_MODULE_22__.useNotify,
    useRefresh: _store_network__WEBPACK_IMPORTED_MODULE_22__.useRefresh,
    // FOLDERS
    useFoldersByView: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useFoldersByView,
    useFoldersAccordionByView: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useFoldersAccordionByView,
    useFolder: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useFolder,
    getFolder: _store_folder__WEBPACK_IMPORTED_MODULE_20__.getFolder,
    useFolders: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useFolders,
    getFolders: _store_folder__WEBPACK_IMPORTED_MODULE_20__.getFolders,
    useRoot: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useRoot,
    getRoot: _store_folder__WEBPACK_IMPORTED_MODULE_20__.getRoot,
    useRoots: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useRoots,
    getRoots: _store_folder__WEBPACK_IMPORTED_MODULE_20__.getRoots,
    useSearchFolder: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useSearchFolder,
    useSearchFolders: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useSearchFolders,
    getSearchFolder: _store_folder__WEBPACK_IMPORTED_MODULE_20__.getSearchFolder,
    getSearchFolders: _store_folder__WEBPACK_IMPORTED_MODULE_20__.getSearchFolders,
    useRootByUser: _store_folder__WEBPACK_IMPORTED_MODULE_20__.useRootByUser,
    getRootByUser: _store_folder__WEBPACK_IMPORTED_MODULE_20__.getRootByUser,
    // BOARDS
    addBoard: (0,_store_boards__WEBPACK_IMPORTED_MODULE_26__.addBoard)(pkg.name),
    closeBoard: _store_boards__WEBPACK_IMPORTED_MODULE_26__.closeBoard,
    updateBoard: _store_boards__WEBPACK_IMPORTED_MODULE_26__.updateBoard,
    updateBoardContext: _store_boards__WEBPACK_IMPORTED_MODULE_26__.updateBoardContext,
    getBoardById: _store_boards__WEBPACK_IMPORTED_MODULE_26__.getBoardById,
    getBoardContextById: _store_boards__WEBPACK_IMPORTED_MODULE_26__.getBoardContextById,
    useBoard: _store_boards__WEBPACK_IMPORTED_MODULE_26__.useBoard,
    useBoardById: _store_boards__WEBPACK_IMPORTED_MODULE_26__.useBoardById,
    useBoardContextById: _store_boards__WEBPACK_IMPORTED_MODULE_26__.useBoardContextById,
    minimizeBoards: _store_boards__WEBPACK_IMPORTED_MODULE_26__.minimizeBoards,
    reopenBoards: _store_boards__WEBPACK_IMPORTED_MODULE_26__.reopenBoards,
    setCurrentBoard: _store_boards__WEBPACK_IMPORTED_MODULE_26__.setCurrentBoard,
    useBoardHooks: _store_boards__WEBPACK_IMPORTED_MODULE_26__.useBoardHooks,
    // HISTORY
    usePushHistoryCallback: _history_hooks__WEBPACK_IMPORTED_MODULE_18__.usePushHistoryCallback,
    useGoBackHistoryCallback: _history_hooks__WEBPACK_IMPORTED_MODULE_18__.useGoBackHistoryCallback,
    useReplaceHistoryCallback: _history_hooks__WEBPACK_IMPORTED_MODULE_18__.useReplaceHistoryCallback,
    useCurrentRoute: _history_hooks__WEBPACK_IMPORTED_MODULE_18__.useCurrentRoute,
    getCurrentRoute: _history_hooks__WEBPACK_IMPORTED_MODULE_18__.getCurrentRoute,
    pushHistory: _history_hooks__WEBPACK_IMPORTED_MODULE_18__.pushHistory,
    goBackHistory: _history_hooks__WEBPACK_IMPORTED_MODULE_18__.goBackHistory,
    replaceHistory: _history_hooks__WEBPACK_IMPORTED_MODULE_18__.replaceHistory,
    // TAGS
    createTag: _network_tags__WEBPACK_IMPORTED_MODULE_23__.createTag,
    renameTag: _network_tags__WEBPACK_IMPORTED_MODULE_23__.renameTag,
    changeTagColor: _network_tags__WEBPACK_IMPORTED_MODULE_23__.changeTagColor,
    deleteTag: _network_tags__WEBPACK_IMPORTED_MODULE_23__.deleteTag,
    // NOTIFICATION
    getNotificationManager: _notification_NotificationManager__WEBPACK_IMPORTED_MODULE_27__.getNotificationManager,
    // STUFF
    runSearch: _search_run_search__WEBPACK_IMPORTED_MODULE_24__.runSearch,
    useIsMobile: _shell_hooks_useIsMobile__WEBPACK_IMPORTED_MODULE_29__.useIsMobile,
    useLocalStorage: _shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_28__.useLocalStorage,
    getBridgedFunctions: function getBridgedFunctions() {
      var _useContextBridge$get = _store_context_bridge__WEBPACK_IMPORTED_MODULE_14__.useContextBridge.getState(),
        packageDependentFunctions = _useContextBridge$get.packageDependentFunctions,
        functions = _useContextBridge$get.functions;
      return _objectSpread(_objectSpread({}, functions), (0,lodash__WEBPACK_IMPORTED_MODULE_12__.reduce)(packageDependentFunctions, function (acc, f, name) {
        return _objectSpread(_objectSpread({}, acc), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, name, f(pkg.name)));
      }, {}));
    }
  };
};

/***/ }),

/***/ "./src/boot/app/app-loader-mounter.tsx":
/*!*********************************************!*\
  !*** ./src/boot/app/app-loader-mounter.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _app_context_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





var Mounter = function Mounter(_ref) {
  var children = _ref.children,
    appId = _ref.appId;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    key: appId,
    id: appId
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_app_context_provider__WEBPACK_IMPORTED_MODULE_3__["default"], {
    key: appId,
    pkg: appId
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, {
    fallback: ''
  }, children)));
};
var AppLoaderMounter = function AppLoaderMounter() {
  var entryPoints = (0,_store_app__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function (s) {
    return s.entryPoints;
  });
  var entries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.map)(entryPoints, function (Comp, appId) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Mounter, {
        key: appId,
        appId: appId
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Comp, null));
    });
  }, [entryPoints]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    "data-testid": "app-mounter",
    key: "app-mounter",
    hidden: true,
    style: {
      height: 0,
      overflow: 'hidden'
    }
  }, entries);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AppLoaderMounter);

/***/ }),

/***/ "./src/boot/app/app-loader-setters.ts":
/*!********************************************!*\
  !*** ./src/boot/app/app-loader-setters.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAppSetters": () => (/* binding */ getAppSetters)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _network_edit_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../network/edit-settings */ "./src/network/edit-settings.ts");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _store_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store/app/utils */ "./src/store/app/utils.tsx");
/* harmony import */ var _store_integrations_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store/integrations/store */ "./src/store/integrations/store.ts");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */
// The 'useXXX' functions actually return hooks
/* eslint-disable react-hooks/rules-of-hooks */






// eslint-disable-next-line @typescript-eslint/ban-types
var getAppSetters = function getAppSetters(pkg) {
  var appSetters = _store_app__WEBPACK_IMPORTED_MODULE_2__.useAppStore.getState().setters;
  var integrations = _store_integrations_store__WEBPACK_IMPORTED_MODULE_4__.useIntegrationsStore.getState();
  return {
    updatePrimaryBadge: appSetters.updatePrimaryBadge,
    updateUtilityBadge: appSetters.updateUtilityBadge,
    setAppContext: appSetters.setAppContext(pkg.name),
    addRoute: function addRoute(route) {
      return appSetters.addRoute((0,_store_app_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeRoute)(route, pkg));
    },
    setRouteVisibility: function setRouteVisibility(routeId, visible) {
      return appSetters.setRouteVisibility(routeId, visible);
    },
    removeRoute: function removeRoute(routeId) {
      return appSetters.removeRoute(routeId);
    },
    // add board
    addBoardView: function addBoardView(data) {
      return appSetters.addBoardView((0,_store_app_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeBoardView)(data, pkg));
    },
    // remove board
    removeBoardView: appSetters.removeBoardView,
    //
    // add settings
    addSettingsView: function addSettingsView(data) {
      return appSetters.addSettingsView((0,_store_app_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeSettingsView)(data, pkg));
    },
    // remove settings
    removeSettingsView: appSetters.removeSettingsView,
    //
    // add search
    addSearchView: function addSearchView(data) {
      return appSetters.addSearchView((0,_store_app_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeSearchView)(data, pkg));
    },
    // remove search
    removeSearchView: appSetters.removeSearchView,
    //
    // add utility
    addUtilityView: function addUtilityView(data) {
      return appSetters.addUtilityView((0,_store_app_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeUtilityView)(data, pkg));
    },
    // remove utility
    removeUtilityView: appSetters.removeUtilityView,
    //
    // add primaryAccessory
    addPrimaryAccessoryView: function addPrimaryAccessoryView(data) {
      return appSetters.addPrimaryAccessoryView((0,_store_app_utils__WEBPACK_IMPORTED_MODULE_3__.normalizePrimaryAccessoryView)(data, pkg));
    },
    // remove primaryAccessory
    removePrimaryAccessoryView: appSetters.removePrimaryAccessoryView,
    //
    // add secondaryAccessory
    addSecondaryAccessoryView: function addSecondaryAccessoryView(data) {
      return appSetters.addSecondaryAccessoryView((0,_store_app_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeSecondaryAccessoryView)(data, pkg));
    },
    // remove secondaryAccessory
    removeSecondaryAccessoryView: appSetters.removeSecondaryAccessoryView,
    registerFunctions: integrations.registerFunctions,
    removeFunctions: integrations.removeFunctions,
    registerActions: integrations.registerActions,
    removeActions: integrations.removeActions,
    registerComponents: integrations.registerComponents(pkg.name),
    removeComponents: integrations.removeComponents,
    /** @deprecated */
    editSettings: (0,_network_edit_settings__WEBPACK_IMPORTED_MODULE_1__.getEditSettingsForApp)(pkg.name)
  };
};

/***/ }),

/***/ "./src/boot/app/default-views.ts":
/*!***************************************!*\
  !*** ./src/boot/app/default-views.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "registerDefaultViews": () => (/* binding */ registerDefaultViews)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! immer */ "./node_modules/immer/dist/immer.esm.mjs");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _reporting_feedback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../reporting/feedback */ "./src/reporting/feedback.tsx");
/* harmony import */ var _search_search_app_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../search/search-app-view */ "./src/search/search-app-view.tsx");
/* harmony import */ var _settings_account_wrapper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../settings/account-wrapper */ "./src/settings/account-wrapper.tsx");
/* harmony import */ var _settings_general_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../settings/general-settings */ "./src/settings/general-settings.tsx");
/* harmony import */ var _settings_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../settings/general-settings-sub-sections */ "./src/settings/general-settings-sub-sections.ts");
/* harmony import */ var _settings_settings_app_view__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../settings/settings-app-view */ "./src/settings/settings-app-view.tsx");
/* harmony import */ var _settings_settings_sidebar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../settings/settings-sidebar */ "./src/settings/settings-sidebar.tsx");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../store/app */ "./src/store/app/index.ts");

/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */
/* eslint-disable no-param-reassign */











var settingsRoute = {
  route: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
  id: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
  app: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID
};
var settingsPrimaryBar = function settingsPrimaryBar(t) {
  return {
    id: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
    app: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
    route: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
    component: 'SettingsModOutline',
    position: 16,
    visible: true,
    label: t('settings.app', 'Settings'),
    badge: {
      show: false
    }
  };
};
var settingsSecondaryBar = {
  id: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
  app: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
  route: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
  component: _settings_settings_sidebar__WEBPACK_IMPORTED_MODULE_8__.SettingsSidebar
};
var settingsAppView = {
  id: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
  app: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
  route: _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID,
  component: _settings_settings_app_view__WEBPACK_IMPORTED_MODULE_7__.SettingsAppView
};
var settingsGeneralView = function settingsGeneralView(t) {
  return {
    id: 'general',
    route: 'general',
    app: _constants__WEBPACK_IMPORTED_MODULE_1__.SHELL_APP_ID,
    component: _settings_general_settings__WEBPACK_IMPORTED_MODULE_5__["default"],
    icon: 'SettingsModOutline',
    label: t('settings.general.general', 'General Settings'),
    position: 1,
    subSections: (0,_settings_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_6__.settingsSubSections)(t)
  };
};
var settingsAccountsView = function settingsAccountsView(t) {
  return {
    id: 'accounts',
    route: 'accounts',
    app: _constants__WEBPACK_IMPORTED_MODULE_1__.SHELL_APP_ID,
    component: _settings_account_wrapper__WEBPACK_IMPORTED_MODULE_4__["default"],
    icon: 'PersonOutline',
    label: t('settings.accounts', 'Accounts'),
    position: 1
  };
};
var searchRoute = {
  route: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID,
  id: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID,
  app: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID
};
var searchPrimaryBar = function searchPrimaryBar(t) {
  return {
    id: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID,
    app: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID,
    route: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID,
    component: 'SearchModOutline',
    position: 15,
    visible: true,
    label: t('search.app', 'Search'),
    badge: {
      show: false
    }
  };
};
var searchAppView = {
  id: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID,
  app: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID,
  route: _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID,
  component: _search_search_app_view__WEBPACK_IMPORTED_MODULE_3__.SearchAppView
};
var feedbackBoardView = {
  id: 'feedback',
  app: _constants__WEBPACK_IMPORTED_MODULE_1__.SHELL_APP_ID,
  component: _reporting_feedback__WEBPACK_IMPORTED_MODULE_2__["default"],
  route: 'feedback'
};
var registerDefaultViews = function registerDefaultViews(t) {
  _store_app__WEBPACK_IMPORTED_MODULE_9__.useAppStore.setState((0,immer__WEBPACK_IMPORTED_MODULE_10__["default"])(function (s) {
    var _s$routes;
    s.routes = (_s$routes = {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(_s$routes, _constants__WEBPACK_IMPORTED_MODULE_1__.SEARCH_APP_ID, searchRoute), (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(_s$routes, _constants__WEBPACK_IMPORTED_MODULE_1__.SETTINGS_APP_ID, settingsRoute), _s$routes);
    s.views.primaryBar = [searchPrimaryBar(t), settingsPrimaryBar(t)];
    s.views.secondaryBar = [settingsSecondaryBar];
    s.views.appView = [searchAppView, settingsAppView];
    s.views.settings = [settingsGeneralView(t), settingsAccountsView(t)];
    s.views.board = [feedbackBoardView];
  }));
};

/***/ }),

/***/ "./src/boot/app/load-app.ts":
/*!**********************************!*\
  !*** ./src/boot/app/load-app.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "_scripts": () => (/* binding */ _scripts),
/* harmony export */   "loadApp": () => (/* binding */ loadApp),
/* harmony export */   "unloadApps": () => (/* binding */ unloadApps)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _app_loader_functions__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./app-loader-functions */ "./src/boot/app/app-loader-functions.ts");
/* harmony import */ var _ui_extras_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ui-extras/spinner */ "./src/ui-extras/spinner.tsx");
/* harmony import */ var _ui_extras_app_link__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ui-extras/app-link */ "./src/ui-extras/app-link.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _app_loader_setters__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./app-loader-setters */ "./src/boot/app/app-loader-setters.ts");
/* harmony import */ var _reporting__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../reporting */ "./src/reporting/index.ts");
/* harmony import */ var _settings_components_settings_header__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../settings/components/settings-header */ "./src/settings/components/settings-header.tsx");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }













/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */











var _scripts = {};
var _scriptId = 0;
function loadApp(appPkg) {
  return new Promise(function (_resolve, _reject) {
    var resolved = false;
    var resolve = function resolve() {
      if (!resolved) {
        resolved = true;
        _resolve(appPkg);
      }
    };
    var reject = function reject(e) {
      if (!resolved) {
        resolved = true;
        _reject(e);
      }
    };
    try {
      if (window.__ZAPP_SHARED_LIBRARIES__ && window.__ZAPP_SHARED_LIBRARIES__['@zextras/carbonio-shell-ui']) {
        window.__ZAPP_SHARED_LIBRARIES__['@zextras/carbonio-shell-ui'][appPkg.name] = _objectSpread(_objectSpread(_objectSpread({
          report: (0,_reporting__WEBPACK_IMPORTED_MODULE_22__.report)(appPkg.name),
          AppLink: _ui_extras_app_link__WEBPACK_IMPORTED_MODULE_19__.AppLink,
          Spinner: _ui_extras_spinner__WEBPACK_IMPORTED_MODULE_18__.Spinner,
          SettingsHeader: _settings_components_settings_header__WEBPACK_IMPORTED_MODULE_23__["default"]
        }, (0,_app_loader_setters__WEBPACK_IMPORTED_MODULE_21__.getAppSetters)(appPkg)), (0,_app_loader_functions__WEBPACK_IMPORTED_MODULE_17__.getAppFunctions)(appPkg)), _constants__WEBPACK_IMPORTED_MODULE_20__);
      }
      window.__ZAPP_HMR_EXPORT__[appPkg.name] = function (appComponent) {
        _store_app__WEBPACK_IMPORTED_MODULE_16__.useAppStore.setState(function (state) {
          return {
            entryPoints: _objectSpread(_objectSpread({}, state.entryPoints), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, appPkg.name, /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_15__.memo)(appComponent)))
          };
        });
        console.info("%c loaded ".concat(appPkg.name), 'color: white; background: #539507;padding: 4px 8px 2px 4px; font-family: sans-serif; border-radius: 12px; width: 100%');
        resolve();
      };
      var script = document.createElement('script');
      script.setAttribute('type', 'text/javascript');
      script.setAttribute('data-pkg_name', appPkg.name);
      script.setAttribute('data-pkg_version', appPkg.version);
      script.setAttribute('data-is_app', 'true');
      script.setAttribute('src', "".concat(appPkg.js_entrypoint));
      document.body.appendChild(script);
      _scripts["".concat(appPkg.name, "-loader-").concat(_scriptId += 1)] = script;
    } catch (err) {
      console.error(err);
      reject(err);
    }
  });
}
function unloadApps() {
  return Promise.resolve().then(function () {
    (0,lodash__WEBPACK_IMPORTED_MODULE_14__.forOwn)(_scripts, function (script) {
      if (script.parentNode) script.parentNode.removeChild(script);
    });
  });
}

/***/ }),

/***/ "./src/boot/app/load-apps.ts":
/*!***********************************!*\
  !*** ./src/boot/app/load-apps.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadApps": () => (/* binding */ loadApps),
/* harmony export */   "unloadAllApps": () => (/* binding */ unloadAllApps)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.find.js */ "./node_modules/core-js/modules/es.array.find.js");
/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/esnext.promise.all-settled.js */ "./node_modules/core-js/modules/esnext.promise.all-settled.js");
/* harmony import */ var core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _reporting__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../reporting */ "./src/reporting/index.ts");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _load_app__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./load-app */ "./src/boot/app/load-app.ts");
/* harmony import */ var _shared_libraries__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./shared-libraries */ "./src/boot/app/shared-libraries.ts");
/* harmony import */ var _settings_components_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../settings/components/utils */ "./src/settings/components/utils.ts");








/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */










var getDateFnsLocale = function getDateFnsLocale(locale) {
  return __webpack_require__("./node_modules/date-fns/locale lazy recursive \\.[/\\\\](de%7Cen-US%7Ces%7Cfr%7Chi%7Cit%7Cja%7Cnl%7Cpl%7Cpt%7Cpt-BR%7Cro%7Cru%7Cth%7Ctr%7Cvi%7Czh-CN)[/\\\\]index\\.js$")("./".concat(locale, "/index.js"));
};
function loadApps(apps) {
  var _ref, _ref2, _settings$prefs, _settings$attrs;
  (0,_shared_libraries__WEBPACK_IMPORTED_MODULE_14__.injectSharedLibraries)();
  var appsToLoad = (0,lodash__WEBPACK_IMPORTED_MODULE_8__.filter)(apps, function (app) {
    if (app.name === _constants__WEBPACK_IMPORTED_MODULE_9__.SHELL_APP_ID) return false;
    if (app.attrKey && (0,_store_account__WEBPACK_IMPORTED_MODULE_11__.getUserSetting)('attrs', app.attrKey) === 'FALSE') return false;
    return true;
  });
  console.log('%cLOADING APPS', 'color: white; background: #2b73d2;padding: 4px 8px 2px 4px; font-family: sans-serif; border-radius: 12px; width: 100%');
  var _useAccountStore$getS = _store_account__WEBPACK_IMPORTED_MODULE_11__.useAccountStore.getState(),
    settings = _useAccountStore$getS.settings;
  var locale = (_ref = (_ref2 = settings === null || settings === void 0 ? void 0 : (_settings$prefs = settings.prefs) === null || _settings$prefs === void 0 ? void 0 : _settings$prefs.zimbraPrefLocale) !== null && _ref2 !== void 0 ? _ref2 : settings === null || settings === void 0 ? void 0 : (_settings$attrs = settings.attrs) === null || _settings$attrs === void 0 ? void 0 : _settings$attrs.zimbraLocale) !== null && _ref !== void 0 ? _ref : 'en';
  _store_i18n__WEBPACK_IMPORTED_MODULE_12__.useI18nStore.getState().actions.addI18n(appsToLoad, locale);
  var localeObj = (0,_settings_components_utils__WEBPACK_IMPORTED_MODULE_15__.localeList)((0,_store_i18n__WEBPACK_IMPORTED_MODULE_12__.getT)()).find(function (item) {
    return item.id === locale;
  });
  if (localeObj) {
    var localeDateFnsKey = localeObj.dateFnsLocale || localeObj.value;
    getDateFnsLocale(localeDateFnsKey).then(function (localeDateFns) {
      (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_16__.registerLocale)(localeDateFnsKey, localeDateFns);
      (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_16__.setDefaultLocale)(localeDateFnsKey);
    });
  }
  _reporting__WEBPACK_IMPORTED_MODULE_10__.useReporter.getState().setClients(appsToLoad);
  Promise.allSettled((0,lodash__WEBPACK_IMPORTED_MODULE_8__.map)(appsToLoad, function (app) {
    return (0,_load_app__WEBPACK_IMPORTED_MODULE_13__.loadApp)(app);
  }));
}
function unloadAllApps() {
  return (0,_load_app__WEBPACK_IMPORTED_MODULE_13__.unloadApps)();
}

/***/ }),

/***/ "./src/boot/app/shared-libraries.ts":
/*!******************************************!*\
  !*** ./src/boot/app/shared-libraries.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "injectSharedLibraries": () => (/* binding */ injectSharedLibraries)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @reduxjs/toolkit */ "./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _zextras_carbonio_ui_preview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-ui-preview */ "./node_modules/@zextras/carbonio-ui-preview/lib-esm/index.js");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */












function injectSharedLibraries() {
  if (!window.__ZAPP_SHARED_LIBRARIES__) {
    window.__ZAPP_SHARED_LIBRARIES__ = {
      react: (react__WEBPACK_IMPORTED_MODULE_0___default()),
      'react-dom': react_dom__WEBPACK_IMPORTED_MODULE_1__,
      'react-i18next': react_i18next__WEBPACK_IMPORTED_MODULE_4__,
      'react-redux': react_redux__WEBPACK_IMPORTED_MODULE_5__,
      lodash: lodash__WEBPACK_IMPORTED_MODULE_2__,
      'react-router-dom': react_router_dom__WEBPACK_IMPORTED_MODULE_7__,
      moment: moment__WEBPACK_IMPORTED_MODULE_3__,
      'styled-components': styled_components__WEBPACK_IMPORTED_MODULE_8__,
      '@reduxjs/toolkit': _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_9__,
      '@zextras/carbonio-shell-ui': {},
      '@zextras/carbonio-design-system': _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__,
      '@zextras/carbonio-ui-preview': _zextras_carbonio_ui_preview__WEBPACK_IMPORTED_MODULE_6__
    };
    window.__ZAPP_HMR_EXPORT__ = {};
  }
}

/***/ }),

/***/ "./src/boot/bootstrapper.tsx":
/*!***********************************!*\
  !*** ./src/boot/bootstrapper.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DefaultViewsRegister": () => (/* binding */ DefaultViewsRegister),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _shell_i18n_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shell-i18n-provider */ "./src/boot/shell-i18n-provider.tsx");
/* harmony import */ var _theme_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./theme-provider */ "./src/boot/theme-provider.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./loader */ "./src/boot/loader.tsx");
/* harmony import */ var _notification_NotificationPermissionChecker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../notification/NotificationPermissionChecker */ "./src/notification/NotificationPermissionChecker.tsx");
/* harmony import */ var _app_app_loader_mounter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app/app-loader-mounter */ "./src/boot/app/app-loader-mounter.tsx");
/* harmony import */ var _shell_shell_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../shell/shell-view */ "./src/shell/shell-view.tsx");
/* harmony import */ var _store_context_bridge__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../store/context-bridge */ "./src/store/context-bridge.ts");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _app_default_views__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./app/default-views */ "./src/boot/app/default-views.ts");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */















var ContextBridge = function ContextBridge() {
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useHistory)();
  var createSnackbar = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.useSnackbar)();
  var createModal = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.useModal)();
  (0,_store_context_bridge__WEBPACK_IMPORTED_MODULE_10__.useBridge)({
    functions: {
      getHistory: function getHistory() {
        return history;
      },
      createSnackbar: createSnackbar,
      createModal: createModal
    }
  });
  return null;
};
var StandaloneListener = function StandaloneListener() {
  var _useParams = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useParams)(),
    route = _useParams.route;
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    if (route) _store_app__WEBPACK_IMPORTED_MODULE_11__.useAppStore.setState({
      standalone: route
    });
  }, [route]);
  return null;
};
var DefaultViewsRegister = function DefaultViewsRegister() {
  var _useTranslation = (0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.useTranslation)(),
    _useTranslation2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useTranslation, 1),
    t = _useTranslation2[0];
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    (0,_app_default_views__WEBPACK_IMPORTED_MODULE_12__.registerDefaultViews)(t);
  }, [t]);
  return null;
};
var Bootstrapper = function Bootstrapper() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_theme_provider__WEBPACK_IMPORTED_MODULE_4__.ThemeProvider, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_shell_i18n_provider__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_15__.BrowserRouter, {
    basename: _constants__WEBPACK_IMPORTED_MODULE_5__.BASENAME
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.SnackbarManager, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.ModalManager, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_loader__WEBPACK_IMPORTED_MODULE_6__.Loader, null), _constants__WEBPACK_IMPORTED_MODULE_5__.IS_STANDALONE && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_13__.Switch, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_13__.Route, {
    path: '/:route'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StandaloneListener, null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(DefaultViewsRegister, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_notification_NotificationPermissionChecker__WEBPACK_IMPORTED_MODULE_7__.NotificationPermissionChecker, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ContextBridge, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_app_app_loader_mounter__WEBPACK_IMPORTED_MODULE_8__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_shell_shell_view__WEBPACK_IMPORTED_MODULE_9__["default"], null))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Bootstrapper);

/***/ }),

/***/ "./src/boot/loader.tsx":
/*!*****************************!*\
  !*** ./src/boot/loader.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Loader": () => (/* binding */ Loader),
/* harmony export */   "LoaderFailureModal": () => (/* binding */ LoaderFailureModal),
/* harmony export */   "isPromiseFulfilledResult": () => (/* binding */ isPromiseFulfilledResult),
/* harmony export */   "isPromiseRejectedResult": () => (/* binding */ isPromiseRejectedResult)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/esnext.promise.all-settled.js */ "./node_modules/core-js/modules/esnext.promise.all-settled.js");
/* harmony import */ var core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ "./node_modules/core-js/modules/es.object.values.js");
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _network_get_info__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../network/get-info */ "./src/network/get-info.ts");
/* harmony import */ var _app_load_apps__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./app/load-apps */ "./src/boot/app/load-apps.ts");
/* harmony import */ var _network_login_config__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../network/login-config */ "./src/network/login-config.ts");
/* harmony import */ var _network_go_to_login__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../network/go-to-login */ "./src/network/go-to-login.ts");
/* harmony import */ var _network_get_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../network/get-components */ "./src/network/get-components.ts");








/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */











function isPromiseRejectedResult(promiseSettledResult) {
  return promiseSettledResult.status === 'rejected';
}
function isPromiseFulfilledResult(promiseSettledResult) {
  return promiseSettledResult.status === 'fulfilled';
}
var LoaderFailureModal = function LoaderFailureModal(_ref) {
  var open = _ref.open,
    closeHandler = _ref.closeHandler;
  var _useTranslation = (0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.useTranslation)(),
    _useTranslation2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useTranslation, 1),
    t = _useTranslation2[0];
  var onConfirm = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function () {
    return window.location.reload();
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17__.Modal, {
    open: open,
    showCloseIcon: false,
    onSecondaryAction: _network_go_to_login__WEBPACK_IMPORTED_MODULE_15__.goToLogin,
    title: t('bootstrap.failure.modal.title', 'Something went wrong...'),
    confirmLabel: t('bootstrap.failure.modal.confirmButtonLabel', 'refresh'),
    secondaryActionLabel: t('bootstrap.failure.modal.secondaryButtonLabel', 'login page'),
    onConfirm: onConfirm,
    onClose: closeHandler
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17__.Padding, {
    all: "small"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17__.Text, {
    overflow: "break-word"
  }, t('bootstrap.failure.modal.body', 'Some technical issues occurred while processing your request. Please try to refresh the page or go back to the login page.'))));
};
var Loader = function Loader() {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    open = _useState2[0],
    setOpen = _useState2[1];
  var closeHandler = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function () {
    return setOpen(false);
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {
    Promise.allSettled([(0,_network_login_config__WEBPACK_IMPORTED_MODULE_14__.loginConfig)(), (0,_network_get_components__WEBPACK_IMPORTED_MODULE_16__.getComponents)(), (0,_network_get_info__WEBPACK_IMPORTED_MODULE_12__.getInfo)()]).then(function (promiseSettledResultArray) {
      var _promiseSettledResult = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(promiseSettledResultArray, 3),
        getComponentsPromiseSettledResult = _promiseSettledResult[1],
        getInfoPromiseSettledResult = _promiseSettledResult[2];
      var promiseRejectedResult = (0,lodash__WEBPACK_IMPORTED_MODULE_10__.find)([getComponentsPromiseSettledResult, getInfoPromiseSettledResult], isPromiseRejectedResult);
      if (promiseRejectedResult) {
        if (typeof promiseRejectedResult.reason === 'string') {
          console.error(promiseRejectedResult.reason);
        } else if ('message' in promiseRejectedResult.reason) {
          console.error(promiseRejectedResult.reason.message);
        }
        setOpen(true);
      }
      if (isPromiseFulfilledResult(getComponentsPromiseSettledResult)) {
        (0,_app_load_apps__WEBPACK_IMPORTED_MODULE_13__.loadApps)(Object.values(_store_app__WEBPACK_IMPORTED_MODULE_11__.useAppStore.getState().apps));
      }
    });
    return function () {
      (0,_app_load_apps__WEBPACK_IMPORTED_MODULE_13__.unloadAllApps)();
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(LoaderFailureModal, {
    open: open,
    closeHandler: closeHandler
  });
};

/***/ }),

/***/ "./src/boot/shell-i18n-provider.tsx":
/*!******************************************!*\
  !*** ./src/boot/shell-i18n-provider.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





var ShellI18nextProvider = function ShellI18nextProvider(_ref) {
  var children = _ref.children;
  var i18n = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_3__.useI18nStore)(function (s) {
    return s.instances[_constants__WEBPACK_IMPORTED_MODULE_2__.SHELL_APP_ID];
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.I18nextProvider, {
    i18n: i18n
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellI18nextProvider);

/***/ }),

/***/ "./src/boot/theme-provider.tsx":
/*!*************************************!*\
  !*** ./src/boot/theme-provider.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ThemeCallbacksContext": () => (/* binding */ ThemeCallbacksContext),
/* harmony export */   "ThemeProvider": () => (/* binding */ ThemeProvider)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var darkreader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! darkreader */ "./node_modules/darkreader/darkreader.js");
/* harmony import */ var darkreader__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(darkreader__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _settings_components_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../settings/components/utils */ "./src/settings/components/utils.ts");
/* harmony import */ var _use_get_primary_color__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./use-get-primary-color */ "./src/boot/use-get-primary-color.tsx");
/* harmony import */ var _shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../shell/hooks/useLocalStorage */ "./src/shell/hooks/useLocalStorage.ts");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }












/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */










(0,darkreader__WEBPACK_IMPORTED_MODULE_16__.setFetchMethod)(window.fetch);
var ThemeCallbacksContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_15__.createContext)({
  addExtension: function addExtension() {
    throw Error('Not implemented');
  },
  setDarkReaderState: function setDarkReaderState() {
    throw Error('not implemented');
  }
});
var paletteExtension = function paletteExtension() {
  var customTheme = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return function (theme) {
    return _objectSpread(_objectSpread(_objectSpread({}, theme), customTheme), {}, {
      palette: _objectSpread(_objectSpread(_objectSpread({}, theme.palette), customTheme.palette), {}, {
        shared: {
          regular: '#FFB74D',
          hover: '#FFA21A',
          active: '#FFA21A',
          focus: '#FF9800',
          disabled: '#FFD699'
        },
        linked: {
          regular: '#AB47BC',
          hover: '#8B3899',
          active: '#8B3899',
          focus: '#7A3187',
          disabled: '#DDB4E4'
        }
      })
    });
  };
};
var iconExtension = function iconExtension(theme) {
  return _objectSpread(_objectSpread({}, theme), {}, {
    icons: _objectSpread(_objectSpread({}, theme.icons), {}, {
      Shared: theme.icons.ArrowCircleRight,
      Linked: theme.icons.ArrowCircleLeft
    })
  });
};
var globalCursorsExtension = function globalCursorsExtension(theme) {
  return _objectSpread(_objectSpread({}, theme), {}, {
    globalCursors: [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(theme.globalCursors || []), ['ns-resize', 'ew-resize', 'nesw-resize', 'nwse-resize', 'move'])
  });
};
var GlobalStyle = (0,styled_components__WEBPACK_IMPORTED_MODULE_22__.createGlobalStyle)(["html{font-size:", ";}", " .no-active-background:active{background-color:inherit;}"], function (_ref) {
  var baseFontSize = _ref.baseFontSize;
  return "".concat(baseFontSize, "%");
}, function (_ref2) {
  var theme = _ref2.theme;
  return (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(theme.globalCursors, function (cursor) {
    return (0,styled_components__WEBPACK_IMPORTED_MODULE_22__.css)([".global-cursor-", " *{cursor:", " !important;}"], cursor, cursor);
  });
});
var ThemeProvider = function ThemeProvider(_ref3) {
  var children = _ref3.children;
  var _useLocalStorage = (0,_shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_21__.useLocalStorage)(_constants__WEBPACK_IMPORTED_MODULE_18__.LOCAL_STORAGE_SETTINGS_KEY, {}),
    _useLocalStorage2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useLocalStorage, 1),
    localStorageSettings = _useLocalStorage2[0];
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)({}),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    extensions = _useState2[0],
    setExtensions = _useState2[1];
  var primaryColor = (0,_use_get_primary_color__WEBPACK_IMPORTED_MODULE_20__.useGetPrimaryColor)();
  (0,react__WEBPACK_IMPORTED_MODULE_15__.useLayoutEffect)(function () {
    var customThemePalette = primaryColor ? {
      primary: (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.generateColorSet)({
        regular: primaryColor
      })
    } : {};
    setExtensions(function (extension) {
      return _objectSpread(_objectSpread({}, extension), {}, {
        palette: paletteExtension({
          palette: customThemePalette
        }),
        icons: iconExtension,
        globalCursors: globalCursorsExtension
      });
    });
  }, [primaryColor]);
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)('disabled'),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
    darkReaderState = _useState4[0],
    setDarkReaderState = _useState4[1];
  (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {
    switch (darkReaderState) {
      case 'disabled':
        (0,darkreader__WEBPACK_IMPORTED_MODULE_16__.auto)(false);
        (0,darkreader__WEBPACK_IMPORTED_MODULE_16__.disable)();
        break;
      case 'enabled':
        (0,darkreader__WEBPACK_IMPORTED_MODULE_16__.auto)(false);
        (0,darkreader__WEBPACK_IMPORTED_MODULE_16__.enable)({
          sepia: -50
        }, _constants__WEBPACK_IMPORTED_MODULE_18__.darkReaderDynamicThemeFixes);
        break;
      case 'auto':
      default:
        (0,darkreader__WEBPACK_IMPORTED_MODULE_16__.auto)({
          sepia: -50
        }, _constants__WEBPACK_IMPORTED_MODULE_18__.darkReaderDynamicThemeFixes);
        break;
    }
  }, [darkReaderState]);
  var aggregatedExtensions = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (theme) {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_17__.reduce)(extensions, function (themeAccumulator, themeExtensionFn) {
      if (themeExtensionFn) {
        return themeExtensionFn(themeAccumulator);
      }
      return themeAccumulator;
    }, theme);
  }, [extensions]);
  var addExtension = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (newExtension, id) {
    setExtensions(function (ext) {
      return _objectSpread(_objectSpread({}, ext), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])({}, id, newExtension));
    });
  }, []);
  var baseFontSize = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {
    var savedScalingValueSetting = localStorageSettings['settings.appearance_setting.scaling'];
    if (savedScalingValueSetting !== undefined) {
      return savedScalingValueSetting;
    }
    return (0,_settings_components_utils__WEBPACK_IMPORTED_MODULE_19__.getAutoScalingFontSize)();
  }, [localStorageSettings]);
  var themeCallbacksContextValue = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {
    return {
      addExtension: addExtension,
      setDarkReaderState: setDarkReaderState
    };
  }, [addExtension]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.ThemeProvider, {
    extension: aggregatedExtensions
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(ThemeCallbacksContext.Provider, {
    value: themeCallbacksContextValue
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(GlobalStyle, {
    baseFontSize: baseFontSize
  }), children));
};

/***/ }),

/***/ "./src/boot/use-get-primary-color.tsx":
/*!********************************************!*\
  !*** ./src/boot/use-get-primary-color.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useGetPrimaryColor": () => (/* binding */ useGetPrimaryColor)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_login_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../store/login/store */ "./src/store/login/store.ts");
/* harmony import */ var _dark_mode_use_dark_mode__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../dark-mode/use-dark-mode */ "./src/dark-mode/use-dark-mode.ts");
/* harmony import */ var _shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../shell/hooks/useLocalStorage */ "./src/shell/hooks/useLocalStorage.ts");












function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







function useGetPrimaryColor() {
  var _useLocalStorage = (0,_shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_17__.useLocalStorage)(_constants__WEBPACK_IMPORTED_MODULE_14__.LOCAL_STORAGE_LAST_PRIMARY_KEY, undefined),
    _useLocalStorage2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["default"])(_useLocalStorage, 2),
    localStorageLastPrimary = _useLocalStorage2[0],
    setLocalStorageLastPrimary = _useLocalStorage2[1];
  var _useLoginConfigStore = (0,_store_login_store__WEBPACK_IMPORTED_MODULE_15__.useLoginConfigStore)(),
    carbonioWebUiPrimaryColor = _useLoginConfigStore.carbonioWebUiPrimaryColor,
    carbonioWebUiDarkPrimaryColor = _useLoginConfigStore.carbonioWebUiDarkPrimaryColor;
  var _useDarkMode = (0,_dark_mode_use_dark_mode__WEBPACK_IMPORTED_MODULE_16__.useDarkMode)(),
    darkModeEnabled = _useDarkMode.darkModeEnabled,
    darkReaderStatus = _useDarkMode.darkReaderStatus;
  var theme = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_18__.useTheme)();
  var primaryColor = (0,react__WEBPACK_IMPORTED_MODULE_12__.useMemo)(function () {
    if (darkReaderStatus !== undefined) {
      if (carbonioWebUiPrimaryColor || carbonioWebUiDarkPrimaryColor) {
        if (darkModeEnabled) {
          return carbonioWebUiDarkPrimaryColor || carbonioWebUiPrimaryColor;
        }
        return carbonioWebUiPrimaryColor || carbonioWebUiDarkPrimaryColor;
      }
    }
    if (localStorageLastPrimary && (0,lodash__WEBPACK_IMPORTED_MODULE_13__.size)(localStorageLastPrimary) > 0) {
      return darkModeEnabled && (localStorageLastPrimary.dark || localStorageLastPrimary.light) || localStorageLastPrimary.light || localStorageLastPrimary.dark;
    }
    if (theme) {
      return theme.palette.primary.regular;
    }
    return undefined;
  }, [carbonioWebUiDarkPrimaryColor, carbonioWebUiPrimaryColor, darkModeEnabled, darkReaderStatus, localStorageLastPrimary, theme]);
  (0,react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(function () {
    if (darkReaderStatus !== undefined) {
      setLocalStorageLastPrimary(function (prevState) {
        return _objectSpread(_objectSpread({}, prevState), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])({}, darkModeEnabled ? 'dark' : 'light', primaryColor));
      });
    }
  }, [darkModeEnabled, darkReaderStatus, primaryColor, setLocalStorageLastPrimary]);
  return primaryColor;
}

/***/ }),

/***/ "./src/constants/index.ts":
/*!********************************!*\
  !*** ./src/constants/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ACCOUNTS_APP_ID": () => (/* binding */ ACCOUNTS_APP_ID),
/* harmony export */   "ACTION_TYPES": () => (/* binding */ ACTION_TYPES),
/* harmony export */   "BASENAME": () => (/* binding */ BASENAME),
/* harmony export */   "BASE_FONT_SIZE": () => (/* binding */ BASE_FONT_SIZE),
/* harmony export */   "BOARD_CONTAINER_ZINDEX": () => (/* binding */ BOARD_CONTAINER_ZINDEX),
/* harmony export */   "BOARD_HEADER_HEIGHT": () => (/* binding */ BOARD_HEADER_HEIGHT),
/* harmony export */   "BOARD_MIN_VISIBILITY": () => (/* binding */ BOARD_MIN_VISIBILITY),
/* harmony export */   "BOARD_TAB_WIDTH": () => (/* binding */ BOARD_TAB_WIDTH),
/* harmony export */   "DARK_READER_PROP_KEY": () => (/* binding */ DARK_READER_PROP_KEY),
/* harmony export */   "DARK_READER_VALUES": () => (/* binding */ DARK_READER_VALUES),
/* harmony export */   "EMAIL_VALIDATION_REGEX": () => (/* binding */ EMAIL_VALIDATION_REGEX),
/* harmony export */   "FOLDERS": () => (/* binding */ FOLDERS),
/* harmony export */   "FOLDER_VIEW": () => (/* binding */ FOLDER_VIEW),
/* harmony export */   "HEADER_BAR_HEIGHT": () => (/* binding */ HEADER_BAR_HEIGHT),
/* harmony export */   "IS_STANDALONE": () => (/* binding */ IS_STANDALONE),
/* harmony export */   "LOCAL_STORAGE_BOARD_SIZE": () => (/* binding */ LOCAL_STORAGE_BOARD_SIZE),
/* harmony export */   "LOCAL_STORAGE_LAST_PRIMARY_KEY": () => (/* binding */ LOCAL_STORAGE_LAST_PRIMARY_KEY),
/* harmony export */   "LOCAL_STORAGE_SEARCH_KEY": () => (/* binding */ LOCAL_STORAGE_SEARCH_KEY),
/* harmony export */   "LOCAL_STORAGE_SETTINGS_KEY": () => (/* binding */ LOCAL_STORAGE_SETTINGS_KEY),
/* harmony export */   "LOGIN_V3_CONFIG_PATH": () => (/* binding */ LOGIN_V3_CONFIG_PATH),
/* harmony export */   "PRIMARY_BAR_WIDTH": () => (/* binding */ PRIMARY_BAR_WIDTH),
/* harmony export */   "ROOT_NAME": () => (/* binding */ ROOT_NAME),
/* harmony export */   "ResultLabelType": () => (/* binding */ ResultLabelType),
/* harmony export */   "SCALING_LIMIT": () => (/* binding */ SCALING_LIMIT),
/* harmony export */   "SCALING_OPTIONS": () => (/* binding */ SCALING_OPTIONS),
/* harmony export */   "SEARCH_APP_ID": () => (/* binding */ SEARCH_APP_ID),
/* harmony export */   "SENTRY_FEEDBACK_DNS": () => (/* binding */ SENTRY_FEEDBACK_DNS),
/* harmony export */   "SENTRY_SHELL_DSN": () => (/* binding */ SENTRY_SHELL_DSN),
/* harmony export */   "SETTINGS_APP_ID": () => (/* binding */ SETTINGS_APP_ID),
/* harmony export */   "SHELL_APP_ID": () => (/* binding */ SHELL_APP_ID),
/* harmony export */   "ZIMBRA_STANDARD_COLORS": () => (/* binding */ ZIMBRA_STANDARD_COLORS),
/* harmony export */   "darkReaderDynamicThemeFixes": () => (/* binding */ darkReaderDynamicThemeFixes)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.string.starts-with.js */ "./node_modules/core-js/modules/es.string.starts-with.js");
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_0__);

/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

/*
	reference: https://zextras.atlassian.net/wiki/spaces/IRIS/pages/223215854/UI+Guidelines+and+theming
*/
var ZIMBRA_STANDARD_COLORS = [{
  zValue: 0,
  hex: '#000000',
  zLabel: 'black'
}, {
  zValue: 1,
  hex: '#2b73d2',
  zLabel: 'blue'
}, {
  zValue: 2,
  hex: '#29B6F6',
  zLabel: 'cyan'
}, {
  zValue: 3,
  hex: '#66BB6A',
  zLabel: 'green'
}, {
  zValue: 4,
  hex: '#7e57c2',
  zLabel: 'purple'
}, {
  zValue: 5,
  hex: '#ef5350',
  zLabel: 'red'
}, {
  zValue: 6,
  hex: '#ffc107',
  zLabel: 'yellow'
}, {
  zValue: 7,
  hex: '#edaeab',
  zLabel: 'pink'
}, {
  zValue: 8,
  hex: '#828282',
  zLabel: 'gray'
}, {
  zValue: 9,
  hex: '#FF7043',
  zLabel: 'orange'
}];
var FOLDERS = {
  USER_ROOT: '1',
  INBOX: '2',
  TRASH: '3',
  SPAM: '4',
  SENT: '5',
  DRAFTS: '6',
  CONTACTS: '7',
  TAGS: '8',
  CONVERSATIONS: '9',
  CALENDAR: '10',
  ROOT: '11',
  NOTEBOOK: '12',
  // no longer created in new mailboxes since Helix (bug 39647).  old mailboxes may still contain a system folder with id 12
  AUTO_CONTACTS: '13',
  IM_LOGS: '14',
  TASKS: '15',
  BRIEFCASE: '16',
  LAST_SYSTEM_FOLDER_POSITION: '16.1'
};
var SHELL_APP_ID = 'carbonio-shell-ui';
var SETTINGS_APP_ID = 'settings';
var ACCOUNTS_APP_ID = 'accounts';
var SEARCH_APP_ID = 'search';
var ACTION_TYPES = {
  CONVERSATION: 'conversation',
  CONVERSATION_lIST: 'conversation_list',
  MESSAGE: 'message',
  MESSAGE_lIST: 'message_list',
  CONTACT: 'contact',
  CONTACT_lIST: 'contact_list',
  INVITE: 'invite',
  INVITE_lIST: 'invite_list',
  APPOINTMENT: 'appointment',
  APPOINTMENT_lIST: 'appointment_list',
  FOLDER: 'folder',
  FOLDER_lIST: 'folder_list',
  CALENDAR: 'calendar',
  CALENDAR_lIST: 'calendar_list',
  NEW: 'new'
};
var darkReaderDynamicThemeFixes = {
  ignoreImageAnalysis: ['.no-dr-invert *'],
  invert: [],
  css: "\n\t\t.tox, .force-white-bg, .tox-swatches-menu, .tox .tox-edit-area__iframe {\n\t\t\tbackground-color: #fff !important;\n\t\t\tbackground: #fff !important;\n\t\t}\n\t",
  ignoreInlineStyle: ['.tox-menu *'],
  disableStyleSheetsProxy: false
};
var base = '/carbonio/';
var standaloneBase = "".concat(base, "standalone");
var IS_STANDALONE = window.location.pathname.startsWith(standaloneBase);
var BASENAME = IS_STANDALONE ? standaloneBase : base;
var EMAIL_VALIDATION_REGEX =
// eslint-disable-next-line @typescript-eslint/no-unused-vars, max-len, no-control-regex
/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;
var ROOT_NAME = 'USER_ROOT';
var DARK_READER_VALUES = ['auto', 'enabled', 'disabled'];
var FOLDER_VIEW = {
  search_folder: 'search folder',
  tag: 'tag',
  conversation: 'conversation',
  message: 'message',
  contact: 'contact',
  document: 'document',
  appointment: 'appointment',
  virtual_conversation: 'virtual conversation',
  remote_folder: 'remote folder',
  wiki: 'wiki',
  task: 'task',
  chat: 'chat'
};
var LOCAL_STORAGE_SETTINGS_KEY = 'settings';
var LOCAL_STORAGE_LAST_PRIMARY_KEY = 'config';
var LOCAL_STORAGE_SEARCH_KEY = 'search_suggestions';
var LOCAL_STORAGE_BOARD_SIZE = 'board_size';
var SCALING_OPTIONS = [{
  value: 75,
  label: 'xs'
}, {
  value: 87.5,
  label: 's'
}, {
  value: 100,
  label: 'm'
}, {
  value: 112.5,
  label: 'l'
}, {
  value: 125,
  label: 'xl'
}];
var BASE_FONT_SIZE = 100;
var SCALING_LIMIT = {
  WIDTH: 1400,
  HEIGHT: 900,
  DPR: 2 // device pixel ratio
};

var LOGIN_V3_CONFIG_PATH = '/zx/login/v3/config';
var DARK_READER_PROP_KEY = 'zappDarkreaderMode';
var SENTRY_SHELL_DSN = 'https://0ce2448c05b94f0182c47ae52c7ff52c@feedback.zextras.tools/6';
var SENTRY_FEEDBACK_DNS = 'https://1b6b3e2bbdc64a73bf45c72b725c56b4@feedback.zextras.tools/8';
var ResultLabelType = /*#__PURE__*/function (ResultLabelType) {
  ResultLabelType["NORMAL"] = "normal";
  ResultLabelType["WARNING"] = "warning";
  ResultLabelType["ERROR"] = "error";
  return ResultLabelType;
}({});
var HEADER_BAR_HEIGHT = '3.75rem';
var PRIMARY_BAR_WIDTH = '3.0625rem';
var BOARD_HEADER_HEIGHT = '3rem';
var BOARD_TAB_WIDTH = 'calc(3rem + 15ch)';
var BOARD_CONTAINER_ZINDEX = 10;
var BOARD_MIN_VISIBILITY = {
  top: 50,
  left: 30
};

/***/ }),

/***/ "./src/dark-mode/use-dark-mode.ts":
/*!****************************************!*\
  !*** ./src/dark-mode/use-dark-mode.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useDarkMode": () => (/* binding */ useDarkMode)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _use_dark_reader_result_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-dark-reader-result-value */ "./src/dark-mode/use-dark-reader-result-value.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./src/dark-mode/utils.ts");

/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var useDarkMode = function useDarkMode() {
  var darkReaderResultValue = (0,_use_dark_reader_result_value__WEBPACK_IMPORTED_MODULE_2__.useDarkReaderResultValue)();
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    darkModeEnabled = _useState2[0],
    setDarkModeEnabled = _useState2[1];
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    if (darkReaderResultValue) {
      setDarkModeEnabled(darkReaderResultValue === 'auto' && (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getPrefersColorSchemeDarkMedia)().matches || darkReaderResultValue === 'enabled');
    }
  }, [darkReaderResultValue]);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    var setCallback = function setCallback(event) {
      setDarkModeEnabled(event.matches);
    };
    (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getPrefersColorSchemeDarkMedia)().addEventListener('change', setCallback);
    return function () {
      (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getPrefersColorSchemeDarkMedia)().removeEventListener('change', setCallback);
    };
  }, []);
  return {
    darkModeEnabled: darkModeEnabled,
    darkReaderStatus: darkReaderResultValue
  };
};

/***/ }),

/***/ "./src/dark-mode/use-dark-reader-result-value.ts":
/*!*******************************************************!*\
  !*** ./src/dark-mode/use-dark-reader-result-value.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isDarkReaderPropValues": () => (/* binding */ isDarkReaderPropValues),
/* harmony export */   "isZappDarkreaderModeZimletProp": () => (/* binding */ isZappDarkreaderModeZimletProp),
/* harmony export */   "useDarkReaderResultValue": () => (/* binding */ useDarkReaderResultValue)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _store_login_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../store/login/store */ "./src/store/login/store.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");



/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






function isZappDarkreaderModeZimletProp(prop) {
  return prop.name === _constants__WEBPACK_IMPORTED_MODULE_7__.DARK_READER_PROP_KEY && prop.zimlet === _constants__WEBPACK_IMPORTED_MODULE_7__.SHELL_APP_ID;
}
function isDarkReaderPropValues(maybeDarkReaderPropValue) {
  return typeof maybeDarkReaderPropValue === 'string' && _constants__WEBPACK_IMPORTED_MODULE_7__.DARK_READER_VALUES.includes(maybeDarkReaderPropValue);
}

// return the final calculated value between ZappDarkreaderModeZimletProp value and carbonioWebUiDarkMode config
function useDarkReaderResultValue() {
  var settings = (0,_store_account__WEBPACK_IMPORTED_MODULE_5__.useUserSettings)();
  var _useLoginConfigStore = (0,_store_login_store__WEBPACK_IMPORTED_MODULE_6__.useLoginConfigStore)(),
    carbonioWebUiDarkMode = _useLoginConfigStore.carbonioWebUiDarkMode;
  var settingReceived = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_4__.size)(settings.prefs) > 0 || (0,lodash__WEBPACK_IMPORTED_MODULE_4__.size)(settings.attrs) > 0 || (0,lodash__WEBPACK_IMPORTED_MODULE_4__.size)(settings.props) > 0;
  }, [settings]);
  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    if (settingReceived) {
      var _find;
      var result = (_find = (0,lodash__WEBPACK_IMPORTED_MODULE_4__.find)(settings.props, function (value) {
        return isZappDarkreaderModeZimletProp(value);
      })) === null || _find === void 0 ? void 0 : _find._content;
      return result || carbonioWebUiDarkMode && 'enabled' || 'disabled';
    }
    return undefined;
  }, [settingReceived, settings, carbonioWebUiDarkMode]);
}

/***/ }),

/***/ "./src/dark-mode/utils.ts":
/*!********************************!*\
  !*** ./src/dark-mode/utils.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPrefersColorSchemeDarkMedia": () => (/* binding */ getPrefersColorSchemeDarkMedia)
/* harmony export */ });
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

var getPrefersColorSchemeDarkMedia = function getPrefersColorSchemeDarkMedia() {
  return window.matchMedia('(prefers-color-scheme: dark)');
};

/***/ }),

/***/ "./src/history/hooks.ts":
/*!******************************!*\
  !*** ./src/history/hooks.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCurrentRoute": () => (/* binding */ getCurrentRoute),
/* harmony export */   "goBackHistory": () => (/* binding */ goBackHistory),
/* harmony export */   "parseParams": () => (/* binding */ parseParams),
/* harmony export */   "pushHistory": () => (/* binding */ pushHistory),
/* harmony export */   "replaceHistory": () => (/* binding */ replaceHistory),
/* harmony export */   "useCurrentRoute": () => (/* binding */ useCurrentRoute),
/* harmony export */   "useGoBackHistoryCallback": () => (/* binding */ useGoBackHistoryCallback),
/* harmony export */   "usePushHistoryCallback": () => (/* binding */ usePushHistoryCallback),
/* harmony export */   "useReplaceHistoryCallback": () => (/* binding */ useReplaceHistoryCallback)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "./node_modules/core-js/modules/es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _search_search_store__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../search/search-store */ "./src/search/search-store.tsx");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _store_context_bridge__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../store/context-bridge */ "./src/store/context-bridge.ts");















function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */








var useCurrentRoute = function useCurrentRoute() {
  var location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_21__.useLocation)();
  var routes = (0,_store_app__WEBPACK_IMPORTED_MODULE_19__.useRoutes)();
  return (0,react__WEBPACK_IMPORTED_MODULE_16__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_15__.find)(routes, function (_ref) {
      var route = _ref.route;
      return (0,lodash__WEBPACK_IMPORTED_MODULE_15__.startsWith)((0,lodash__WEBPACK_IMPORTED_MODULE_15__.trim)(location.pathname, '/'), route);
    });
  }, [location.pathname, routes]);
};
var getCurrentRoute = function getCurrentRoute() {
  var _useContextBridge$get, _useContextBridge$get2;
  var history = (_useContextBridge$get = (_useContextBridge$get2 = _store_context_bridge__WEBPACK_IMPORTED_MODULE_20__.useContextBridge.getState().functions).getHistory) === null || _useContextBridge$get === void 0 ? void 0 : _useContextBridge$get.call(_useContextBridge$get2);
  var routes = (0,_store_app__WEBPACK_IMPORTED_MODULE_19__.getRoutes)();
  var route = (0,lodash__WEBPACK_IMPORTED_MODULE_15__.find)(routes, function (r) {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_15__.startsWith)((0,lodash__WEBPACK_IMPORTED_MODULE_15__.trim)(history.location.pathname, '/'), r.route);
  });
  if ((route === null || route === void 0 ? void 0 : route.route) === _constants__WEBPACK_IMPORTED_MODULE_17__.SEARCH_APP_ID) {
    return _objectSpread(_objectSpread({}, route), {}, {
      route: "".concat(route.route, "/").concat(_search_search_store__WEBPACK_IMPORTED_MODULE_18__.useSearchStore.getState().module)
    });
  }
  return route;
};
var parseParams = function parseParams(params) {
  if (typeof params === 'string') {
    var _getCurrentRoute;
    return (0,lodash__WEBPACK_IMPORTED_MODULE_15__.replace)("/".concat((_getCurrentRoute = getCurrentRoute()) === null || _getCurrentRoute === void 0 ? void 0 : _getCurrentRoute.route, "/").concat(params), '//', '/');
  }
  var routeToApply = params.route ? (0,lodash__WEBPACK_IMPORTED_MODULE_15__.find)((0,_store_app__WEBPACK_IMPORTED_MODULE_19__.getRoutes)(), function (r) {
    return r.id === params.route || r.route === params.route;
  }) : getCurrentRoute();
  return typeof params.path === 'string' ? (0,lodash__WEBPACK_IMPORTED_MODULE_15__.replace)("/".concat(routeToApply === null || routeToApply === void 0 ? void 0 : routeToApply.route, "/").concat(params.path), '//', '/') : {
    search: params.path.search,
    hash: params.path.hash,
    pathname: (0,lodash__WEBPACK_IMPORTED_MODULE_15__.replace)("/".concat(routeToApply === null || routeToApply === void 0 ? void 0 : routeToApply.route, "/").concat(params.path.pathname), '//', '/')
  };
};
var usePushHistoryCallback = function usePushHistoryCallback() {
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_21__.useHistory)();
  var cb = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (params) {
    return history.push(parseParams(params));
  }, [history]);
  return cb;
};
var useReplaceHistoryCallback = function useReplaceHistoryCallback() {
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_21__.useHistory)();
  var cb = (0,react__WEBPACK_IMPORTED_MODULE_16__.useCallback)(function (params) {
    return history.replace(parseParams(params));
  }, [history]);
  return cb;
};
function useGoBackHistoryCallback() {
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_21__.useHistory)();
  return history.goBack;
}
var pushHistory = function pushHistory(params) {
  var _useContextBridge$get3, _useContextBridge$get4;
  var history = (_useContextBridge$get3 = (_useContextBridge$get4 = _store_context_bridge__WEBPACK_IMPORTED_MODULE_20__.useContextBridge.getState().functions).getHistory) === null || _useContextBridge$get3 === void 0 ? void 0 : _useContextBridge$get3.call(_useContextBridge$get4);
  history.push(parseParams(params));
};
var replaceHistory = function replaceHistory(params) {
  var _useContextBridge$get5, _useContextBridge$get6;
  var history = (_useContextBridge$get5 = (_useContextBridge$get6 = _store_context_bridge__WEBPACK_IMPORTED_MODULE_20__.useContextBridge.getState().functions).getHistory) === null || _useContextBridge$get5 === void 0 ? void 0 : _useContextBridge$get5.call(_useContextBridge$get6);
  history.replace(parseParams(params));
};
var goBackHistory = function goBackHistory() {
  var _useContextBridge$get7, _useContextBridge$get8;
  return (_useContextBridge$get7 = (_useContextBridge$get8 = _store_context_bridge__WEBPACK_IMPORTED_MODULE_20__.useContextBridge.getState().functions).getHistory) === null || _useContextBridge$get7 === void 0 ? void 0 : _useContextBridge$get7.call(_useContextBridge$get8).goBack();
};

/***/ }),

/***/ "./src/network/edit-settings.ts":
/*!**************************************!*\
  !*** ./src/network/edit-settings.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "editSettings": () => (/* binding */ editSettings),
/* harmony export */   "getEditSettingsForApp": () => (/* binding */ getEditSettingsForApp)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ "./node_modules/core-js/modules/es.array.join.js");
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _fetch__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./fetch */ "./src/network/fetch.ts");


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }















/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





var editSettings = function editSettings(mods) {
  var _mods$identity, _mods$identity2, _mods$identity3;
  var appId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _constants__WEBPACK_IMPORTED_MODULE_18__.SHELL_APP_ID;
  return (0,_fetch__WEBPACK_IMPORTED_MODULE_20__.getXmlSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_18__.SHELL_APP_ID)('Batch', "<BatchRequest xmlns=\"urn:zimbra\" onerror=\"stop\">".concat(mods.props ? "<ModifyPropertiesRequest xmlns=\"urn:zimbraAccount\">".concat((0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.props, function (prop, key) {
    var _prop$app;
    return "<prop name=\"".concat(key, "\" zimlet=\"").concat((_prop$app = prop.app) !== null && _prop$app !== void 0 ? _prop$app : appId, "\">").concat(prop.value, "</prop>");
  }), "</ModifyPropertiesRequest>") : '').concat(mods.prefs ? "<ModifyPrefsRequest xmlns=\"urn:zimbraAccount\">".concat((0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.prefs, function (pref, key) {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_17__.isArray)(pref) ? (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(pref, function (p) {
      return "<pref name=\"".concat(key, "\">").concat(p, "</pref>");
    }).join('') : "<pref name=\"".concat(key, "\">").concat(pref, "</pref>");
  }).join(''), "</ModifyPrefsRequest>") : '').concat((_mods$identity = mods.identity) !== null && _mods$identity !== void 0 && _mods$identity.modifyList ? (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.identity.modifyList, function (item) {
    return "<ModifyIdentityRequest xmlns=\"urn:zimbraAccount\" requestId=\"0\"><identity id=\"".concat(item.id, "\">").concat((0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(item.prefs, function (value, key) {
      return "<a name=\"".concat(key, "\">").concat(value, "</a>");
    }).join(''), "</identity></ModifyIdentityRequest>");
  }).join('') : '').concat((_mods$identity2 = mods.identity) !== null && _mods$identity2 !== void 0 && _mods$identity2.deleteList ? (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.identity.deleteList, function (item) {
    return "<DeleteIdentityRequest xmlns=\"urn:zimbraAccount\" requestId=\"0\"><identity id=\"".concat(item, "\"/></DeleteIdentityRequest>");
  }).join('') : '').concat((_mods$identity3 = mods.identity) !== null && _mods$identity3 !== void 0 && _mods$identity3.createList ? (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.identity.createList, function (item, index) {
    return "<CreateIdentityRequest xmlns=\"urn:zimbraAccount\" requestId=\"".concat(index, "\"><identity name=\"").concat(item.prefs.zimbraPrefIdentityName, "\"><a name=\"zimbraPrefIdentityName\">").concat(item.prefs.zimbraPrefIdentityName, "</a><a name=\"zimbraPrefFromDisplay\">").concat(item.prefs.zimbraPrefFromDisplay, "</a><a name=\"zimbraPrefFromAddress\">").concat(item.prefs.zimbraPrefFromAddress, "</a><a name=\"zimbraPrefFromAddressType\">sendAs</a><a name=\"zimbraPrefReplyToEnabled\">").concat(item.prefs.zimbraPrefReplyToEnabled, "</a><a name=\"zimbraPrefReplyToDisplay\">").concat(item.prefs.zimbraPrefReplyToDisplay, "</a><a name=\"zimbraPrefReplyToAddress\">").concat(item.prefs.zimbraPrefReplyToAddress, "</a><a name=\"zimbraPrefDefaultSignatureId\">").concat(item.prefs.zimbraPrefDefaultSignatureId, "</a><a name=\"zimbraPrefForwardReplySignatureId\">").concat(item.prefs.zimbraPrefForwardReplySignatureId, "</a><a name=\"zimbraPrefWhenSentToEnabled\">").concat(item.prefs.zimbraPrefWhenSentToEnabled, "</a><a name=\"zimbraPrefWhenInFoldersEnabled\">").concat(item.prefs.zimbraPrefWhenInFoldersEnabled, "</a></identity></CreateIdentityRequest>");
  }).join('') : '').concat(mods.permissions ? "<RevokeRightsRequest xmlns=\"urn:zimbraAccount\" requestId=\"0\">".concat(mods.permissions.freeBusy ? (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.permissions.freeBusy.current, function (right) {
    if (right.gt === 'dom') return "<ace right=\"viewFreeBusy\" gt=\"".concat(right.gt, "\" zid=\"").concat(right.zid, "\" d=\"zextras.com\"/>");
    if (right.gt === 'all' && right.deny) return "<ace right=\"viewFreeBusy\" gt=\"".concat(right.gt, "\" zid=\"").concat(right.zid, "\" deny=\"1\"/>");
    if (right.gt === 'usr') return "<ace right=\"viewFreeBusy\" gt=\"".concat(right.gt, "\" zid=\"").concat(right.zid, "\" d=\"").concat(right.d, "\"/>");
    return "<ace right=\"viewFreeBusy\" gt=\"".concat(right.gt, "\" zid=\"").concat(right.zid, "\" />");
  }).join('') : '').concat(mods.permissions.inviteRight ? (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.permissions.inviteRight.current, function (right) {
    if (right.gt === 'all' && right.deny) return "<ace right=\"invite\" gt=\"".concat(right.gt, "\" zid=\"").concat(right.zid, "\" deny=\"1\"/>");
    if (right.gt === 'usr') return "<ace right=\"invite\" gt=\"".concat(right.gt, "\" zid=\"").concat(right.zid, "\" d=\"").concat(right.d, "\"/>");
    return "<ace right=\"invite\" gt=\"".concat(right.gt, "\" zid=\"").concat(right.zid, "\" />");
  }).join('') : '', "</RevokeRightsRequest><GrantRightsRequest xmlns=\"urn:zimbraAccount\" requestId=\"1\">").concat(mods.permissions.freeBusy ? "".concat(function () {
    if (mods.permissions.freeBusy["new"].gt === 'dom') {
      return "<ace right=\"viewFreeBusy\" gt=\"".concat(mods.permissions.freeBusy["new"].gt, "\" d=\"zextras.com\"/>");
    }
    if (mods.permissions.freeBusy["new"].gt === 'all' && mods.permissions.freeBusy["new"].deny) {
      return "<ace right=\"viewFreeBusy\" gt=\"".concat(mods.permissions.freeBusy["new"].gt, "\" deny=\"1\"/>");
    }
    if (mods.permissions.freeBusy["new"].gt === 'usr') {
      return (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.permissions.freeBusy["new"].d, function (u) {
        var _mods$permissions;
        return (// FIXME: usage differs from the declaration of the AccountACE
          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
          // @ts-ignore
          "<ace right=\"viewFreeBusy\" gt=\"".concat((_mods$permissions = mods.permissions) === null || _mods$permissions === void 0 ? void 0 : _mods$permissions.freeBusy["new"].gt, "\" d=\"").concat(u.email, "\"/>")
        );
      }).join('');
    }
    return "<ace right=\"viewFreeBusy\" gt=\"".concat(mods.permissions.freeBusy["new"].gt, "\" />");
  }()) : '').concat(mods.permissions.inviteRight ? "".concat(function () {
    var _mods$permissions3;
    if (mods.permissions.inviteRight["new"].gt === 'all' && mods.permissions.inviteRight["new"].deny) {
      return "<ace right=\"invite\" gt=\"".concat(mods.permissions.inviteRight["new"].gt, "\" deny=\"1\"/>");
    }
    if (mods.permissions.inviteRight["new"].gt === 'usr') {
      return (0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(mods.permissions.inviteRight["new"].d, function (u) {
        var _mods$permissions2;
        return (// FIXME: usage differs from the declaration of the AccountACE
          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
          // @ts-ignore
          "<ace right=\"invite\" gt=\"".concat((_mods$permissions2 = mods.permissions) === null || _mods$permissions2 === void 0 ? void 0 : _mods$permissions2.inviteRight["new"].gt, "\" d=\"").concat(u.email, "\"/>")
        );
      }).join('');
    }
    return "<ace right=\"invite\" gt=\"".concat((_mods$permissions3 = mods.permissions) === null || _mods$permissions3 === void 0 ? void 0 : _mods$permissions3.inviteRight["new"].gt, "\" />");
  }()) : '', "\n\t</GrantRightsRequest>") : '', "</BatchRequest>")).then(function (r) {
    _store_account__WEBPACK_IMPORTED_MODULE_19__.useAccountStore.setState(function (s) {
      var _find, _mods$identity4, _s$account2, _mods$identity5;
      return {
        settings: _objectSpread(_objectSpread({}, s.settings), {}, {
          prefs: (0,lodash__WEBPACK_IMPORTED_MODULE_17__.reduce)(mods.prefs, function (acc, pref, key) {
            return _objectSpread(_objectSpread({}, acc), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])({}, key, pref));
          }, s.settings.prefs),
          props: (0,lodash__WEBPACK_IMPORTED_MODULE_17__.reduce)(mods.props, function (acc, _ref, key) {
            var app = _ref.app,
              value = _ref.value;
            var propIndex = (0,lodash__WEBPACK_IMPORTED_MODULE_17__.findIndex)(acc, function (p) {
              return p.name === key && p.zimlet === app;
            });
            if (propIndex >= 0) {
              // eslint-disable-next-line no-param-reassign
              acc[propIndex] = {
                name: key,
                zimlet: app,
                _content: value
              };
            } else {
              acc.push({
                name: key,
                zimlet: app,
                _content: value
              });
            }
            return acc;
          }, s.settings.props)
        }),
        account: _objectSpread(_objectSpread({}, s.account), {}, {
          displayName: ((_find = (0,lodash__WEBPACK_IMPORTED_MODULE_17__.find)(mods === null || mods === void 0 ? void 0 : (_mods$identity4 = mods.identity) === null || _mods$identity4 === void 0 ? void 0 : _mods$identity4.modifyList, function (item) {
            var _s$account;
            return item.id === (s === null || s === void 0 ? void 0 : (_s$account = s.account) === null || _s$account === void 0 ? void 0 : _s$account.id);
          })) === null || _find === void 0 ? void 0 : _find.prefs.zimbraPrefIdentityName) || ((_s$account2 = s.account) === null || _s$account2 === void 0 ? void 0 : _s$account2.displayName),
          identities: {
            identity: typeof s.account !== 'undefined' ? (0,lodash__WEBPACK_IMPORTED_MODULE_17__.reduce)(mods === null || mods === void 0 ? void 0 : (_mods$identity5 = mods.identity) === null || _mods$identity5 === void 0 ? void 0 : _mods$identity5.modifyList, function (acc, _ref2) {
              var id = _ref2.id,
                prefs = _ref2.prefs;
              var propIndex = (0,lodash__WEBPACK_IMPORTED_MODULE_17__.findIndex)(acc, function (itemMods, indexAccount) {
                return acc[indexAccount].id === id;
              });
              if (propIndex > -1) {
                // eslint-disable-next-line no-param-reassign
                acc[propIndex]._attrs = _objectSpread(_objectSpread({}, acc[propIndex]._attrs), prefs);
                if (prefs.zimbraPrefIdentityName && acc[propIndex].name !== 'DEFAULT') {
                  // eslint-disable-next-line no-param-reassign
                  acc[propIndex].name = prefs.zimbraPrefIdentityName;
                }
              }
              return acc;
            }, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])((0,lodash__WEBPACK_IMPORTED_MODULE_17__.filter)(s.account.identities.identity, function (item) {
              var _mods$identity6, _mods$identity6$delet;
              return !(mods !== null && mods !== void 0 && (_mods$identity6 = mods.identity) !== null && _mods$identity6 !== void 0 && (_mods$identity6$delet = _mods$identity6.deleteList) !== null && _mods$identity6$delet !== void 0 && _mods$identity6$delet.includes(item.id));
            }).filter(function (i) {
              return i.name !== 'DEFAULT';
            })), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])((0,lodash__WEBPACK_IMPORTED_MODULE_17__.map)(r === null || r === void 0 ? void 0 : r.CreateIdentityResponse, function (item) {
              return item.identity[0];
            })), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])((0,lodash__WEBPACK_IMPORTED_MODULE_17__.filter)(s.account.identities.identity, function (item) {
              var _mods$identity7, _mods$identity7$delet;
              return !(mods !== null && mods !== void 0 && (_mods$identity7 = mods.identity) !== null && _mods$identity7 !== void 0 && (_mods$identity7$delet = _mods$identity7.deleteList) !== null && _mods$identity7$delet !== void 0 && _mods$identity7$delet.includes(item.id));
            }).filter(function (i) {
              return i.name === 'DEFAULT';
            })))) : undefined
          }
        })
      };
    });
    return r;
  });
};
var getEditSettingsForApp = function getEditSettingsForApp(app) {
  return function (mods) {
    return editSettings(mods, app).then(function (r) {
      return _objectSpread(_objectSpread({}, r), {}, {
        type: 'fulfilled'
      });
    });
  };
};

/***/ }),

/***/ "./src/network/fetch.ts":
/*!******************************!*\
  !*** ./src/network/fetch.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchNoOp": () => (/* binding */ fetchNoOp),
/* harmony export */   "getSoapFetch": () => (/* binding */ getSoapFetch),
/* harmony export */   "getXmlSoapFetch": () => (/* binding */ getXmlSoapFetch),
/* harmony export */   "shellSoap": () => (/* binding */ shellSoap)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.timers.js */ "./node_modules/core-js/modules/web.timers.js");
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _go_to_login__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./go-to-login */ "./src/network/go-to-login.ts");
/* harmony import */ var _user_agent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./user-agent */ "./src/network/user-agent.ts");
/* harmony import */ var _reporting__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../reporting */ "./src/reporting/index.ts");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_network__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../store/network */ "./src/store/network/index.ts");
/* harmony import */ var _store_network_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../store/network/utils */ "./src/store/network/utils.ts");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }














/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */









var fetchNoOp = function fetchNoOp() {
  // eslint-disable-next-line @typescript-eslint/no-use-before-define
  getSoapFetch(_constants__WEBPACK_IMPORTED_MODULE_20__.SHELL_APP_ID)('NoOp', _store_network__WEBPACK_IMPORTED_MODULE_21__.useNetworkStore.getState().pollingInterval === 500 ? {
    _jsns: 'urn:zimbraMail',
    limitToOneBlocked: 1,
    wait: 1
  } : {
    _jsns: 'urn:zimbraMail'
  });
};
var getAccount = function getAccount(acc, otherAccount) {
  if (otherAccount) {
    return {
      by: 'name',
      _content: otherAccount
    };
  }
  if (acc) {
    if (acc.name) {
      return {
        by: 'name',
        _content: acc.name
      };
    }
    if (acc.id) {
      return {
        by: 'id',
        _content: acc.id
      };
    }
  }
  return undefined;
};
var getXmlAccount = function getXmlAccount(acc, otherAccount) {
  if (otherAccount) {
    return "<account by=\"name\">".concat(otherAccount, "</account>");
  }
  if (acc) {
    if (acc.name) {
      return "<account by=\"name\">".concat(acc.name, "</account>");
    }
    if (acc.id) {
      return "<account by=\"id\">".concat(acc.id, "</account>");
    }
  }
  return '';
};
var getXmlSession = function getXmlSession() {
  var _useNetworkStore$getS;
  var sessionId = (_useNetworkStore$getS = _store_network__WEBPACK_IMPORTED_MODULE_21__.useNetworkStore.getState().session) === null || _useNetworkStore$getS === void 0 ? void 0 : _useNetworkStore$getS.id;
  if (sessionId) {
    return "<session id=\"".concat(sessionId, "\"/>");
  }
  return '';
};
var normalizeContext = function normalizeContext(context) {
  if (context.notify) {
    // eslint-disable-next-line no-param-reassign
    context.notify = (0,lodash__WEBPACK_IMPORTED_MODULE_15__.map)(context.notify, function (notify) {
      var _notify$deleted, _notify$deleted$id;
      return _objectSpread(_objectSpread({}, notify), {}, {
        deleted: (_notify$deleted = notify.deleted) === null || _notify$deleted === void 0 ? void 0 : (_notify$deleted$id = _notify$deleted.id) === null || _notify$deleted$id === void 0 ? void 0 : _notify$deleted$id.split(',')
      });
    });
  }
  return context;
};
var handleResponse = function handleResponse(api, res) {
  var _res$Header, _res$Body;
  var _useNetworkStore$getS2 = _store_network__WEBPACK_IMPORTED_MODULE_21__.useNetworkStore.getState(),
    noOpTimeout = _useNetworkStore$getS2.noOpTimeout;
  var _useAccountStore$getS = _store_account__WEBPACK_IMPORTED_MODULE_19__.useAccountStore.getState(),
    usedQuota = _useAccountStore$getS.usedQuota;
  clearTimeout(noOpTimeout);
  if (res.Body.Fault) {
    var _Body$Fault$Detail2, _Body$Fault$Detail2$E, _Body$Fault$Reason;
    if ((0,lodash__WEBPACK_IMPORTED_MODULE_15__.find)(['service.AUTH_REQUIRED', 'service.AUTH_EXPIRED'], function (code) {
      var _Body$Fault$Detail, _Body$Fault$Detail$Er;
      return code === ((_Body$Fault$Detail = res.Body.Fault.Detail) === null || _Body$Fault$Detail === void 0 ? void 0 : (_Body$Fault$Detail$Er = _Body$Fault$Detail.Error) === null || _Body$Fault$Detail$Er === void 0 ? void 0 : _Body$Fault$Detail$Er.Code);
    })) {
      if (_constants__WEBPACK_IMPORTED_MODULE_20__.IS_STANDALONE) {
        _store_account__WEBPACK_IMPORTED_MODULE_19__.useAccountStore.setState({
          authenticated: false
        });
      } else {
        (0,_go_to_login__WEBPACK_IMPORTED_MODULE_16__.goToLogin)();
      }
    }
    console.error(new Error("".concat((_Body$Fault$Detail2 = res.Body.Fault.Detail) === null || _Body$Fault$Detail2 === void 0 ? void 0 : (_Body$Fault$Detail2$E = _Body$Fault$Detail2.Error) === null || _Body$Fault$Detail2$E === void 0 ? void 0 : _Body$Fault$Detail2$E.Detail, ": ").concat((_Body$Fault$Reason = res.Body.Fault.Reason) === null || _Body$Fault$Reason === void 0 ? void 0 : _Body$Fault$Reason.Text)));
  }
  if ((_res$Header = res.Header) !== null && _res$Header !== void 0 && _res$Header.context) {
    var _res$Header$context$r, _res$Header$context, _res$Header$context$r2, _res$Header$context$r3, _res$Header$context$r4, _res$Header$context2, _res$Header$context2$, _res$Header$context2$2, _res$Header$context2$3, _res$Header$context2$4, _res$Header$context2$5, _maxBy$seq, _maxBy;
    var responseUsedQuota = (_res$Header$context$r = (_res$Header$context = res.Header.context) === null || _res$Header$context === void 0 ? void 0 : (_res$Header$context$r2 = _res$Header$context.refresh) === null || _res$Header$context$r2 === void 0 ? void 0 : (_res$Header$context$r3 = _res$Header$context$r2.mbx) === null || _res$Header$context$r3 === void 0 ? void 0 : (_res$Header$context$r4 = _res$Header$context$r3[0]) === null || _res$Header$context$r4 === void 0 ? void 0 : _res$Header$context$r4.s) !== null && _res$Header$context$r !== void 0 ? _res$Header$context$r : (_res$Header$context2 = res.Header.context) === null || _res$Header$context2 === void 0 ? void 0 : (_res$Header$context2$ = _res$Header$context2.notify) === null || _res$Header$context2$ === void 0 ? void 0 : (_res$Header$context2$2 = _res$Header$context2$[0]) === null || _res$Header$context2$2 === void 0 ? void 0 : (_res$Header$context2$3 = _res$Header$context2$2.modified) === null || _res$Header$context2$3 === void 0 ? void 0 : (_res$Header$context2$4 = _res$Header$context2$3.mbx) === null || _res$Header$context2$4 === void 0 ? void 0 : (_res$Header$context2$5 = _res$Header$context2$4[0]) === null || _res$Header$context2$5 === void 0 ? void 0 : _res$Header$context2$5.s;
    var _context = normalizeContext(res.Header.context);
    var seq = (_maxBy$seq = (_maxBy = (0,lodash__WEBPACK_IMPORTED_MODULE_15__.maxBy)(_context.notify, 'seq')) === null || _maxBy === void 0 ? void 0 : _maxBy.seq) !== null && _maxBy$seq !== void 0 ? _maxBy$seq : 0;
    (0,_store_network_utils__WEBPACK_IMPORTED_MODULE_22__.handleSync)(_context);
    _store_account__WEBPACK_IMPORTED_MODULE_19__.useAccountStore.setState({
      usedQuota: responseUsedQuota !== null && responseUsedQuota !== void 0 ? responseUsedQuota : usedQuota
    });
    var nextPollingInterval = (0,_store_network_utils__WEBPACK_IMPORTED_MODULE_22__.getPollingInterval)(res);
    _store_network__WEBPACK_IMPORTED_MODULE_21__.useNetworkStore.setState(_objectSpread({
      noOpTimeout: setTimeout(function () {
        return fetchNoOp();
      }, nextPollingInterval),
      pollingInterval: nextPollingInterval,
      seq: seq
    }, _context));
  }

  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  // @ts-ignore
  return res !== null && res !== void 0 && (_res$Body = res.Body) !== null && _res$Body !== void 0 && _res$Body.Fault ? res.Body : res.Body["".concat(api, "Response")];
};
var getSoapFetch = function getSoapFetch(app) {
  return function (api, body, otherAccount, signal) {
    var _notify$, _notify$2;
    var _useAccountStore$getS2 = _store_account__WEBPACK_IMPORTED_MODULE_19__.useAccountStore.getState(),
      zimbraVersion = _useAccountStore$getS2.zimbraVersion,
      account = _useAccountStore$getS2.account;
    var _useNetworkStore$getS3 = _store_network__WEBPACK_IMPORTED_MODULE_21__.useNetworkStore.getState(),
      notify = _useNetworkStore$getS3.notify,
      session = _useNetworkStore$getS3.session;
    return fetch("/service/soap/".concat(api, "Request"), {
      signal: signal,
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        Body: (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, "".concat(api, "Request"), body),
        Header: {
          context: {
            _jsns: 'urn:zimbra',
            notify: notify !== null && notify !== void 0 && (_notify$ = notify[0]) !== null && _notify$ !== void 0 && _notify$.seq ? {
              seq: notify === null || notify === void 0 ? void 0 : (_notify$2 = notify[0]) === null || _notify$2 === void 0 ? void 0 : _notify$2.seq
            } : undefined,
            session: session !== null && session !== void 0 ? session : {},
            account: getAccount(account, otherAccount),
            userAgent: {
              name: _user_agent__WEBPACK_IMPORTED_MODULE_17__.userAgent,
              version: zimbraVersion
            }
          }
        }
      })
    }) // TODO proper error handling
    .then(function (res) {
      return res === null || res === void 0 ? void 0 : res.json();
    }).then(function (res) {
      return handleResponse(api, res);
    })["catch"](function (e) {
      (0,_reporting__WEBPACK_IMPORTED_MODULE_18__.report)(app)(e);
      throw e;
    });
  };
};
var getXmlSoapFetch = function getXmlSoapFetch(app) {
  return function (api, body, otherAccount) {
    var _useAccountStore$getS3 = _store_account__WEBPACK_IMPORTED_MODULE_19__.useAccountStore.getState(),
      zimbraVersion = _useAccountStore$getS3.zimbraVersion,
      account = _useAccountStore$getS3.account;
    return fetch("/service/soap/".concat(api, "Request"), {
      method: 'POST',
      headers: {
        'content-type': 'application/soap+xml'
      },
      body: "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n\t\t<soap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\">\n\t\t\t<soap:Header><context xmlns=\"urn:zimbra\"><userAgent name=\"".concat(_user_agent__WEBPACK_IMPORTED_MODULE_17__.userAgent, "\" version=\"").concat(zimbraVersion, "\"/>").concat(getXmlSession()).concat(getXmlAccount(account, otherAccount), "<format type=\"js\"/></context></soap:Header>\n\t\t\t<soap:Body>").concat(body, "</soap:Body>\n\t\t</soap:Envelope>")
    }) // TODO proper error handling
    .then(function (res) {
      return res === null || res === void 0 ? void 0 : res.json();
    }).then(function (res) {
      return handleResponse(api, res);
    })["catch"](function (e) {
      (0,_reporting__WEBPACK_IMPORTED_MODULE_18__.report)(app)(e);
      throw e;
    });
  };
};
var shellSoap = getSoapFetch(_constants__WEBPACK_IMPORTED_MODULE_20__.SHELL_APP_ID);

/***/ }),

/***/ "./src/network/get-components.ts":
/*!***************************************!*\
  !*** ./src/network/get-components.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getComponents": () => (/* binding */ getComponents)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var getComponents = function getComponents() {
  return fetch('/static/iris/components.json').then(function (response) {
    if (response.ok) {
      return response.json();
    }
    throw Error(response.statusText);
  }).then(function (_ref) {
    var components = _ref.components;
    _store_app__WEBPACK_IMPORTED_MODULE_3__.useAppStore.getState().setters.addApps((0,lodash__WEBPACK_IMPORTED_MODULE_2__.filter)(components, function (_ref2) {
      var type = _ref2.type;
      return type === 'shell' || type === 'carbonio';
    }));
  });
};

/***/ }),

/***/ "./src/network/get-info.ts":
/*!*********************************!*\
  !*** ./src/network/get-info.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getInfo": () => (/* binding */ getInfo)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_account_normalization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/account/normalization */ "./src/store/account/normalization.ts");
/* harmony import */ var _fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fetch */ "./src/network/fetch.ts");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _store_network__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/network */ "./src/store/network/index.ts");
/* harmony import */ var _store_network_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/network/utils */ "./src/store/network/utils.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var getInfo = function getInfo() {
  return (0,_fetch__WEBPACK_IMPORTED_MODULE_2__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_0__.SHELL_APP_ID)('GetInfo', {
    _jsns: 'urn:zimbraAccount',
    rights: 'sendAs,sendAsDistList,viewFreeBusy,sendOnBehalfOf,sendOnBehalfOfDistList'
  }).then(function (res) {
    if (res) {
      var _normalizeAccount = (0,_store_account_normalization__WEBPACK_IMPORTED_MODULE_1__.normalizeAccount)(res),
        account = _normalizeAccount.account,
        settings = _normalizeAccount.settings,
        version = _normalizeAccount.version;
      _store_network__WEBPACK_IMPORTED_MODULE_4__.useNetworkStore.setState({
        pollingInterval: (0,_store_network_utils__WEBPACK_IMPORTED_MODULE_5__.parsePollingInterval)(settings)
      });
      _store_account__WEBPACK_IMPORTED_MODULE_3__.useAccountStore.setState({
        authenticated: true,
        account: account,
        settings: settings,
        zimbraVersion: version
      });
    }
  });
};

/***/ }),

/***/ "./src/network/go-to-login.ts":
/*!************************************!*\
  !*** ./src/network/go-to-login.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "goToLogin": () => (/* binding */ goToLogin)
/* harmony export */ });
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

var goToLogin = function goToLogin() {
  var _window, _window$location, _window$location$assi, _window2, _window2$location;
  (_window = window) === null || _window === void 0 ? void 0 : (_window$location = _window.location) === null || _window$location === void 0 ? void 0 : (_window$location$assi = _window$location.assign) === null || _window$location$assi === void 0 ? void 0 : _window$location$assi.call(_window$location, "".concat((_window2 = window) === null || _window2 === void 0 ? void 0 : (_window2$location = _window2.location) === null || _window2$location === void 0 ? void 0 : _window2$location.origin, "/static/login"));
};

/***/ }),

/***/ "./src/network/login-config.ts":
/*!*************************************!*\
  !*** ./src/network/login-config.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loginConfig": () => (/* binding */ loginConfig)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.promise.finally.js */ "./node_modules/core-js/modules/es.promise.finally.js");
/* harmony import */ var core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store_login_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/login/store */ "./src/store/login/store.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_login_getters__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/login/getters */ "./src/store/login/getters.ts");



/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var loginConfig = function loginConfig() {
  return fetch(_constants__WEBPACK_IMPORTED_MODULE_4__.LOGIN_V3_CONFIG_PATH).then(function (response) {
    return response.json();
  }).then(function (data) {
    _store_login_store__WEBPACK_IMPORTED_MODULE_3__.useLoginConfigStore.setState(data);
  })["finally"](function () {
    _store_login_store__WEBPACK_IMPORTED_MODULE_3__.useLoginConfigStore.setState({
      loaded: true
    });
    var favicon = document.getElementById('favicon');
    if (favicon && favicon instanceof HTMLLinkElement) {
      favicon.href = (0,_store_login_getters__WEBPACK_IMPORTED_MODULE_5__.getFavicon)();
    }
    document.title = (0,_store_login_getters__WEBPACK_IMPORTED_MODULE_5__.getClientTitle)();
  });
};

/***/ }),

/***/ "./src/network/logout.ts":
/*!*******************************!*\
  !*** ./src/network/logout.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "logout": () => (/* binding */ logout)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _fetch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fetch */ "./src/network/fetch.ts");
/* harmony import */ var _go_to_login__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./go-to-login */ "./src/network/go-to-login.ts");


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var logout = function logout() {
  return (0,_fetch__WEBPACK_IMPORTED_MODULE_3__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_2__.SHELL_APP_ID)('EndSession', {
    _jsns: 'urn:zimbraAccount',
    logoff: true
  }).then(function () {
    fetch('/?loginOp=logout').then(function (res) {
      return res;
    }).then(_go_to_login__WEBPACK_IMPORTED_MODULE_4__.goToLogin);
  });
};

/***/ }),

/***/ "./src/network/tags.ts":
/*!*****************************!*\
  !*** ./src/network/tags.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "changeTagColor": () => (/* binding */ changeTagColor),
/* harmony export */   "createTag": () => (/* binding */ createTag),
/* harmony export */   "deleteTag": () => (/* binding */ deleteTag),
/* harmony export */   "renameTag": () => (/* binding */ renameTag)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fetch */ "./src/network/fetch.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var createTag = function createTag(tag) {
  return (0,_fetch__WEBPACK_IMPORTED_MODULE_1__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_0__.SHELL_APP_ID)('CreateTag', {
    _jsns: 'urn:zimbraMail',
    tag: tag
  });
};
var deleteTag = function deleteTag(id) {
  return (0,_fetch__WEBPACK_IMPORTED_MODULE_1__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_0__.SHELL_APP_ID)('TagAction', {
    _jsns: 'urn:zimbraMail',
    action: {
      op: 'delete',
      id: id
    }
  });
};
var renameTag = function renameTag(id, name) {
  return (0,_fetch__WEBPACK_IMPORTED_MODULE_1__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_0__.SHELL_APP_ID)('TagAction', {
    _jsns: 'urn:zimbraMail',
    action: {
      op: 'rename',
      id: id,
      name: name
    }
  });
};
var changeTagColor = function changeTagColor(id, color) {
  return (0,_fetch__WEBPACK_IMPORTED_MODULE_1__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_0__.SHELL_APP_ID)('TagAction', {
    _jsns: 'urn:zimbraMail',
    action: typeof color === 'number' ? {
      op: 'color',
      color: color,
      id: id
    } : {
      op: 'color',
      rgb: color,
      id: id
    }
  });
};

/***/ }),

/***/ "./src/network/user-agent.ts":
/*!***********************************!*\
  !*** ./src/network/user-agent.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "userAgent": () => (/* binding */ userAgent)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ua-parser-js */ "./node_modules/ua-parser-js/src/ua-parser.js");
/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_2__);


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


var _UAParser = ua_parser_js__WEBPACK_IMPORTED_MODULE_2___default()(),
  os = _UAParser.os,
  browser = _UAParser.browser;
var userAgent = "CarbonioWebClient - ".concat(browser.name, " ").concat(browser.version, " (").concat(os.name, ")");

/***/ }),

/***/ "./src/notification/NotificationManager.ts":
/*!*************************************************!*\
  !*** ./src/notification/NotificationManager.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NotificationManager": () => (/* binding */ NotificationManager),
/* harmony export */   "getNotificationManager": () => (/* binding */ getNotificationManager)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.map.js */ "./node_modules/core-js/modules/es.map.js");
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _assets_notification_mp3__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../assets/notification.mp3 */ "./assets/notification.mp3");
/* harmony import */ var _store_login_getters__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../store/login/getters */ "./src/store/login/getters.ts");

















function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





/**
 * The main goals of the NotificationManager are:
 * - to provide a single and rich implementation for all the Carbonio modules,
 *   reducing the boilerplate code needed to send a notification to the user
 * - to optimize the audio notifications avoiding to spam the same sound file
 *   in a short period of time
 * - to act as a collector for all the notification (for possible future
 *   implementations)
 *
 * In order to reduce the effort needed to send a notification the class
 * provided a set of default values/assets (e.g. icon, sound, title, ...)
 *
 * The class is provided as a singleton
 */
var NotificationManager = /*#__PURE__*/function () {
  function NotificationManager() {
    var _this = this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, NotificationManager);
    /**
     * Default configuration for the popup-only notification
     * @private
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "PopupNotificationDefaultConfig", {
      title: '',
      vibrate: [200, 100, 200],
      icon: (0,_store_login_getters__WEBPACK_IMPORTED_MODULE_19__.getFavicon)()
    });
    /**
     * Default configuration for the audio-only notification
     * @private
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "AudioNotificationDefaultConfig", {
      sound: _assets_notification_mp3__WEBPACK_IMPORTED_MODULE_18__
    });
    /**
     * Default configuration for a notification with both popup and audio
     * @private
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "NotificationDefaultConfig", _objectSpread(_objectSpread(_objectSpread({}, this.PopupNotificationDefaultConfig), this.AudioNotificationDefaultConfig), {}, {
      showPopup: true,
      playSound: false
    }));
    /**
     * Map of functions to play a specific audio file
     * @private
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "functions", new Map());
    /**
     * Gets or creates the (debounced) function to play the audio file
     * @param sound - relative path to the audio file to play
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "getAudioFileFunction", function (sound) {
      if (!_this.functions.has(sound)) {
        _this.functions.set(sound, (0,lodash__WEBPACK_IMPORTED_MODULE_17__.debounce)(function () {
          new Audio(sound).play().then();
          _this.functions["delete"](sound);
        }, NotificationManager.DEBOUNCE_TIME));
      }
      var result = _this.functions.get(sound);
      return result !== null && result !== void 0 ? result : lodash__WEBPACK_IMPORTED_MODULE_17__.noop;
    });
    /**
     * Executes the debounced function to play the audio file
     * @param config - Configuration for the audio notification. In case of
     * missing properties default values are used
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "playSound", function (config) {
      var defConfig = _objectSpread(_objectSpread({}, _this.AudioNotificationDefaultConfig), config);
      if (!defConfig.sound) {
        return;
      }
      _this.getAudioFileFunction(defConfig.sound)();
    });
    /**
     * Shows a popup notification
     * @param config - Configuration for the popup notification. In case of
     * missing properties default values are used
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "showPopup", function (config) {
      var defConfig = _objectSpread(_objectSpread({}, _this.PopupNotificationDefaultConfig), config);
      var n = new Notification(defConfig.title, {
        body: defConfig.message,
        vibrate: defConfig.vibrate,
        icon: defConfig.icon,
        tag: defConfig === null || defConfig === void 0 ? void 0 : defConfig.tag
      });
      if (defConfig.onClick) {
        n.addEventListener('click', defConfig.onClick);
      }
    });
    /**
     * Sends a popup/audio notification to the user
     * @param config - Configuration for the notification. In case of
     * missing properties default values are used
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "notify", function (config) {
      var defConfig = _objectSpread(_objectSpread({}, _this.NotificationDefaultConfig), config);
      if (defConfig !== null && defConfig !== void 0 && defConfig.showPopup) {
        _this.showPopup(defConfig);
      }
      if (defConfig !== null && defConfig !== void 0 && defConfig.playSound) {
        _this.playSound(defConfig);
      }
    });
    /**
     * Sends multiple notifications
     * @param config - Array of configurations for the notifications. In case of
     * missing properties default values are used
     */
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "multipleNotify", function (config) {
      config.forEach(function (conf) {
        return _this.notify(conf);
      });
    });
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(NotificationManager, null, [{
    key: "getInstance",
    value:
    /**
     * Return the singleton instance
     */
    function getInstance() {
      if (!NotificationManager.instance) {
        NotificationManager.instance = new NotificationManager();
      }
      return NotificationManager.instance;
    }
  }]);
  return NotificationManager;
}();
(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(NotificationManager, "instance", void 0);
/**
 * Minimum time (ms) to wait before the same audio file will be played
 * @private
 */
(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(NotificationManager, "DEBOUNCE_TIME", 1000);
var getNotificationManager = function getNotificationManager() {
  return NotificationManager.getInstance();
};

/***/ }),

/***/ "./src/notification/NotificationPermissionChecker.tsx":
/*!************************************************************!*\
  !*** ./src/notification/NotificationPermissionChecker.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NotificationPermissionChecker": () => (/* binding */ NotificationPermissionChecker)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

var NotificationPermissionChecker = function NotificationPermissionChecker() {
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (!('Notification' in window)) {
      // eslint-disable-next-line no-console
      console.warn('This browser does not support desktop notifications');
    } else {
      Notification.requestPermission();
    }
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);
};

/***/ }),

/***/ "./src/reporting/feedback.tsx":
/*!************************************!*\
  !*** ./src/reporting/feedback.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _store_boards__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../store/boards */ "./src/store/boards/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./functions */ "./src/reporting/functions.ts");














function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */











// TODO: replace with DS TextArea?
var TextArea = styled_components__WEBPACK_IMPORTED_MODULE_21__["default"].textarea.withConfig({
  displayName: "feedback__TextArea",
  componentId: "sc-s79wog-0"
})(["width:100%;min-height:8rem;box-sizing:border-box;outline:none;border:none;background:", ";resize:none;transition:height 0.4s ease;color:", ";font-family:", ";font-size:", ";&:focus{background:", ";outline:none;}"], function (_ref) {
  var theme = _ref.theme;
  return theme.palette.gray5.regular;
}, function (_ref2) {
  var theme = _ref2.theme;
  return theme.palette.text.regular;
}, function (_ref3) {
  var theme = _ref3.theme;
  return theme.fonts["default"];
}, function (_ref4) {
  var theme = _ref4.theme,
    size = _ref4.size;
  return theme.sizes.font[size !== null && size !== void 0 ? size : 'medium'];
}, function (_ref5) {
  var theme = _ref5.theme;
  return theme.palette.gray4.regular;
});
var TextContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_21__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container).withConfig({
  displayName: "feedback__TextContainer",
  componentId: "sc-s79wog-1"
})(["text-align:justify;align-items:flex-start;width:80%;"]);
var ButtonContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_21__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container).withConfig({
  displayName: "feedback__ButtonContainer",
  componentId: "sc-s79wog-2"
})(["width:20%;position:relative;"]);
var TAContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_21__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container).withConfig({
  displayName: "feedback__TAContainer",
  componentId: "sc-s79wog-3"
})(["background:", ";border-radius:0.125rem 0.125rem 0 0;padding:0.5rem;transition:height 0.4s ease;height:auto;max-height:50%;&:focus-within{background:", ";outline:none;border-bottom:0.0625rem solid ", ";}"], function (_ref6) {
  var theme = _ref6.theme;
  return theme.palette.gray5.regular;
}, function (_ref7) {
  var theme = _ref7.theme;
  return theme.palette.gray4.regular;
}, function (_ref8) {
  var theme = _ref8.theme;
  return theme.palette.primary.regular;
});
var SubHeadingText = (0,styled_components__WEBPACK_IMPORTED_MODULE_21__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Text).withConfig({
  displayName: "feedback__SubHeadingText",
  componentId: "sc-s79wog-4"
})(["border-radius:0.125rem 0.125rem 0 0;font-size:0.875rem;font-weight:300;margin-top:0.625rem;line-height:", ";"], function (_ref9) {
  var lineHeight = _ref9.lineHeight;
  return lineHeight !== null && lineHeight !== void 0 ? lineHeight : 'normal';
});
var LabelContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_21__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container).withConfig({
  displayName: "feedback__LabelContainer",
  componentId: "sc-s79wog-5"
})(["border-bottom:0.0625rem solid ", ";"], function (_ref10) {
  var theme = _ref10.theme,
    disabled = _ref10.disabled;
  return disabled ? theme.palette.error.regular : theme.palette.gray2.regular;
});
var emptyEvent = {
  message: '',
  level: 'info',
  release: 'unknown',
  extra: {
    app: '0',
    topic: '0'
  },
  user: {}
};
function reducer(state, _ref11) {
  var type = _ref11.type,
    payload = _ref11.payload;
  switch (type) {
    case 'set-user':
      return _objectSpread(_objectSpread({}, state), {}, {
        user: payload
      });
    case 'reset':
      return emptyEvent;
    case 'set-message':
      return _objectSpread(_objectSpread({}, state), {}, {
        message: payload
      });
    case 'select-app':
      return _objectSpread(_objectSpread({}, state), {}, {
        release: payload.version,
        extra: _objectSpread(_objectSpread({}, state.extra), {}, {
          app: payload.app
        })
      });
    case 'select-topic':
      return _objectSpread(_objectSpread({}, state), {}, {
        extra: _objectSpread(_objectSpread({}, state.extra), {}, {
          topic: payload
        })
      });
    default:
      return state;
  }
}
var getTopics = function getTopics(t) {
  return [{
    label: t('feedback.user_interface', 'User interface'),
    value: 'UserInterface'
  }, {
    label: t('feedback.behaviors', 'Behaviors'),
    value: 'Behaviors'
  }, {
    label: t('feedback.missing_features', 'Missing features'),
    value: 'MissingFeatures'
  }, {
    label: t('feedback.other', 'Other'),
    value: 'Other'
  }];
};
var ModuleLabelFactory = function ModuleLabelFactory(_ref12) {
  var selected = _ref12.selected,
    label = _ref12.label,
    open = _ref12.open,
    focus = _ref12.focus,
    disabled = _ref12.disabled;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(LabelContainer, {
    orientation: "horizontal",
    width: "fill",
    crossAlignment: "center",
    mainAlignment: "space-between",
    borderRadius: "half",
    background: 'gray5',
    padding: {
      all: 'small'
    },
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Row, {
    takeAvailableSpace: true,
    mainAlignment: "unset"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Text, {
    size: "medium",
    color: open || focus ? 'primary' : 'secondary'
  }, selected.length > 0 ? selected[0].label : label)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Icon, {
    size: "large",
    icon: open ? 'ChevronUpOutline' : 'ChevronDownOutline',
    color: open || focus ? 'primary' : 'secondary',
    style: {
      alignSelf: 'center'
    }
  }));
};
var FeedbackLabelFactory = function FeedbackLabelFactory(_ref13) {
  var selected = _ref13.selected,
    label = _ref13.label,
    open = _ref13.open,
    focus = _ref13.focus,
    showErr = _ref13.showErr;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(LabelContainer, {
    disabled: showErr,
    orientation: "horizontal",
    width: "fill",
    crossAlignment: "center",
    mainAlignment: "space-between",
    borderRadius: "half",
    background: 'gray5',
    padding: {
      all: 'small'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Row, {
    takeAvailableSpace: true,
    mainAlignment: "unset"
  }, showErr ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Text, {
    size: "medium",
    color: open && showErr || focus ? 'primary' : 'error'
  }, selected.length > 0 ? selected[0].label : label) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Text, {
    size: "medium",
    color: open || focus ? 'primary' : 'secondary'
  }, selected.length > 0 ? selected[0].label : label)), showErr ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Icon, {
    size: "large",
    icon: open ? 'ChevronUpOutline' : 'ChevronDownOutline',
    color: open && showErr || focus ? 'primary' : 'error',
    style: {
      alignSelf: 'center'
    }
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Icon, {
    size: "large",
    icon: open ? 'ChevronUpOutline' : 'ChevronDownOutline',
    color: open || focus ? 'primary' : 'secondary',
    style: {
      alignSelf: 'center'
    }
  }));
};
var Feedback = function Feedback() {
  var _sentryEvent$extra4, _sentryEvent$extra5, _sentryEvent$extra7;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_19__.getT)();
  var allApps = (0,_store_app__WEBPACK_IMPORTED_MODULE_17__.useAppList)();
  var apps = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_14__.filter)(allApps, function (app) {
      return !!app.sentryDsn;
    });
  }, [allApps]);
  var appItems = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_14__.map)(apps, function (app) {
      return {
        label: app.display,
        value: app.name
      };
    });
  }, [apps]);
  var account = (0,_store_account__WEBPACK_IMPORTED_MODULE_16__.useUserAccount)();
  var _useReducer = (0,react__WEBPACK_IMPORTED_MODULE_15__.useReducer)(reducer, emptyEvent),
    _useReducer2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useReducer, 2),
    sentryEvent = _useReducer2[0],
    dispatch = _useReducer2[1];
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
    showErr = _useState2[0],
    setShowErr = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(0),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState3, 2),
    limit = _useState4[0],
    setLimit = _useState4[1];
  var onAppSelect = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (ev) {
    var _find;
    return dispatch({
      type: 'select-app',
      payload: {
        app: ev,
        version: (_find = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.find)(apps, ['name', ev])) === null || _find === void 0 ? void 0 : _find.version
      }
    });
  }, [apps]);
  var onTopicSelect = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (ev) {
    setShowErr(false);
    dispatch({
      type: 'select-topic',
      payload: ev
    });
  }, []);
  var onInputChange = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (event) {
    // eslint-disable-next-line no-param-reassign
    event.target.style.height = 'auto';
    // eslint-disable-next-line no-param-reassign
    event.target.style.height = "".concat(25 + event.target.scrollHeight, "px");
    if (event.target.value.length <= 500) {
      setLimit(event.target.value.length);
      dispatch({
        type: 'set-message',
        payload: event.target.value
      });
    }
  }, []);
  var checkTopicSelect = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (event) {
    var _sentryEvent$extra, _sentryEvent$message;
    if (((_sentryEvent$extra = sentryEvent.extra) === null || _sentryEvent$extra === void 0 ? void 0 : _sentryEvent$extra.topic) === '0') {
      setShowErr(true);
    } else {
      setShowErr(false);
    }
    if (event.key === 'Backspace' && ((_sentryEvent$message = sentryEvent.message) === null || _sentryEvent$message === void 0 ? void 0 : _sentryEvent$message.length) === 0) {
      setShowErr(false);
    }
  }, [setShowErr, sentryEvent]);
  var createSnackbar = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.useSnackbar)();
  var confirmHandler = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function () {
    var feedbackId = (0,_functions__WEBPACK_IMPORTED_MODULE_20__.feedback)(sentryEvent);
    createSnackbar(feedbackId ? {
      type: 'success',
      label: t('feedback.success', 'Thank you for your feedback')
    } : {
      type: 'error',
      label: t('feedback.error', 'There was an error while sending your feedback')
    });
    (0,_store_boards__WEBPACK_IMPORTED_MODULE_18__.closeBoard)('feedback');
  }, [sentryEvent, createSnackbar, t]);
  (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(function () {
    var _account$displayName;
    dispatch({
      type: 'set-user',
      payload: {
        id: account.id,
        name: (_account$displayName = account.displayName) !== null && _account$displayName !== void 0 ? _account$displayName : account.name
      }
    });
  }, [account]);
  var disabledSend = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {
    var _sentryEvent$message$, _sentryEvent$message2, _sentryEvent$extra2, _sentryEvent$extra3;
    return ((_sentryEvent$message$ = sentryEvent === null || sentryEvent === void 0 ? void 0 : (_sentryEvent$message2 = sentryEvent.message) === null || _sentryEvent$message2 === void 0 ? void 0 : _sentryEvent$message2.length) !== null && _sentryEvent$message$ !== void 0 ? _sentryEvent$message$ : 0) <= 0 || ((_sentryEvent$extra2 = sentryEvent.extra) === null || _sentryEvent$extra2 === void 0 ? void 0 : _sentryEvent$extra2.topic) === '0' || ((_sentryEvent$extra3 = sentryEvent.extra) === null || _sentryEvent$extra3 === void 0 ? void 0 : _sentryEvent$extra3.app) === '0';
  }, [sentryEvent.message, (_sentryEvent$extra4 = sentryEvent.extra) === null || _sentryEvent$extra4 === void 0 ? void 0 : _sentryEvent$extra4.topic, (_sentryEvent$extra5 = sentryEvent.extra) === null || _sentryEvent$extra5 === void 0 ? void 0 : _sentryEvent$extra5.app]);
  var LabelFactory = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)(function (props) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(FeedbackLabelFactory, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, props, {
      showErr: showErr
    }));
  }, [showErr]);
  var topics = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {
    return getTopics(t);
  }, [t]);
  var defaultTopic = (0,react__WEBPACK_IMPORTED_MODULE_15__.useMemo)(function () {
    var _find2;
    return (_find2 = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.find)(topics, function (topic) {
      var _sentryEvent$extra6;
      return topic.value === ((_sentryEvent$extra6 = sentryEvent.extra) === null || _sentryEvent$extra6 === void 0 ? void 0 : _sentryEvent$extra6.topic);
    })) !== null && _find2 !== void 0 ? _find2 : {
      label: '',
      value: ''
    };
  }, [(_sentryEvent$extra7 = sentryEvent.extra) === null || _sentryEvent$extra7 === void 0 ? void 0 : _sentryEvent$extra7.topic, topics]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container, {
    padding: {
      all: 'large'
    },
    mainAlignment: "space-around"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container, {
    orientation: "horizontal",
    height: "fit"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(TextContainer, {
    mainAlignment: "flex-start",
    crossAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Text, {
    weight: "bold",
    size: "large"
  }, t('feedback.report_something', 'Do you want to report something?')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(SubHeadingText, {
    overflow: "break-word",
    lineHeight: "1.5"
  }, t('feedback.explanation', 'Please send us your feedback about your new experience with Zextras Server. Your opinion is meaningful for us to improve our product. So tell us what’s on your mind.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(SubHeadingText, {
    overflow: "break-word"
  }, t('feedback.hint', 'Remember: define the topic using module and macro area selectors before write your feedback. Thanks for your help.'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(ButtonContainer, {
    crossAlignment: "flex-end",
    mainAlignment: "baseline"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Button, {
    label: t('feedback.send', 'SEND'),
    onClick: confirmHandler,
    disabled: disabledSend
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container, {
    padding: {
      bottom: 'medium'
    },
    height: "fit",
    mainAlignment: "space-between",
    crossAlignment: "flex-start",
    orientation: "horizontal"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container, {
    mainAlignment: "space-between",
    crossAlignment: "flex-start",
    maxWidth: "19.0625rem"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Row, {
    padding: {
      vertical: 'large'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Text, {
    weight: "bold",
    size: "small"
  }, "Module")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Select, {
    label: t('feedback.select_a_module', 'Select a module'),
    items: appItems,
    defaultSelection: {
      label: '',
      value: ''
    },
    onChange: onAppSelect,
    LabelFactory: ModuleLabelFactory
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Container, {
    mainAlignment: "space-between",
    crossAlignment: "flex-start",
    maxWidth: "19.0625rem"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Row, {
    padding: {
      vertical: 'large'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Text, {
    weight: "bold",
    size: "small"
  }, "Topic")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Select, {
    label: t('feedback.select_a_topic', 'Select a topic'),
    items: topics,
    defaultSelection: defaultTopic,
    onChange: onTopicSelect,
    LabelFactory: LabelFactory,
    multiple: false
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(TAContainer, {
    crossAlignment: "flex-end"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(TextArea, {
    value: sentryEvent.message,
    onKeyUp: checkTopicSelect,
    onChange: onInputChange,
    placeholder: t('feedback.write_here', 'Write your feedback here')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_22__.Text, {
    size: "medium",
    color: "secondary"
  }, limit, "/500")));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Feedback);

/***/ }),

/***/ "./src/reporting/functions.ts":
/*!************************************!*\
  !*** ./src/reporting/functions.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "feedback": () => (/* binding */ feedback),
/* harmony export */   "report": () => (/* binding */ report)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./store */ "./src/reporting/store.ts");











function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


var report = function report(appId) {
  return function (error, hint) {
    var _reporter$clients$app;
    var reporter = _store__WEBPACK_IMPORTED_MODULE_11__.useReporter.getState();
    var eventId = (_reporter$clients$app = reporter.clients[appId]) === null || _reporter$clients$app === void 0 ? void 0 : _reporter$clients$app.captureException(error, _objectSpread({}, hint));
    if (eventId) {
      console.info('Reported event ', eventId);
    }
    return eventId;
  };
};
var feedback = function feedback(message) {
  var reporter = _store__WEBPACK_IMPORTED_MODULE_11__.useReporter.getState();
  var eventId = reporter.clients.feedbacks.captureEvent(_objectSpread(_objectSpread({}, message), {}, {
    level: 'info'
  }));
  if (eventId) {
    console.info('Feedback ', eventId, ' sent, Thank you');
  }
  return eventId;
};

/***/ }),

/***/ "./src/reporting/index.ts":
/*!********************************!*\
  !*** ./src/reporting/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "feedback": () => (/* reexport safe */ _functions__WEBPACK_IMPORTED_MODULE_1__.feedback),
/* harmony export */   "report": () => (/* reexport safe */ _functions__WEBPACK_IMPORTED_MODULE_1__.report),
/* harmony export */   "useReporter": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_0__.useReporter)
/* harmony export */ });
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ "./src/reporting/store.ts");
/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functions */ "./src/reporting/functions.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



/***/ }),

/***/ "./src/reporting/store.ts":
/*!********************************!*\
  !*** ./src/reporting/store.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useReporter": () => (/* binding */ useReporter)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/browser */ "./node_modules/@sentry/core/esm/hub.js");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/browser */ "./node_modules/@sentry/browser/esm/client.js");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sentry/browser */ "./node_modules/@sentry/browser/esm/transports/fetch.js");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sentry/browser */ "./node_modules/@sentry/browser/esm/stack-parsers.js");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sentry/browser */ "./node_modules/@sentry/browser/esm/sdk.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");


/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





var useReporter = (0,zustand__WEBPACK_IMPORTED_MODULE_4__.create)()(function (set) {
  var _clients;
  return {
    clients: (_clients = {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(_clients, _constants__WEBPACK_IMPORTED_MODULE_3__.SHELL_APP_ID, new _sentry_browser__WEBPACK_IMPORTED_MODULE_5__.Hub(new _sentry_browser__WEBPACK_IMPORTED_MODULE_6__.BrowserClient({
      transport: _sentry_browser__WEBPACK_IMPORTED_MODULE_7__.makeFetchTransport,
      stackParser: _sentry_browser__WEBPACK_IMPORTED_MODULE_8__.defaultStackParser,
      integrations: _sentry_browser__WEBPACK_IMPORTED_MODULE_9__.defaultIntegrations,
      dsn: _constants__WEBPACK_IMPORTED_MODULE_3__.SENTRY_SHELL_DSN,
      release: '0',
      maxValueLength: 500
    }))), (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(_clients, "feedbacks", new _sentry_browser__WEBPACK_IMPORTED_MODULE_5__.Hub(new _sentry_browser__WEBPACK_IMPORTED_MODULE_6__.BrowserClient({
      transport: _sentry_browser__WEBPACK_IMPORTED_MODULE_7__.makeFetchTransport,
      stackParser: _sentry_browser__WEBPACK_IMPORTED_MODULE_8__.defaultStackParser,
      integrations: _sentry_browser__WEBPACK_IMPORTED_MODULE_9__.defaultIntegrations,
      dsn: _constants__WEBPACK_IMPORTED_MODULE_3__.SENTRY_FEEDBACK_DNS,
      release: '0',
      maxValueLength: 500
    }))), _clients),
    setClients: function setClients(apps) {
      set(function (s) {
        return {
          clients: (0,lodash__WEBPACK_IMPORTED_MODULE_2__.reduce)(apps, function (acc, app) {
            if (app.sentryDsn) {
              // eslint-disable-next-line no-param-reassign
              s.clients[app.name] = new _sentry_browser__WEBPACK_IMPORTED_MODULE_5__.Hub(new _sentry_browser__WEBPACK_IMPORTED_MODULE_6__.BrowserClient({
                transport: _sentry_browser__WEBPACK_IMPORTED_MODULE_7__.makeFetchTransport,
                stackParser: _sentry_browser__WEBPACK_IMPORTED_MODULE_8__.defaultStackParser,
                integrations: _sentry_browser__WEBPACK_IMPORTED_MODULE_9__.defaultIntegrations,
                dsn: app.sentryDsn,
                release: app.version,
                maxValueLength: 500
              }));
            }
            return acc;
          }, s.clients)
        };
      });
    }
  };
});

/***/ }),

/***/ "./src/search/module-selector.tsx":
/*!****************************************!*\
  !*** ./src/search/module-selector.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModuleSelector": () => (/* binding */ ModuleSelector)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.find.js */ "./node_modules/core-js/modules/es.array.find.js");
/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _search_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./search-store */ "./src/search/search-store.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");






/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var SelectorContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_11__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_12__.Container).withConfig({
  displayName: "module-selector__SelectorContainer",
  componentId: "sc-191wz47-0"
})(["border-right:0.0625rem solid ", ";cursor:pointer;background:", ";&:hover{background:", ";}"], function (_ref) {
  var theme = _ref.theme;
  return theme.palette.gray4.regular;
}, function (_ref2) {
  var theme = _ref2.theme,
    open = _ref2.open;
  return theme.palette[open ? 'gray5' : 'gray6'].regular;
}, function (_ref3) {
  var theme = _ref3.theme,
    open = _ref3.open;
  return theme.palette[open ? 'gray5' : 'gray6'].hover;
});
var ModuleSelectorComponent = function ModuleSelectorComponent(_ref4) {
  var app = _ref4.app;
  var modules = (0,_store_app__WEBPACK_IMPORTED_MODULE_7__.useAppStore)(function (s) {
    return s.views.search;
  });
  var _useSearchStore = (0,_search_store__WEBPACK_IMPORTED_MODULE_8__.useSearchStore)(),
    module = _useSearchStore.module,
    updateModule = _useSearchStore.updateModule;
  var fullModule = (0,react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {
    var _modules$find;
    return (_modules$find = modules.find(function (m) {
      return m.route === module;
    })) !== null && _modules$find !== void 0 ? _modules$find : modules[0];
  }, [module, modules]);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    open = _useState2[0],
    setOpen = _useState2[1];
  var dropdownItems = (0,react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {
    return modules.map(function (_ref5) {
      var id = _ref5.id,
        label = _ref5.label,
        icon = _ref5.icon,
        route = _ref5.route;
      return {
        id: id,
        label: label,
        icon: icon,
        onClick: function onClick() {
          updateModule(route);
          (0,_history_hooks__WEBPACK_IMPORTED_MODULE_10__.pushHistory)({
            route: _constants__WEBPACK_IMPORTED_MODULE_9__.SEARCH_APP_ID,
            path: "/".concat(route)
          });
        }
      };
    });
  }, [modules, updateModule]);
  (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {
    if (app !== _constants__WEBPACK_IMPORTED_MODULE_9__.SEARCH_APP_ID) {
      if (!fullModule || (fullModule === null || fullModule === void 0 ? void 0 : fullModule.app) !== app) {
        var _ref6, _modules$find2;
        updateModule((_ref6 = (_modules$find2 = modules.find(function (m) {
          return m.app === app;
        })) !== null && _modules$find2 !== void 0 ? _modules$find2 : modules[0]) === null || _ref6 === void 0 ? void 0 : _ref6.route);
      }
    }
  }, [app, fullModule, modules, updateModule]);
  var openDropdown = (0,react__WEBPACK_IMPORTED_MODULE_6__.useCallback)(function () {
    setOpen(true);
  }, []);
  var closeDropdown = (0,react__WEBPACK_IMPORTED_MODULE_6__.useCallback)(function () {
    setOpen(false);
  }, []);
  if (!fullModule) {
    return null;
  }

  // TODO: replace the Dropdown with a Select with the customLabelFactory
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_12__.Dropdown, {
    items: dropdownItems,
    onOpen: openDropdown,
    onClose: closeDropdown
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(SelectorContainer, {
    "data-testid": "HeaderModuleSelector",
    orientation: "horizontal",
    height: "2.625rem",
    width: "fit",
    minWidth: "9.375rem",
    crossAlignment: "center",
    mainAlignment: "space-between",
    borderRadius: "half"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_12__.Row, {
    takeAvailableSpace: true,
    mainAlignment: "unset",
    padding: {
      left: 'small'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_12__.Text, {
    size: "small",
    color: open ? 'primary' : 'text'
  }, fullModule === null || fullModule === void 0 ? void 0 : fullModule.label)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_12__.Icon, {
    size: "large",
    icon: open ? 'ChevronUpOutline' : 'ChevronDownOutline',
    color: open ? 'primary' : 'text',
    style: {
      alignSelf: 'center'
    }
  })));
};
var MemoModuleSelector = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().memo(ModuleSelectorComponent);
var ModuleSelector = function ModuleSelector() {
  var activeRoute = (0,_history_hooks__WEBPACK_IMPORTED_MODULE_10__.useCurrentRoute)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(MemoModuleSelector, {
    app: activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.app
  });
};

/***/ }),

/***/ "./src/search/run-search.ts":
/*!**********************************!*\
  !*** ./src/search/run-search.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "runSearch": () => (/* binding */ runSearch)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");
/* harmony import */ var _search_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./search-store */ "./src/search/search-store.tsx");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var runSearch = function runSearch(query, module) {
  _search_store__WEBPACK_IMPORTED_MODULE_2__.useSearchStore.setState({
    query: query,
    module: module,
    searchDisabled: false
  });
  (0,_history_hooks__WEBPACK_IMPORTED_MODULE_1__.pushHistory)({
    route: _constants__WEBPACK_IMPORTED_MODULE_0__.SEARCH_APP_ID,
    path: "/".concat(module)
  });
};

/***/ }),

/***/ "./src/search/search-app-view.tsx":
/*!****************************************!*\
  !*** ./src/search/search-app-view.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SearchAppView": () => (/* binding */ SearchAppView)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.find.js */ "./node_modules/core-js/modules/es.array.find.js");
/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _search_store__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./search-store */ "./src/search/search-store.tsx");







/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */










var useQuery = function useQuery() {
  return (0,_search_store__WEBPACK_IMPORTED_MODULE_13__.useSearchStore)(function (s) {
    return [s.query, s.updateQuery];
  });
};
var useDisableSearch = function useDisableSearch() {
  return (0,_search_store__WEBPACK_IMPORTED_MODULE_13__.useSearchStore)(function (s) {
    return [s.searchDisabled, s.setSearchDisabled];
  });
};
var getIconAndColor = function getIconAndColor(labelType) {
  if (labelType === _constants__WEBPACK_IMPORTED_MODULE_10__.ResultLabelType.WARNING) {
    return ['AlertTriangle', 'warning'];
  }
  if (labelType === _constants__WEBPACK_IMPORTED_MODULE_10__.ResultLabelType.ERROR) {
    return ['CloseSquare', 'error'];
  }
  return ['', ''];
};
var ResultsHeader = function ResultsHeader(_ref) {
  var label = _ref.label,
    _ref$labelType = _ref.labelType,
    labelType = _ref$labelType === void 0 ? _constants__WEBPACK_IMPORTED_MODULE_10__.ResultLabelType.NORMAL : _ref$labelType;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_12__.getT)();
  var _useQuery = useQuery(),
    _useQuery2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useQuery, 2),
    query = _useQuery2[0],
    updateQuery = _useQuery2[1];
  var _useDisableSearch = useDisableSearch(),
    _useDisableSearch2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useDisableSearch, 2),
    setDisabled = _useDisableSearch2[1];
  var resetQuery = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function () {
    updateQuery([]);
    setDisabled(false);
  }, [updateQuery, setDisabled]);
  var labelTypeElem = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(function () {
    if (labelType === _constants__WEBPACK_IMPORTED_MODULE_10__.ResultLabelType.NORMAL) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement((react__WEBPACK_IMPORTED_MODULE_8___default().Fragment), null);
    }
    var _getIconAndColor = getIconAndColor(labelType),
      _getIconAndColor2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_getIconAndColor, 2),
      icon = _getIconAndColor2[0],
      color = _getIconAndColor2[1];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Padding, {
      right: "small"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Icon, {
      icon: icon,
      size: "large",
      color: color
    }));
  }, [labelType]);
  var chipItems = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_7__.map)(query, function (queryChip, index) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Padding, {
        key: "".concat(index).concat(queryChip.label),
        all: "extrasmall"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Chip, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, queryChip, {
        background: 'gray2'
      })));
    });
  }, [query]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement((react__WEBPACK_IMPORTED_MODULE_8___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Container, {
    orientation: "horizontal",
    mainAlignment: "flex-start",
    width: "100%",
    background: 'gray5',
    height: "fit",
    minHeight: "3rem",
    maxHeight: "7.5rem",
    style: {
      overflow: 'hidden'
    },
    padding: {
      horizontal: 'large',
      vertical: 'medium'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Container, {
    width: "85%",
    orientation: "horizontal",
    wrap: "wrap",
    mainAlignment: "flex-start"
  }, labelTypeElem, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Text, {
    color: "secondary"
  }, label), chipItems), (query === null || query === void 0 ? void 0 : query.length) > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Container, {
    width: "15%",
    mainAlignment: "flex-start",
    crossAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Button, {
    label: t('label.clear_search_query', 'CLEAR SEARCH'),
    icon: "CloseOutline",
    color: "primary",
    width: "fill",
    type: "ghost",
    onClick: resetQuery
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_14__.Divider, {
    color: "gray3"
  }));
};
var SearchAppView = function SearchAppView() {
  var _searchViews$;
  var searchViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_11__.useAppStore)(function (s) {
    return s.views.search;
  });
  var _useSearchStore = (0,_search_store__WEBPACK_IMPORTED_MODULE_13__.useSearchStore)(),
    module = _useSearchStore.module;
  var modules = (0,_store_app__WEBPACK_IMPORTED_MODULE_11__.useAppStore)(function (s) {
    return s.views.search;
  });
  var fullModule = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(function () {
    return modules.find(function (m) {
      return m.route === module;
    });
  }, [module, modules]);
  var routes = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_7__.map)(searchViews, function (view) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_15__.Route, {
        key: "/".concat(view.route),
        path: "/".concat(_constants__WEBPACK_IMPORTED_MODULE_10__.SEARCH_APP_ID, "/").concat(view.route)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_9__["default"], {
        pkg: view.app
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(view.component, {
        useQuery: useQuery,
        ResultsHeader: ResultsHeader,
        useDisableSearch: useDisableSearch
      })));
    });
  }, [searchViews]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_15__.Switch, null, routes, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_15__.Redirect, {
    exact: true,
    strict: true,
    from: "/".concat(_constants__WEBPACK_IMPORTED_MODULE_10__.SEARCH_APP_ID),
    to: "/".concat(_constants__WEBPACK_IMPORTED_MODULE_10__.SEARCH_APP_ID, "/").concat(fullModule ? fullModule.route : (_searchViews$ = searchViews[0]) === null || _searchViews$ === void 0 ? void 0 : _searchViews$.route)
  }));
};

/***/ }),

/***/ "./src/search/search-bar.tsx":
/*!***********************************!*\
  !*** ./src/search/search-bar.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SearchBar": () => (/* binding */ SearchBar)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.reverse.js */ "./node_modules/core-js/modules/es.array.reverse.js");
/* harmony import */ var core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "./node_modules/core-js/modules/es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _module_selector__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./module-selector */ "./src/search/module-selector.tsx");
/* harmony import */ var _search_store__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./search-store */ "./src/search/search-store.tsx");
/* harmony import */ var _shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../shell/hooks/useLocalStorage */ "./src/shell/hooks/useLocalStorage.ts");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
















/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */











var OutlinedIconButton = (0,styled_components__WEBPACK_IMPORTED_MODULE_26__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.IconButton).withConfig({
  displayName: "search-bar__OutlinedIconButton",
  componentId: "sc-1h49lt8-0"
})(["border:0.0625rem solid ", ";display:block;& svg{border:none;}"], function (_ref) {
  var theme = _ref.theme,
    disabled = _ref.disabled;
  return disabled ? theme.palette.primary.disabled : theme.palette.primary.regular;
});
var StyledChipInput = (0,styled_components__WEBPACK_IMPORTED_MODULE_26__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.ChipInput).withConfig({
  displayName: "search-bar__StyledChipInput",
  componentId: "sc-1h49lt8-1"
})(["padding:0 1rem;&:hover{outline:none;background:", ";}"], function (_ref2) {
  var theme = _ref2.theme,
    disabled = _ref2.disabled;
  return disabled ? 'gray5' : theme.palette.gray5.hover;
});
var StyledContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_26__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Container).withConfig({
  displayName: "search-bar__StyledContainer",
  componentId: "sc-1h49lt8-2"
})(["height:2.625rem;overflow-y:hidden;&:first-child{transform:translateY(-0.125rem);}"]);
var SearchBar = function SearchBar() {
  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_20__.useRef)(null);
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_22__.getT)();
  var _useLocalStorage = (0,_shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_25__.useLocalStorage)(_constants__WEBPACK_IMPORTED_MODULE_21__.LOCAL_STORAGE_SEARCH_KEY, []),
    _useLocalStorage2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useLocalStorage, 2),
    storedSuggestions = _useLocalStorage2[0],
    setStoredSuggestions = _useLocalStorage2[1];
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_20__.useState)(''),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
    inputTyped = _useState2[0],
    setInputTyped = _useState2[1];
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_28__.useHistory)();
  var _useSearchStore = (0,_search_store__WEBPACK_IMPORTED_MODULE_24__.useSearchStore)(),
    updateQuery = _useSearchStore.updateQuery,
    module = _useSearchStore.module,
    query = _useSearchStore.query,
    searchDisabled = _useSearchStore.searchDisabled,
    setSearchDisabled = _useSearchStore.setSearchDisabled,
    tooltip = _useSearchStore.tooltip;
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_20__.useState)(false),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState3, 2),
    isTyping = _useState4[0],
    setIsTyping = _useState4[1];
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_20__.useState)([]),
    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState5, 2),
    options = _useState6[0],
    setOptions = _useState6[1];
  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_20__.useState)(false),
    _useState8 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState7, 2),
    inputHasFocus = _useState8[0],
    setInputHasFocus = _useState8[1];
  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_20__.useState)(query),
    _useState10 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState9, 2),
    searchInputValue = _useState10[0],
    setSearchInputValue = _useState10[1];
  var showClear = (0,react__WEBPACK_IMPORTED_MODULE_20__.useMemo)(function () {
    var _inputRef$current, _inputRef$current2, _inputRef$current2$va;
    return searchInputValue.length > 0 || ((_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.value) && ((_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : (_inputRef$current2$va = _inputRef$current2.value) === null || _inputRef$current2$va === void 0 ? void 0 : _inputRef$current2$va.length) > 0;
  }, [searchInputValue.length]);
  var clearSearch = (0,react__WEBPACK_IMPORTED_MODULE_20__.useCallback)(function () {
    if (inputRef.current) {
      var _inputRef$current3;
      inputRef.current.value = '';
      (_inputRef$current3 = inputRef.current) === null || _inputRef$current3 === void 0 ? void 0 : _inputRef$current3.focus();
    }
    setIsTyping(false);
    setSearchInputValue([]);
    setSearchDisabled(false);
    updateQuery([]);
    setInputTyped('');
  }, [setSearchDisabled, updateQuery]);
  var onSearch = (0,react__WEBPACK_IMPORTED_MODULE_20__.useCallback)(function () {
    updateQuery(function (currentQuery) {
      var ref = inputRef === null || inputRef === void 0 ? void 0 : inputRef.current;
      if (ref) {
        ref.value = '';
      }
      if (inputTyped.length > 0) {
        var newInputValue = [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(searchInputValue), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])((0,lodash__WEBPACK_IMPORTED_MODULE_19__.map)(inputTyped.split(' '), function (label, id) {
          return {
            id: "".concat(id),
            label: label,
            hasAvatar: false
          };
        })));
        setSearchInputValue(newInputValue);
        setInputTyped('');
        return (0,lodash__WEBPACK_IMPORTED_MODULE_19__.reduce)(newInputValue, function (acc, newInputChip) {
          if (!(0,lodash__WEBPACK_IMPORTED_MODULE_19__.some)(currentQuery, function (currentQueryChip) {
            return currentQueryChip.label === newInputChip.label;
          })) {
            acc.push(newInputChip);
          }
          return acc;
        }, (0,lodash__WEBPACK_IMPORTED_MODULE_19__.filter)(currentQuery, function (currentQueryChip) {
          return (0,lodash__WEBPACK_IMPORTED_MODULE_19__.some)(searchInputValue, function (searchInputChip) {
            return searchInputChip.label === currentQueryChip.label;
          });
        }));
      }
      setInputTyped('');
      return (0,lodash__WEBPACK_IMPORTED_MODULE_19__.reduce)(searchInputValue, function (acc, searchInputChip) {
        if (!(0,lodash__WEBPACK_IMPORTED_MODULE_19__.some)(currentQuery, function (currentQueryChip) {
          return currentQueryChip.label === searchInputChip.label;
        })) {
          acc.push(searchInputChip);
        }
        return acc;
      }, (0,lodash__WEBPACK_IMPORTED_MODULE_19__.filter)(currentQuery, function (currentQueryChip) {
        return (0,lodash__WEBPACK_IMPORTED_MODULE_19__.some)(searchInputValue, function (searchInputChip) {
          return searchInputChip.label === currentQueryChip.label;
        });
      }));
    });
    // TODO: perform a navigation only when coming from a different module (not the search one)
    history.push("/".concat(_constants__WEBPACK_IMPORTED_MODULE_21__.SEARCH_APP_ID, "/").concat(module));
  }, [updateQuery, history, module, inputTyped, searchInputValue]);
  var appSuggestions = (0,react__WEBPACK_IMPORTED_MODULE_20__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_19__.filter)(storedSuggestions, function (v) {
      return v.app === module;
    }).reverse().map(function (item) {
      return _objectSpread(_objectSpread({}, item), {}, {
        disabled: searchDisabled,
        onClick: function onClick() {
          var newInputChip = _objectSpread(_objectSpread({}, item), {}, {
            hasAvatar: false,
            onClick: undefined
          });
          setSearchInputValue(function (prevState) {
            return [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(prevState), [newInputChip]);
          });
        }
      });
    });
  }, [storedSuggestions, module, searchDisabled]);
  var updateOptions = (0,react__WEBPACK_IMPORTED_MODULE_20__.useCallback)(function (textContent, queryChips) {
    if (textContent.length > 0) {
      setOptions(appSuggestions.filter(function (suggestion) {
        return textContent && suggestion.label.includes(textContent) && !(0,lodash__WEBPACK_IMPORTED_MODULE_19__.some)(queryChips, function (queryChip) {
          return queryChip.value === suggestion.label;
        });
      }).slice(0, 5));
    } else {
      setOptions(appSuggestions.slice(0, 5));
    }
  }, [appSuggestions]);
  var onQueryChange = (0,react__WEBPACK_IMPORTED_MODULE_20__.useCallback)(function (newQuery) {
    var _newQuery;
    // FIXME: move the saving of suggestions after the search occurs.
    // 	The saving logic should not be placed here because the onChange is called even when a chip is removed from the chipInput.
    //  So, at the moment, keywords never searched for are saved too.
    var lastChipLabel = (_newQuery = newQuery[newQuery.length - 1]) === null || _newQuery === void 0 ? void 0 : _newQuery.label;
    if (lastChipLabel && typeof lastChipLabel === 'string' && module && !(0,lodash__WEBPACK_IMPORTED_MODULE_19__.find)(appSuggestions, function (suggestion) {
      return suggestion.label === lastChipLabel;
    })) {
      setStoredSuggestions(function (prevState) {
        var newSuggestion = {
          value: lastChipLabel,
          label: lastChipLabel,
          icon: 'ClockOutline',
          app: module,
          id: lastChipLabel
        };
        return [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(prevState), [newSuggestion]);
      });
    }

    // FIXME: remove the cast (by making ChipItem support generics?)
    setSearchInputValue(newQuery);
  }, [appSuggestions, module, setStoredSuggestions]);
  var onInputType = (0,react__WEBPACK_IMPORTED_MODULE_20__.useCallback)(function (ev) {
    if (!ev.textContent) {
      setIsTyping(false);
    } else {
      setIsTyping(true);
    }
    setInputTyped(ev.textContent || '');
    updateOptions(ev.textContent || '', query);
  }, [query, updateOptions]);
  (0,react__WEBPACK_IMPORTED_MODULE_20__.useEffect)(function () {
    if (module) {
      var suggestions = (0,lodash__WEBPACK_IMPORTED_MODULE_19__.filter)(appSuggestions, function (suggestion) {
        return suggestion.app === module;
      }).slice(0, 5);
      setOptions(suggestions);
    }
  }, [appSuggestions, module]);
  var containerRef = (0,react__WEBPACK_IMPORTED_MODULE_20__.useRef)(null);
  var addFocus = (0,react__WEBPACK_IMPORTED_MODULE_20__.useCallback)(function () {
    return setInputHasFocus(true);
  }, []);
  var removeFocus = (0,react__WEBPACK_IMPORTED_MODULE_20__.useCallback)(function () {
    return setInputHasFocus(false);
  }, []);

  // disabled for now, awaiting refactor of the search bar
  // useEffect(() => {
  // 	const handler = (event: KeyboardEvent): unknown =>
  // 		handleKeyboardShortcuts({
  // 			event,
  // 			inputRef,
  // 			primaryAction,
  // 			secondaryActions,
  // 			currentApp
  // 		});
  // 	document.addEventListener('keydown', handler);
  // 	return (): void => {
  // 		document.removeEventListener('keydown', handler);
  // 	};
  // }, [currentApp, inputRef, primaryAction, secondaryActions]);

  (0,react__WEBPACK_IMPORTED_MODULE_20__.useEffect)(function () {
    var ref = inputRef.current;
    var runSearchOnKeyUp = function runSearchOnKeyUp(ev) {
      if (ev.key === 'Enter') {
        onSearch();
        removeFocus();
      }
    };
    if (ref) {
      ref.addEventListener('keyup', runSearchOnKeyUp);
    }
    return function () {
      if (ref) {
        ref.removeEventListener('keyup', runSearchOnKeyUp);
      }
    };
  }, [onSearch, removeFocus]);
  var disableOptions = (0,react__WEBPACK_IMPORTED_MODULE_20__.useMemo)(function () {
    return !(options.length > 0) || isTyping;
  }, [options, isTyping]);
  var placeholder = (0,react__WEBPACK_IMPORTED_MODULE_20__.useMemo)(function () {
    return inputHasFocus && module ? t('search.active_input_label', 'Separate your keywords by a comma or pressing TAB') : t('search.idle_input_label', 'Search in {{module}}', {
      module: module
    });
  }, [inputHasFocus, module, t]);
  var clearButtonPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_20__.useMemo)(function () {
    return showClear || isTyping ? t('search.clear', 'Clear search input') : t('search.already_clear', 'Search input is already clear');
  }, [showClear, t, isTyping]);
  var searchButtonsAreDisabled = (0,react__WEBPACK_IMPORTED_MODULE_20__.useMemo)(function () {
    return isTyping ? false : !showClear;
  }, [showClear, isTyping]);
  var searchBtnTooltipLabel = (0,react__WEBPACK_IMPORTED_MODULE_20__.useMemo)(function () {
    if (!searchButtonsAreDisabled && searchInputValue.length > 0) {
      return t('search.start', 'Start search');
    }
    if (inputHasFocus) {
      return t('search.type_or_choose_suggestion', 'Type or choose some keywords to start a search');
    }
    if (query.length > 0) {
      return t('label.edit_to_start_search', 'Edit your search to start a new one');
    }
    return t('search.type_to_start_search', 'Type some keywords to start a search');
  }, [searchButtonsAreDisabled, searchInputValue.length, inputHasFocus, query.length, t]);
  var onChipAdd = (0,react__WEBPACK_IMPORTED_MODULE_20__.useCallback)(function (newChip) {
    setIsTyping(false);
    setInputTyped('');
    if (module) {
      var suggestions = (0,lodash__WEBPACK_IMPORTED_MODULE_19__.filter)(appSuggestions, function (suggestion) {
        return (suggestion === null || suggestion === void 0 ? void 0 : suggestion.app) === module;
      }).slice(0, 5);
      setOptions(suggestions);
    }
    return {
      label: typeof newChip === 'string' ? newChip : '',
      value: newChip,
      hasAvatar: false
    };
  }, [appSuggestions, module]);
  (0,react__WEBPACK_IMPORTED_MODULE_20__.useEffect)(function () {
    setSearchInputValue((0,lodash__WEBPACK_IMPORTED_MODULE_19__.map)(query, function (queryChip) {
      return _objectSpread(_objectSpread({}, queryChip), {}, {
        disabled: searchDisabled
      });
    }));
  }, [searchDisabled, query]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Container, {
    minWidth: "fit-content",
    width: "fit",
    flexGrow: "1",
    orientation: "horizontal",
    ref: containerRef
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Tooltip, {
    disabled: !searchDisabled,
    maxWidth: "100%",
    label: tooltip !== null && tooltip !== void 0 ? tooltip : t('search.unable_to_parse_query', 'Unable to complete the search, clear it and retry')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Container, {
    orientation: "horizontal",
    width: "fill"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Container, {
    minWidth: "32rem",
    width: "fill"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Container, {
    orientation: "horizontal",
    width: "fill"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Container, {
    width: "fit"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_module_selector__WEBPACK_IMPORTED_MODULE_23__.ModuleSelector, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(StyledContainer, {
    orientation: "horizontal"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(StyledChipInput, {
    disabled: searchDisabled,
    inputRef: inputRef,
    value: searchInputValue,
    onAdd: onChipAdd,
    options: options,
    placeholder: placeholder,
    confirmChipOnBlur: false,
    separators: ['Enter', 'NumpadEnter', 'Comma', 'Space'],
    background: searchDisabled ? 'gray5' : 'gray6',
    style: {
      cursor: 'pointer',
      overflowX: 'hidden'
    },
    onChange: onQueryChange,
    onInputType: onInputType,
    onInputTypeDebounce: 0,
    onBlur: removeFocus,
    onFocus: addFocus,
    disableOptions: disableOptions,
    requireUniqueChips: false
  })))), !searchButtonsAreDisabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Padding, {
    left: "small"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Tooltip, {
    label: clearButtonPlaceholder,
    placement: "bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(OutlinedIconButton, {
    size: "large",
    customSize: {
      iconSize: 'large',
      paddingSize: 'small'
    },
    disabled: searchButtonsAreDisabled,
    icon: "BackspaceOutline",
    iconColor: "primary",
    onClick: clearSearch
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Padding, {
    left: "small"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.Tooltip, {
    maxWidth: "100%",
    disabled: searchDisabled,
    label: searchBtnTooltipLabel,
    placement: "bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_20___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_27__.IconButton, {
    size: "large",
    customSize: {
      iconSize: 'large',
      paddingSize: 'small'
    },
    icon: "Search",
    disabled: searchButtonsAreDisabled,
    backgroundColor: "primary",
    iconColor: "gray6",
    onClick: onSearch
  }))))));
};

/***/ }),

/***/ "./src/search/search-store.tsx":
/*!*************************************!*\
  !*** ./src/search/search-store.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useSearchStore": () => (/* binding */ useSearchStore)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useSearchStore = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)()(function (set, get) {
  return {
    query: [],
    searchDisabled: false,
    tooltip: undefined,
    setSearchDisabled: function setSearchDisabled(searchDisabled, tooltip) {
      return set({
        searchDisabled: searchDisabled,
        tooltip: tooltip
      });
    },
    updateQuery: function updateQuery(query) {
      return set({
        query: (0,lodash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(query) ? query(get().query) : query
      });
    },
    updateModule: function updateModule(module) {
      return set({
        module: module
      });
    }
  };
});

/***/ }),

/***/ "./src/settings/account-wrapper.tsx":
/*!******************************************!*\
  !*** ./src/settings/account-wrapper.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "identityToIdentityProps": () => (/* binding */ identityToIdentityProps)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.date.to-string.js */ "./node_modules/core-js/modules/es.date.to-string.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "./node_modules/core-js/modules/es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _accounts_settings__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./accounts-settings */ "./src/settings/accounts-settings.tsx");






/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






var tDefault = function tDefault(key, defaultValue) {
  if (typeof defaultValue === 'string') {
    return defaultValue;
  }
  return (defaultValue === null || defaultValue === void 0 ? void 0 : defaultValue.defaultValue) || key;
};
var identityToIdentityProps = function identityToIdentityProps(identity, index) {
  var _identity$_attrs, _identity$_attrs2, _identity$_attrs3, _identity$_attrs4, _identity$_attrs5, _identity$_attrs6, _identity$_attrs7, _identity$_attrs8, _identity$_attrs9, _identity$_attrs10, _identity$_attrs11;
  var t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : tDefault;
  return {
    id: identity.name === 'DEFAULT' ? '0' : (index + 1).toString(),
    flgType: identity.name === 'DEFAULT' ? 'primary' : 'persona',
    type: identity.name === 'DEFAULT' ? t('label.primary', 'Primary') : t('label.persona', 'Persona'),
    identityId: ((_identity$_attrs = identity._attrs) === null || _identity$_attrs === void 0 ? void 0 : _identity$_attrs.zimbraPrefIdentityId) || '',
    fromAddress: ((_identity$_attrs2 = identity._attrs) === null || _identity$_attrs2 === void 0 ? void 0 : _identity$_attrs2.zimbraPrefFromAddress) || '',
    identityName: ((_identity$_attrs3 = identity._attrs) === null || _identity$_attrs3 === void 0 ? void 0 : _identity$_attrs3.zimbraPrefIdentityName) || '',
    fromDisplay: ((_identity$_attrs4 = identity._attrs) === null || _identity$_attrs4 === void 0 ? void 0 : _identity$_attrs4.zimbraPrefFromDisplay) || '',
    replyToDisplay: ((_identity$_attrs5 = identity._attrs) === null || _identity$_attrs5 === void 0 ? void 0 : _identity$_attrs5.zimbraPrefReplyToDisplay) || '',
    replyToAddress: ((_identity$_attrs6 = identity._attrs) === null || _identity$_attrs6 === void 0 ? void 0 : _identity$_attrs6.zimbraPrefReplyToAddress) || '',
    replyToEnabled: ((_identity$_attrs7 = identity._attrs) === null || _identity$_attrs7 === void 0 ? void 0 : _identity$_attrs7.zimbraPrefReplyToEnabled) || '',
    saveToSent: ((_identity$_attrs8 = identity._attrs) === null || _identity$_attrs8 === void 0 ? void 0 : _identity$_attrs8.zimbraPrefSaveToSent) || '',
    sentMailFolder: ((_identity$_attrs9 = identity._attrs) === null || _identity$_attrs9 === void 0 ? void 0 : _identity$_attrs9.zimbraPrefSentMailFolder) || '',
    whenInFoldersEnabled: ((_identity$_attrs10 = identity._attrs) === null || _identity$_attrs10 === void 0 ? void 0 : _identity$_attrs10.zimbraPrefWhenInFoldersEnabled) || '',
    whenSentToEnabled: ((_identity$_attrs11 = identity._attrs) === null || _identity$_attrs11 === void 0 ? void 0 : _identity$_attrs11.zimbraPrefWhenSentToEnabled) || ''
  };
};
var AccountWrapper = function AccountWrapper() {
  var accountSettings = (0,_store_account__WEBPACK_IMPORTED_MODULE_8__.useUserAccount)();
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_9__.getT)();
  var identitiesDefault = (0,react__WEBPACK_IMPORTED_MODULE_7__.useMemo)(function () {
    var temp = (0,lodash__WEBPACK_IMPORTED_MODULE_6__.map)(accountSettings === null || accountSettings === void 0 ? void 0 : accountSettings.identities.identity, function (item, index) {
      return identityToIdentityProps(item, index, t);
    });
    var result = [temp[temp.length - 1]].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(temp));
    result.pop();
    return result;
  }, [accountSettings, t]);
  return identitiesDefault.length > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_accounts_settings__WEBPACK_IMPORTED_MODULE_10__.AccountsSettings, {
    account: accountSettings,
    identitiesDefault: identitiesDefault
  }) : null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AccountWrapper);

/***/ }),

/***/ "./src/settings/accounts-settings.tsx":
/*!********************************************!*\
  !*** ./src/settings/accounts-settings.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccountsSettings": () => (/* binding */ AccountsSettings)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/esnext.promise.all-settled.js */ "./node_modules/core-js/modules/esnext.promise.all-settled.js");
/* harmony import */ var core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.date.to-string.js */ "./node_modules/core-js/modules/es.date.to-string.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "./node_modules/core-js/modules/es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ "./node_modules/core-js/modules/es.array.splice.js");
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_37__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _components_account_settings_accounts_list__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/account-settings/accounts-list */ "./src/settings/components/account-settings/accounts-list.tsx");
/* harmony import */ var _components_account_settings_primary_account_settings__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/account-settings/primary-account-settings */ "./src/settings/components/account-settings/primary-account-settings.tsx");
/* harmony import */ var _components_account_settings_settings_sent_messages__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/account-settings/settings-sent-messages */ "./src/settings/components/account-settings/settings-sent-messages.tsx");
/* harmony import */ var _components_account_settings_delegates__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/account-settings/delegates */ "./src/settings/components/account-settings/delegates.tsx");
/* harmony import */ var _components_account_settings_persona_settings__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/account-settings/persona-settings */ "./src/settings/components/account-settings/persona-settings.tsx");
/* harmony import */ var _network_fetch__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../network/fetch */ "./src/network/fetch.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _components_settings_header__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./components/settings-header */ "./src/settings/components/settings-header.tsx");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }






















/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */














/**
 * Compose a unique list of all identities' email addresses
 *
 * The list is composed of:
 * - the email address of the current account
 * - the email addresses of all the shared accounts (taken from the rights infos)
 * - all the aliases
 *
 * @param account
 * @param settings
 *
 * @returns a list of unique email addresses
 */
var getAvailableEmailAddresses = function getAvailableEmailAddresses(account, settings) {
  var _account$rights;
  var result = [];

  // Adds the email address of the primary account
  result.push(account.name);

  // Adds the email addresses of all the shared accounts
  if ((_account$rights = account.rights) !== null && _account$rights !== void 0 && _account$rights.targets) {
    var _account$rights2;
    (_account$rights2 = account.rights) === null || _account$rights2 === void 0 ? void 0 : _account$rights2.targets.forEach(function (target) {
      if (target.target && (target.right === 'sendAs' || target.right === 'sendOnBehalfOf')) {
        target.target.forEach(function (user) {
          if (user.type === 'account' && user.email) {
            user.email.forEach(function (email) {
              result.push(email.addr);
            });
          }
        });
      }
    });
  }

  // Adds all the aliases
  if (settings.attrs.zimbraMailAlias) {
    if ((0,lodash__WEBPACK_IMPORTED_MODULE_26__.isArray)(settings.attrs.zimbraMailAlias)) {
      result.push.apply(result, (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__["default"])(settings.attrs.zimbraMailAlias));
    } else {
      result.push(String(settings.attrs.zimbraMailAlias));
    }
  }
  return (0,lodash__WEBPACK_IMPORTED_MODULE_26__.uniq)(result);
};
var AccountsSettings = function AccountsSettings(_ref) {
  var _identities$selectedI, _identities$selectedI2;
  var account = _ref.account,
    identitiesDefault = _ref.identitiesDefault;
  var _useTranslation = (0,react_i18next__WEBPACK_IMPORTED_MODULE_27__.useTranslation)(),
    _useTranslation2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useTranslation, 1),
    t = _useTranslation2[0];
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_25__.useState)({}),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
    createList = _useState2[0],
    setCreateList = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_25__.useState)([]),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState3, 2),
    deleteList = _useState4[0],
    setDeleteList = _useState4[1];
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_25__.useState)({}),
    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState5, 2),
    modifyList = _useState6[0],
    setModifyList = _useState6[1];
  var resetLists = (0,react__WEBPACK_IMPORTED_MODULE_25__.useCallback)(function () {
    setCreateList({});
    setDeleteList([]);
    setModifyList({});
  }, []);
  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_25__.useState)(0),
    _useState8 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState7, 2),
    selectedIdentityId = _useState8[0],
    setSelectedIdentityId = _useState8[1];
  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_25__.useState)(identitiesDefault),
    _useState10 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState9, 2),
    identities = _useState10[0],
    setIdentities = _useState10[1];
  var settings = (0,_store_account__WEBPACK_IMPORTED_MODULE_28__.useUserSettings)();
  var maxIdentities = settings.attrs.zimbraIdentityMaxNumEntries;
  var onCancel = (0,react__WEBPACK_IMPORTED_MODULE_25__.useCallback)(function () {
    resetLists();
    setIdentities(identitiesDefault);
    setSelectedIdentityId((0,lodash__WEBPACK_IMPORTED_MODULE_26__.size)(identitiesDefault) - 1);
  }, [identitiesDefault, resetLists]);
  var updateModifyList = (0,react__WEBPACK_IMPORTED_MODULE_25__.useCallback)(function (id, key, value) {
    setModifyList(function (prevState) {
      var updatedIdentityKey = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.lowerFirst)((0,lodash__WEBPACK_IMPORTED_MODULE_26__.replace)(key, 'zimbraPref', ''));
      var prevRecordPrefs = prevState[id] || {};
      var actualIdentity = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.find)(identitiesDefault, function (item) {
        return item.identityId === id;
      });
      var newModifyList = _objectSpread(_objectSpread({}, prevState), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, id, _objectSpread(_objectSpread({}, prevRecordPrefs), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, key, value))));
      if (actualIdentity && actualIdentity[updatedIdentityKey] === value) {
        delete newModifyList[id][key];
      }
      if ((0,lodash__WEBPACK_IMPORTED_MODULE_26__.size)(newModifyList[id]) === 0) {
        delete newModifyList[id];
      }
      return newModifyList;
    });
  }, [identitiesDefault]);
  var modifyCreateList = (0,react__WEBPACK_IMPORTED_MODULE_25__.useCallback)(function (id, key, value) {
    setCreateList(function (prevState) {
      var newCreateList = _objectSpread({}, prevState);
      newCreateList[id][key] = value;
      return newCreateList;
    });
  }, []);
  var addIdentity = (0,react__WEBPACK_IMPORTED_MODULE_25__.useCallback)(function (id, identityAttrs) {
    setCreateList(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, id, identityAttrs));
    });
  }, []);
  var updateIdentities = (0,react__WEBPACK_IMPORTED_MODULE_25__.useCallback)(function (id, key, value) {
    if (typeof id === 'string') {
      updateModifyList(id, key, value);
    } else {
      modifyCreateList(id, key, value);
    }
    var updatedIdentityKey = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.lowerFirst)((0,lodash__WEBPACK_IMPORTED_MODULE_26__.replace)(key, 'zimbraPref', ''));
    setIdentities(function (prevState) {
      return (0,lodash__WEBPACK_IMPORTED_MODULE_26__.map)(prevState, function (item) {
        return item.identityId === id ? _objectSpread(_objectSpread({}, item), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, updatedIdentityKey, value)) : item;
      });
    });
  }, [updateModifyList, modifyCreateList]);
  var removeIdentity = (0,react__WEBPACK_IMPORTED_MODULE_25__.useCallback)(function (identityId) {
    if (typeof identityId === 'string') {
      setDeleteList(function (prevState) {
        return [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__["default"])(prevState), [identityId]);
      });
      setModifyList(function (prevState) {
        if (prevState[identityId]) {
          var newModifyList = _objectSpread({}, prevState);
          delete newModifyList[identityId];
          return newModifyList;
        }
        return prevState;
      });
    } else {
      setCreateList(function (prevState) {
        if (prevState[identityId]) {
          var newCreateList = _objectSpread({}, prevState);
          delete newCreateList[identityId];
          return newCreateList;
        }
        return prevState;
      });
    }
  }, []);
  var createSnackbar = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_37__.useSnackbar)();
  (0,react__WEBPACK_IMPORTED_MODULE_25__.useEffect)(function () {
    setIdentities(identitiesDefault);
    resetLists();
  }, [identitiesDefault, resetLists]);
  var onSave = (0,react__WEBPACK_IMPORTED_MODULE_25__.useCallback)(function () {
    if (maxIdentities !== undefined && identitiesDefault.length + ((0,lodash__WEBPACK_IMPORTED_MODULE_26__.size)(createList) || 0) - ((deleteList === null || deleteList === void 0 ? void 0 : deleteList.length) || 0) > maxIdentities) {
      createSnackbar({
        key: "new",
        replace: true,
        type: 'error',
        label: t('message.snackbar.identities_quota_exceeded', 'The identity could not be created because you have exceeded your identity quota'),
        autoHideTimeout: 5000,
        hideButton: true
      });
      return Promise.allSettled([Promise.reject(new Error('The identity could not be created because you have exceeded your identity quota'))]);
    }
    var createIdentityRequests = [];
    if (createList) {
      createIdentityRequests = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.map)(createList, function (item) {
        return {
          _jsns: 'urn:zimbraAccount',
          identity: {
            name: item.zimbraPrefIdentityName,
            _attrs: _objectSpread(_objectSpread({}, item), {}, {
              zimbraPrefFromAddressType: item.zimbraPrefFromAddressType || 'sendAs'
            })
          }
        };
      });
    }
    var deleteRequests = [];
    if (deleteList) {
      deleteRequests = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.map)(deleteList, function (identityId, index) {
        return {
          _jsns: 'urn:zimbraAccount',
          identity: {
            id: identityId
          },
          requestId: index.toString()
        };
      });
    }
    var modifyIdentityRequests = [];
    if (modifyList) {
      modifyIdentityRequests = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.map)(modifyList, function (item, index) {
        return {
          _jsns: 'urn:zimbraAccount',
          identity: {
            id: index,
            _attrs: item
          }
        };
      });
    }
    var promise = (0,_network_fetch__WEBPACK_IMPORTED_MODULE_34__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_35__.SHELL_APP_ID)('Batch', {
      _jsns: 'urn:zimbra',
      DeleteIdentityRequest: deleteRequests.length > 0 ? deleteRequests : undefined,
      CreateIdentityRequest: createIdentityRequests.length > 0 ? createIdentityRequests : undefined,
      ModifyIdentityRequest: modifyIdentityRequests.length > 0 ? modifyIdentityRequests : undefined
    }).then(function (res) {
      _store_account__WEBPACK_IMPORTED_MODULE_28__.useAccountStore.setState(function (s) {
        var _find, _s$account2;
        var newIdentity;
        if (typeof s.account !== 'undefined') {
          var filteredIdentities = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.filter)(s.account.identities.identity, function (item) {
            return !(deleteList !== null && deleteList !== void 0 && deleteList.includes(item.id));
          });
          filteredIdentities.splice.apply(filteredIdentities, [-1, 0].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__["default"])((0,lodash__WEBPACK_IMPORTED_MODULE_26__.map)(res === null || res === void 0 ? void 0 : res.CreateIdentityResponse, function (item) {
            return item.identity[0];
          }))));
          newIdentity = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.reduce)(modifyList, function (acc, prefs, id) {
            var propIndex = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.findIndex)(acc, function (itemMods, indexAccount) {
              return acc[indexAccount].id === id;
            });
            if (propIndex > -1) {
              // eslint-disable-next-line no-param-reassign
              acc[propIndex]._attrs = _objectSpread(_objectSpread({}, acc[propIndex]._attrs), prefs);
              if (prefs.zimbraPrefIdentityName && acc[propIndex].name !== 'DEFAULT') {
                // eslint-disable-next-line no-param-reassign
                acc[propIndex].name = prefs.zimbraPrefIdentityName;
              }
            }
            return acc;
          }, filteredIdentities);
        }
        return _objectSpread(_objectSpread({}, s), {}, {
          account: _objectSpread(_objectSpread({}, s.account), {}, {
            displayName: ((_find = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.find)(modifyList, function (item) {
              var _s$account;
              return item.zimbraPrefIdentityId === (s === null || s === void 0 ? void 0 : (_s$account = s.account) === null || _s$account === void 0 ? void 0 : _s$account.id);
            })) === null || _find === void 0 ? void 0 : _find.zimbraPrefIdentityName) || ((_s$account2 = s.account) === null || _s$account2 === void 0 ? void 0 : _s$account2.displayName),
            identities: {
              identity: newIdentity
            }
          })
        });
      });
      resetLists();
      createSnackbar({
        key: "new",
        replace: true,
        type: 'info',
        label: t('message.snackbar.settings_saved', 'Edits saved correctly'),
        autoHideTimeout: 3000,
        hideButton: true
      });
    })["catch"](function (error) {
      createSnackbar({
        key: "new",
        replace: true,
        type: 'error',
        label: t('snackbar.error', 'Something went wrong, please try again'),
        autoHideTimeout: 3000,
        hideButton: true
      });
      if (error instanceof Error) {
        throw error;
      }
      throw new Error(typeof error === 'string' ? error : 'edit setting error');
    });
    return Promise.allSettled([promise]);
  }, [identitiesDefault.length, createList, deleteList, maxIdentities, modifyList, resetLists, createSnackbar, t]);
  var title = t('label.accounts', 'Accounts');
  var isDirty = (0,react__WEBPACK_IMPORTED_MODULE_25__.useMemo)(function () {
    return !(0,lodash__WEBPACK_IMPORTED_MODULE_26__.isEmpty)(createList) || !(0,lodash__WEBPACK_IMPORTED_MODULE_26__.isEmpty)(deleteList) || !(0,lodash__WEBPACK_IMPORTED_MODULE_26__.isEmpty)(modifyList);
  }, [createList, deleteList, modifyList]);
  var availableEmailAddresses = (0,react__WEBPACK_IMPORTED_MODULE_25__.useMemo)(function () {
    return getAvailableEmailAddresses(account, settings);
  }, [account, settings]);
  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_25__.useState)([]),
    _useState12 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState11, 2),
    delegates = _useState12[0],
    setDelegates = _useState12[1];
  (0,react__WEBPACK_IMPORTED_MODULE_25__.useEffect)(function () {
    (0,_network_fetch__WEBPACK_IMPORTED_MODULE_34__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_35__.SHELL_APP_ID)('GetRights', {
      _jsns: 'urn:zimbraAccount',
      ace: [{
        right: 'sendAs'
      }, {
        right: 'sendOnBehalfOf'
      }]
    }).then(function (value) {
      if (value.ace) {
        var ace = value.ace;
        var result = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.reduce)(ace, function (accumulator, item, idx) {
          var index = (0,lodash__WEBPACK_IMPORTED_MODULE_26__.findIndex)(accumulator, {
            email: item.d
          });
          if (index === -1) {
            accumulator.push({
              email: item.d || '',
              right: item.right,
              id: idx.toString()
            });
          } else {
            accumulator.push({
              email: item.d || '',
              right: "".concat(item.right, " and ").concat(accumulator[index].right),
              id: idx.toString()
            });
            accumulator.splice(index, 1);
          }
          return accumulator;
        }, []);
        setDelegates(result);
      }
    });
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement((react__WEBPACK_IMPORTED_MODULE_25___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_components_settings_header__WEBPACK_IMPORTED_MODULE_36__["default"], {
    onSave: onSave,
    onCancel: onCancel,
    isDirty: isDirty,
    title: title
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_37__.Container, {
    background: "gray5",
    padding: {
      top: 'large'
    },
    height: "fit"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_37__.Container, {
    background: "gray5",
    mainAlignment: "flex-start",
    padding: {
      all: 'large'
    },
    style: {
      overflow: 'auto'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_components_account_settings_accounts_list__WEBPACK_IMPORTED_MODULE_29__["default"], {
    t: t,
    accountName: account.name,
    identities: identities,
    setIdentities: setIdentities,
    selectedIdentityId: selectedIdentityId,
    setSelectedIdentityId: setSelectedIdentityId,
    removeIdentity: removeIdentity,
    addIdentity: addIdentity
  }), ((_identities$selectedI = identities[selectedIdentityId]) === null || _identities$selectedI === void 0 ? void 0 : _identities$selectedI.flgType) === 'primary' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement((react__WEBPACK_IMPORTED_MODULE_25___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_components_account_settings_primary_account_settings__WEBPACK_IMPORTED_MODULE_30__["default"], {
    t: t,
    account: account,
    identity: identities[0],
    updateIdentities: updateIdentities
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_components_account_settings_settings_sent_messages__WEBPACK_IMPORTED_MODULE_31__["default"], {
    t: t,
    identity: identities[selectedIdentityId],
    isExternalAccount: false,
    updateIdentities: updateIdentities,
    availableEmailAddresses: availableEmailAddresses
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_components_account_settings_delegates__WEBPACK_IMPORTED_MODULE_32__["default"], {
    delegates: delegates
  })), ((_identities$selectedI2 = identities[selectedIdentityId]) === null || _identities$selectedI2 === void 0 ? void 0 : _identities$selectedI2.flgType) === 'persona' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement((react__WEBPACK_IMPORTED_MODULE_25___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_components_account_settings_persona_settings__WEBPACK_IMPORTED_MODULE_33__["default"], {
    t: t,
    items: identities[selectedIdentityId],
    updateIdentities: updateIdentities
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default().createElement(_components_account_settings_settings_sent_messages__WEBPACK_IMPORTED_MODULE_31__["default"], {
    t: t,
    identity: identities[selectedIdentityId],
    isExternalAccount: false,
    updateIdentities: updateIdentities,
    availableEmailAddresses: availableEmailAddresses
  }))));
};

/***/ }),

/***/ "./src/settings/components/account-settings/accounts-list.tsx":
/*!********************************************************************!*\
  !*** ./src/settings/components/account-settings/accounts-list.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "./node_modules/core-js/modules/es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.parse-float.js */ "./node_modules/core-js/modules/es.parse-float.js");
/* harmony import */ var core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "./node_modules/core-js/modules/es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.date.to-string.js */ "./node_modules/core-js/modules/es.date.to-string.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "./node_modules/core-js/modules/es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_22__);


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }



















/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var AccountsList = function AccountsList(_ref) {
  var _identities$selectedI2, _identities$selectedI3;
  var t = _ref.t,
    accountName = _ref.accountName,
    selectedIdentityId = _ref.selectedIdentityId,
    identities = _ref.identities,
    setIdentities = _ref.setIdentities,
    setSelectedIdentityId = _ref.setSelectedIdentityId,
    removeIdentity = _ref.removeIdentity,
    addIdentity = _ref.addIdentity;
  var changeView = function changeView(value) {
    return setSelectedIdentityId(value);
  };
  var ListItem = function ListItem(_ref2) {
    var item = _ref2.item;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement((react__WEBPACK_IMPORTED_MODULE_21___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Container, {
      "data-testid": "account-list-item-".concat(item.identityId),
      onClick: function onClick() {
        changeView(Number(item.id));
      },
      orientation: "horizontal",
      mainAlignment: "flex-start",
      padding: {
        all: 'small'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Row, {
      width: "fill",
      mainAlignment: "space-between"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Container, {
      orientation: "horizontal",
      mainAlignment: "flex-start",
      width: "fit"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Padding, {
      right: "small"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Icon, {
      icon: "CheckmarkCircle2Outline",
      size: "large",
      color: "primary"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Padding, {
      right: "small"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Text, {
      weight: "regular",
      size: "small"
    }, item.identityName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Padding, {
      right: "small"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Text, {
      weight: "regular",
      size: "small",
      color: "secondary"
    }, "(", item.flgType === 'primary' ? accountName : item.fromAddress, ")"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Container, {
      width: "fit",
      mainAlignment: "flex-end"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Text, {
      weight: "regular",
      size: "small"
    }, item.type))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Row, {
      width: "fit"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Divider, null));
  };
  var createModal = (0,react__WEBPACK_IMPORTED_MODULE_21__.useContext)(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.ModalManagerContext);
  var createListRequestIdRef = (0,react__WEBPACK_IMPORTED_MODULE_21__.useRef)(0);
  var addNewPersona = (0,react__WEBPACK_IMPORTED_MODULE_21__.useCallback)(function () {
    var _identities$, _identities$2, _identities$3, _identities$4;
    var newPersonaNextNumber = Number((0,lodash__WEBPACK_IMPORTED_MODULE_22__.max)((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])((0,lodash__WEBPACK_IMPORTED_MODULE_22__.filter)((0,lodash__WEBPACK_IMPORTED_MODULE_22__.map)((0,lodash__WEBPACK_IMPORTED_MODULE_22__.map)((0,lodash__WEBPACK_IMPORTED_MODULE_22__.filter)(identities, function (item) {
      var _item$identityName;
      return (_item$identityName = item.identityName) === null || _item$identityName === void 0 ? void 0 : _item$identityName.includes('New Persona');
    }), function (item) {
      return item.identityName;
    }), function (item) {
      return parseFloat(item.replace('New Persona ', ''));
    }), function (item) {
      return Number(item);
    })))) + 1;
    var newPersonaName = "New Persona ".concat(newPersonaNextNumber || 1);
    setIdentities([].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(identities), [{
      id: "".concat(identities.length),
      flgType: 'persona',
      type: t('label.persona', 'Persona'),
      identityId: createListRequestIdRef.current,
      fromAddress: (_identities$ = identities[0]) === null || _identities$ === void 0 ? void 0 : _identities$.fromAddress,
      identityName: newPersonaName,
      fromDisplay: (_identities$2 = identities[0]) === null || _identities$2 === void 0 ? void 0 : _identities$2.fromDisplay,
      replyToEnabled: 'FALSE'
    }]));
    addIdentity(createListRequestIdRef.current, {
      zimbraPrefIdentityName: newPersonaName,
      zimbraPrefFromDisplay: (_identities$3 = identities[0]) === null || _identities$3 === void 0 ? void 0 : _identities$3.fromDisplay,
      zimbraPrefFromAddress: (_identities$4 = identities[0]) === null || _identities$4 === void 0 ? void 0 : _identities$4.fromAddress,
      zimbraPrefFromAddressType: 'sendAs',
      zimbraPrefReplyToEnabled: 'FALSE'
    });
    createListRequestIdRef.current += 1;
    setSelectedIdentityId(identities.length);
  }, [identities, setIdentities, t, addIdentity, setSelectedIdentityId]);
  var onConfirmDelete = (0,react__WEBPACK_IMPORTED_MODULE_21__.useCallback)(function () {
    var newIdentities = (0,lodash__WEBPACK_IMPORTED_MODULE_22__.map)((0,lodash__WEBPACK_IMPORTED_MODULE_22__.filter)(identities, function (identity) {
      var _identities$selectedI;
      return (identity === null || identity === void 0 ? void 0 : identity.identityId) !== ((_identities$selectedI = identities[selectedIdentityId]) === null || _identities$selectedI === void 0 ? void 0 : _identities$selectedI.identityId);
    }), function (item, index) {
      return _objectSpread(_objectSpread({}, item), {}, {
        id: index.toString()
      });
    });
    setIdentities(newIdentities);
    removeIdentity(identities[selectedIdentityId].identityId);
    setSelectedIdentityId(selectedIdentityId - 1);
  }, [identities, setIdentities, removeIdentity, selectedIdentityId, setSelectedIdentityId]);
  var onDelete = (0,react__WEBPACK_IMPORTED_MODULE_21__.useCallback)(function () {
    var closeModal = createModal({
      title: t('label.permanent_delete_title', 'Are you sure to permanently delete this Persona?'),
      onConfirm: function onConfirm() {
        onConfirmDelete();
        closeModal();
      },
      confirmLabel: t('label.delete_permanently', 'Delete permanently'),
      confirmColor: 'error',
      showCloseIcon: true,
      onClose: function onClose() {
        return closeModal();
      },
      children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Padding, {
        all: "small"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Text, {
        overflow: "break-word"
      }, t('messages.permanent_delete_body', 'If you permanently delete this Persona you will not be able to recover it. Continue?')))
    });
  }, [createModal, t, onConfirmDelete]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement((react__WEBPACK_IMPORTED_MODULE_21___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Container, {
    minWidth: "calc(min(100%, 32rem))",
    width: "fill",
    padding: {
      all: 'large'
    },
    height: "fit",
    background: "gray6",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Padding, {
    horizontal: "medium",
    bottom: "large",
    width: "100%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Text, {
    weight: "bold"
  }, t('label.accounts_list', 'Accounts list'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.List, {
    items: identities,
    ItemComponent: ListItem,
    active: (_identities$selectedI2 = identities[selectedIdentityId]) === null || _identities$selectedI2 === void 0 ? void 0 : _identities$selectedI2.id,
    height: "fit"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Row, {
    padding: {
      horizontal: 'large',
      bottom: 'large'
    },
    width: "fill",
    mainAlignment: "flex-start",
    background: "gray6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Padding, {
    right: "small"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Button, {
    label: t('label.add_persona', 'Add persona'),
    onClick: addNewPersona,
    color: "primary",
    type: "outlined"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Button, {
    label: t('label.delete', 'Delete'),
    onClick: onDelete,
    color: "error",
    type: "outlined",
    disabled: ((_identities$selectedI3 = identities[selectedIdentityId]) === null || _identities$selectedI3 === void 0 ? void 0 : _identities$selectedI3.flgType) === 'primary'
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_21___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_23__.Padding, {
    bottom: "large"
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AccountsList);

/***/ }),

/***/ "./src/settings/components/account-settings/delegates.tsx":
/*!****************************************************************!*\
  !*** ./src/settings/components/account-settings/delegates.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





var Delegates = function Delegates(_ref) {
  var delegates = _ref.delegates;
  var _useTranslation = (0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.useTranslation)(),
    _useTranslation2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useTranslation, 1),
    t = _useTranslation2[0];
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('0'),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    activeDelegate = _useState2[0],
    setActiveDelegate = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('1'),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
    activeValue = _useState4[0],
    setActiveValue = _useState4[1];
  var ListItem = function ListItem(_ref2) {
    var item = _ref2.item;
    var setActiveDelegateCallback = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {
      return setActiveDelegate(item.id);
    }, [item.id]);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Container, {
      onClick: setActiveDelegateCallback,
      orientation: "horizontal",
      mainAlignment: "flex-start",
      padding: {
        all: 'small'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Row, {
      width: "fill",
      mainAlignment: "space-between"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Container, {
      orientation: "horizontal",
      mainAlignment: "flex-start",
      width: "fit"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Padding, {
      right: "small"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Text, {
      weight: "regular",
      size: "small"
    }, item.label)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Padding, {
      right: "small"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Text, {
      weight: "regular",
      size: "small",
      color: "secondary"
    }, item.email))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Container, {
      width: "fit",
      mainAlignment: "flex-end"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Text, {
      weight: "regular",
      size: "small"
    }, item.right))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Row, {
      width: "fit"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Divider, null));
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Container, {
    minWidth: "calc(min(100%, 32rem))",
    width: "fill",
    padding: {
      all: 'large'
    },
    height: "fit",
    background: "gray6",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Padding, {
    horizontal: "medium",
    bottom: "large",
    width: "100%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Text, {
    weight: "bold"
  }, t('label.delegates', 'Delegates'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.List, {
    items: delegates,
    ItemComponent: ListItem,
    active: activeDelegate,
    height: "fit"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Row, {
    padding: {
      horizontal: 'large'
    },
    width: "fill",
    mainAlignment: "flex-start",
    background: "gray6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Padding, {
    right: "small"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Button, {
    label: t('label.add_delegate', 'Add delegate'),
    color: "primary",
    type: "outlined",
    disabled: true,
    onClick: lodash__WEBPACK_IMPORTED_MODULE_2__.noop
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Padding, {
    right: "small"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Button, {
    label: t('label.edit_permissions', 'Edit permissions'),
    color: "primary",
    type: "outlined",
    disabled: true,
    onClick: lodash__WEBPACK_IMPORTED_MODULE_2__.noop
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Button, {
    label: t('label.remove', 'remove'),
    color: "error",
    type: "outlined",
    disabled: true,
    onClick: lodash__WEBPACK_IMPORTED_MODULE_2__.noop
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Container, {
    minWidth: "calc(min(100%, 32rem))",
    width: "100%",
    padding: {
      all: 'large'
    },
    height: "fit",
    background: "gray6",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.RadioGroup, {
    style: {
      width: '100%',
      justifyContent: 'flex-start'
    },
    value: activeValue,
    onChange: function onChange(newValue) {
      return setActiveValue(newValue);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Radio, {
    width: "100%",
    label: t('label.save_to_my_sent_folder', 'Save a copy of sent messages to my Sent folder'),
    value: "1"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Radio, {
    label: t('label.save_delegate_folder', 'Save a copy of sent messages to delegate’s Sent folder'),
    value: "2"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Radio, {
    label: t('label.save_both_folders', 'Save a copy of sent messages to my Sent folder and delegate’s folder'),
    value: "3"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Radio, {
    label: t('label.dont_save', 'Don’t save a copy of sent messages'),
    value: "4"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Padding, {
    bottom: "large"
  })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Delegates);

/***/ }),

/***/ "./src/settings/components/account-settings/persona-settings.tsx":
/*!***********************************************************************!*\
  !*** ./src/settings/components/account-settings/persona-settings.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__);

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var PersonaSettings = function PersonaSettings(_ref) {
  var t = _ref.t,
    items = _ref.items,
    updateIdentities = _ref.updateIdentities;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(items.identityName),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    personaValue = _useState2[0],
    setPersonaValue = _useState2[1];
  var personaLabel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return t('label.persona_name', 'Persona Name');
  }, [t]);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    setPersonaValue(items.identityName);
  }, [items.identityName]);
  var onChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (ev) {
    setPersonaValue(ev.target.value);
    updateIdentities(items.identityId, 'zimbraPrefIdentityName', ev.target.value);
  }, [updateIdentities, items.identityId, setPersonaValue]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Container, {
    minWidth: "calc(min(100%, 32rem))",
    width: "fill",
    padding: {
      all: 'large'
    },
    height: "fit",
    background: "gray6",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Padding, {
    horizontal: "medium",
    width: "100%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Text, {
    weight: "bold"
  }, t('label.persona_settings', 'Persona Settings')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Row, {
    width: "fill",
    padding: {
      horizontal: 'large',
      bottom: 'large'
    },
    height: "fit",
    background: "gray6",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Row, {
    orientation: "vertical",
    mainAlignment: "flex-start",
    width: "fill"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Row, {
    orientation: "horizontal",
    width: "100%",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Text, {
    color: "secondary"
  }, t('label.use_personas_line1', 'Use personas to quickly change many settings when sending e-mail messages.'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Row, {
    orientation: "horizontal",
    width: "100%",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Text, {
    color: "secondary"
  }, t('label.use_personas_line2', 'For example, if you sometimes send e-mails in a particular role at work, create a persona for that.'))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Row, {
    width: "fill",
    padding: {
      horizontal: 'large',
      bottom: 'large'
    },
    height: "fit",
    background: "gray6",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Row, {
    takeAvailableSpace: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Input, {
    label: personaLabel,
    value: personaValue,
    onChange: onChange
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Padding, {
    bottom: "large"
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PersonaSettings);

/***/ }),

/***/ "./src/settings/components/account-settings/primary-account-settings.tsx":
/*!*******************************************************************************!*\
  !*** ./src/settings/components/account-settings/primary-account-settings.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__);


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var PrimaryAccountSettings = function PrimaryAccountSettings(_ref) {
  var t = _ref.t,
    account = _ref.account,
    identity = _ref.identity,
    updateIdentities = _ref.updateIdentities;
  var emailLabel = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return t('label.email_address', 'E-mail address');
  }, [t]);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(identity === null || identity === void 0 ? void 0 : identity.identityName),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    accountNameValue = _useState2[0],
    setAccountNameValue = _useState2[1];
  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {
    return setAccountNameValue(identity.identityName);
  }, [identity.identityName]);
  var accountLabel = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return t('label.account_name', 'Account Name');
  }, [t]);
  var onChangeDisabled = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {
    return null;
  }, []);
  var onChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (ev) {
    setAccountNameValue(ev.target.value);
    updateIdentities(identity.identityId, 'zimbraPrefIdentityName', ev.target.value);
  }, [updateIdentities, identity.identityId]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Container, {
    minWidth: "calc(min(100%, 32rem))",
    width: "fill",
    padding: {
      all: 'large'
    },
    height: "fit",
    background: "gray6",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Padding, {
    horizontal: "medium",
    width: "100%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Text, {
    weight: "bold"
  }, t('primary_account.title', 'Primary Account Settings')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Row, {
    width: "fill",
    padding: {
      horizontal: 'large',
      bottom: 'large'
    },
    height: "fit",
    background: "gray6",
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Row, {
    width: "50%",
    padding: {
      right: 'small'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Input, {
    label: emailLabel,
    value: account.name || ' ',
    onChange: onChangeDisabled
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Row, {
    width: "50%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Input, {
    label: accountLabel,
    value: accountNameValue,
    onChange: onChange
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Padding, {
    bottom: "large"
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PrimaryAccountSettings);

/***/ }),

/***/ "./src/settings/components/account-settings/settings-sent-messages.tsx":
/*!*****************************************************************************!*\
  !*** ./src/settings/components/account-settings/settings-sent-messages.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../constants */ "./src/constants/index.ts");



/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





var blankItem = {
  label: '',
  value: ''
};
var SettingsSentMessages = function SettingsSentMessages(_ref) {
  var t = _ref.t,
    identity = _ref.identity,
    isExternalAccount = _ref.isExternalAccount,
    updateIdentities = _ref.updateIdentities,
    availableEmailAddresses = _ref.availableEmailAddresses;
  var title = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return t('label.settings_sent_messages', 'Settings for Sent Messages');
  }, [t]);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(identity.replyToEnabled === 'TRUE'),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    replyToEnabledValue = _useState2[0],
    setReplyToEnabledValue = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(identity.replyToAddress || ''),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
    replyToAddress = _useState4[0],
    setReplyToAddress = _useState4[1];
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),
    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState5, 2),
    dropdownOpen = _useState6[0],
    setDropdownOpen = _useState6[1];
  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(identity.fromDisplay || ''),
    _useState8 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState7, 2),
    fromDisplayValue = _useState8[0],
    setFromDisplayValue = _useState8[1];
  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)((identity === null || identity === void 0 ? void 0 : identity.replyToDisplay) || ''),
    _useState10 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState9, 2),
    replyToDisplay = _useState10[0],
    setReplyToDisplay = _useState10[1];
  var fromAddressArray = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return availableEmailAddresses ? availableEmailAddresses.map(function (address) {
      return {
        value: address,
        label: address
      };
    }) : [blankItem];
  }, [availableEmailAddresses]);
  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(function () {
      var _find;
      return (_find = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.find)(fromAddressArray, function (item) {
        return item.value === identity.fromAddress;
      })) !== null && _find !== void 0 ? _find : blankItem;
    }),
    _useState12 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState11, 2),
    fromAddress = _useState12[0],
    setFromAddress = _useState12[1];
  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {
    setReplyToEnabledValue(identity.replyToEnabled === 'TRUE');
  }, [identity.replyToEnabled]);
  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {
    setFromDisplayValue(identity.fromDisplay || '');
  }, [identity.fromDisplay]);
  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {
    var _find2;
    var k = (_find2 = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.find)(fromAddressArray, function (item) {
      return item.value === identity.fromAddress;
    })) !== null && _find2 !== void 0 ? _find2 : blankItem;
    setFromAddress(k);
  }, [fromAddressArray, identity.fromAddress]);
  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {
    setReplyToDisplay((identity === null || identity === void 0 ? void 0 : identity.replyToDisplay) === undefined ? '' : identity === null || identity === void 0 ? void 0 : identity.replyToDisplay);
  }, [identity === null || identity === void 0 ? void 0 : identity.replyToDisplay]);
  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {
    setReplyToAddress(identity.replyToAddress || '');
  }, [identity.replyToAddress]);
  var onClickReplyToEnabled = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {
    setReplyToEnabledValue(function (prevState) {
      var newState = !prevState;
      updateIdentities(identity.identityId, 'zimbraPrefReplyToEnabled', prevState ? 'FALSE' : 'TRUE');
      return newState;
    });
  }, [identity.identityId, updateIdentities]);
  var fromDisplayLabel = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return t('label.from_name', 'From: "Name"');
  }, [t]);
  var onChangeFromDisplayValue = function onChangeFromDisplayValue(e) {
    setFromDisplayValue(e.target.value);
    updateIdentities(identity.identityId, 'zimbraPrefFromDisplay', e.target.value);
  };
  var fromAddressLabel = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return t('label.address', 'Address');
  }, [t]);
  var onChangeFromAddress = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (newAddress) {
    if (!newAddress) {
      return;
    }
    if ((fromAddress === null || fromAddress === void 0 ? void 0 : fromAddress.value) === newAddress) {
      return;
    }
    setFromAddress((0,lodash__WEBPACK_IMPORTED_MODULE_3__.filter)(fromAddressArray, function (item) {
      return item.value === newAddress;
    })[0]);
    updateIdentities(identity.identityId, 'zimbraPrefFromAddress', newAddress);
  }, [identity.identityId, updateIdentities, fromAddressArray, fromAddress.value]);
  var replyToEnabledLabel = t('label.set_reply_to_field', 'Set the "Reply-to" field of e-mail message to:');
  var replyToDisplayLabel = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return t('label.reply_to_field_example', 'e.g. Bob Smith');
  }, [t]);
  var onChangePrefReplyToDisplay = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (e) {
    setReplyToDisplay(e.target.value);
    updateIdentities(identity.identityId, 'zimbraPrefReplyToDisplay', e.target.value);
  }, [updateIdentities, identity.identityId]);
  var replyToAddressLabel = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return t('label.choose_account', 'Choose an account');
  }, [t]);
  var onChangeReplyToAddress = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (value) {
    setReplyToAddress(value);
    updateIdentities(identity.identityId, 'zimbraPrefReplyToAddress', value);
  }, [updateIdentities, identity.identityId]);
  var replyToAddressArray = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    var _identity$fromAddress;
    return [{
      id: '0',
      label: (_identity$fromAddress = identity.fromAddress) !== null && _identity$fromAddress !== void 0 ? _identity$fromAddress : '',
      onClick: function onClick() {
        var _identity$fromAddress2;
        return onChangeReplyToAddress((_identity$fromAddress2 = identity.fromAddress) !== null && _identity$fromAddress2 !== void 0 ? _identity$fromAddress2 : '');
      }
    }];
  }, [identity.fromAddress, onChangeReplyToAddress]);
  var isValidEmail = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return replyToEnabledValue && !_constants__WEBPACK_IMPORTED_MODULE_5__.EMAIL_VALIDATION_REGEX.test(replyToAddress || '');
  }, [replyToEnabledValue, replyToAddress]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement((react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    minWidth: "calc(min(100%, 32rem))",
    width: "fill",
    padding: {
      all: 'large'
    },
    height: "fit",
    background: 'gray6',
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Padding, {
    horizontal: "medium",
    width: "100%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Text, {
    weight: "bold"
  }, title))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Row, {
    width: "fill",
    padding: {
      horizontal: 'large',
      bottom: 'large'
    },
    height: "fit",
    background: 'gray6',
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Row, {
    width: isExternalAccount ? '100%' : '50%',
    padding: {
      right: isExternalAccount ? '' : 'small'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Input, {
    label: fromDisplayLabel,
    value: fromDisplayValue,
    onChange: onChangeFromDisplayValue
  })), !isExternalAccount && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Row, {
    width: "50%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Select, {
    label: fromAddressLabel,
    selection: fromAddress,
    items: fromAddressArray,
    showCheckbox: false,
    background: 'gray5',
    onChange: onChangeFromAddress
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Row, {
    width: "fill",
    background: 'gray6',
    mainAlignment: "flex-start",
    padding: {
      horizontal: 'large',
      bottom: 'large'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Checkbox, {
    label: replyToEnabledLabel,
    value: replyToEnabledValue,
    onClick: onClickReplyToEnabled
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Row, {
    width: "fill",
    padding: {
      horizontal: 'large',
      bottom: 'large'
    },
    height: "fit",
    background: 'gray6',
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Row, {
    width: "50%",
    padding: {
      right: 'small'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Input, {
    label: replyToDisplayLabel,
    value: replyToDisplay,
    disabled: !replyToEnabledValue,
    onChange: onChangePrefReplyToDisplay
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Row, {
    width: "50%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Dropdown, {
    items: replyToAddressArray,
    placement: "bottom-start",
    style: {
      flexGrow: '1'
    },
    onClose: function onClose() {
      return setDropdownOpen(false);
    },
    onOpen: function onOpen() {
      return setDropdownOpen(true);
    },
    disabled: !replyToEnabledValue
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Input, {
    label: replyToAddressLabel,
    value: replyToAddress,
    onChange: function onChange(ev) {
      return onChangeReplyToAddress(ev.target.value);
    },
    hasError: isValidEmail,
    CustomIcon: function CustomIcon() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Icon, {
        icon: dropdownOpen ? 'ArrowUp' : 'ArrowDown'
      });
    },
    disabled: !replyToEnabledValue
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Padding, {
    bottom: "large"
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SettingsSentMessages);

/***/ }),

/***/ "./src/settings/components/general-settings/appearance-settings.tsx":
/*!**************************************************************************!*\
  !*** ./src/settings/components/general-settings/appearance-settings.tsx ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../general-settings-sub-sections */ "./src/settings/general-settings-sub-sections.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





var AppearanceSettings = function AppearanceSettings(_ref) {
  var children = _ref.children;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_1__.getT)();
  var subSection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_2__.appearanceSubSection)(t);
  }, [t]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Container, {
    mainAlignment: "flex-start",
    crossAlignment: "flex-start",
    gap: "1rem",
    padding: 'large',
    minWidth: "calc(min(100%, 32rem))",
    width: "50%",
    height: 'fit',
    id: subSection.id,
    background: 'gray6'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_3__.Text, {
    weight: 'bold',
    size: 'medium'
  }, subSection.label), children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AppearanceSettings);

/***/ }),

/***/ "./src/settings/components/general-settings/dark-theme-settings-section.tsx":
/*!**********************************************************************************!*\
  !*** ./src/settings/components/general-settings/dark-theme-settings-section.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _boot_theme_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../boot/theme-provider */ "./src/boot/theme-provider.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _dark_mode_use_dark_reader_result_value__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../dark-mode/use-dark-reader-result-value */ "./src/dark-mode/use-dark-reader-result-value.ts");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */








var DarkThemeSettingSection = function DarkThemeSettingSection(_ref) {
  var addMod = _ref.addMod,
    removeMod = _ref.removeMod;
  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_boot_theme_provider__WEBPACK_IMPORTED_MODULE_3__.ThemeCallbacksContext),
    setDarkReaderState = _useContext.setDarkReaderState;
  var darkReaderResultValue = (0,_dark_mode_use_dark_reader_result_value__WEBPACK_IMPORTED_MODULE_6__.useDarkReaderResultValue)();
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    selection = _useState2[0],
    setSelection = _useState2[1];
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_5__.getT)();
  var items = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return [{
      label: t('settings.general.theme_auto', 'Auto'),
      value: 'auto'
    }, {
      label: t('settings.general.theme_enabled', 'Enabled'),
      value: 'enabled'
    }, {
      label: t('settings.general.theme_disabled', 'Disabled'),
      value: 'disabled'
    }];
  }, [t]);
  var setSelectNewValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (value) {
    var item = (0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(items, {
      value: value
    });
    if (item) {
      setSelection(item);
    }
    setDarkReaderState(value);
  }, [items, setDarkReaderState]);
  var onSelectionChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (value) {
    if ((0,_dark_mode_use_dark_reader_result_value__WEBPACK_IMPORTED_MODULE_6__.isDarkReaderPropValues)(value)) {
      if (value) {
        setSelectNewValue(value);
      }
      if (value !== darkReaderResultValue) {
        addMod('props', _constants__WEBPACK_IMPORTED_MODULE_4__.DARK_READER_PROP_KEY, {
          app: _constants__WEBPACK_IMPORTED_MODULE_4__.SHELL_APP_ID,
          value: value
        });
      } else {
        removeMod('props', _constants__WEBPACK_IMPORTED_MODULE_4__.DARK_READER_PROP_KEY);
      }
    }
  }, [addMod, darkReaderResultValue, removeMod, setSelectNewValue]);
  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {
    if (darkReaderResultValue) {
      setSelectNewValue(darkReaderResultValue);
    }
  }, [darkReaderResultValue, items, setSelectNewValue]);
  if (!selection) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7__.Text, {
    size: "medium",
    weight: "bold"
  }, t('settings.general.theme_options', 'Theme Options')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7__.Select, {
    items: items,
    selection: selection,
    label: t('settings.general.dark_mode', 'Dark Mode'),
    onChange: onSelectionChange
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DarkThemeSettingSection);

/***/ }),

/***/ "./src/settings/components/general-settings/logout.tsx":
/*!*************************************************************!*\
  !*** ./src/settings/components/general-settings/logout.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _network_logout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../network/logout */ "./src/network/logout.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../general-settings-sub-sections */ "./src/settings/general-settings-sub-sections.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






var Logout = function Logout() {
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_2__.getT)();
  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    (0,_network_logout__WEBPACK_IMPORTED_MODULE_1__.logout)();
  }, []);
  var sectionTitle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_3__.accountSubSection)(t);
  }, [t]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.FormSubSection, {
    label: sectionTitle.label,
    minWidth: "calc(min(100%, 32rem))",
    width: "50%",
    id: sectionTitle.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Button, {
    label: t('settings.general.account_logout', 'Logout'),
    onClick: onClick
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Logout);

/***/ }),

/***/ "./src/settings/components/general-settings/module-version-settings.tsx":
/*!******************************************************************************!*\
  !*** ./src/settings/components/general-settings/module-version-settings.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "./node_modules/core-js/modules/es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../general-settings-sub-sections */ "./src/settings/general-settings-sub-sections.ts");





/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */








var ModuleVersionSettings = function ModuleVersionSettings() {
  var apps = (0,_store_app__WEBPACK_IMPORTED_MODULE_7__.useAppList)();
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_9__.getT)();
  var theme = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.useTheme)();
  var copyToClipboard = (0,react__WEBPACK_IMPORTED_MODULE_6__.useCallback)(function (e) {
    e.preventDefault();
    if (e.target instanceof HTMLElement) {
      navigator.clipboard.writeText(e.target.innerText);
    }
  }, []);
  var filteredList = (0,react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {
    return apps.filter(function (app) {
      return app.name !== _constants__WEBPACK_IMPORTED_MODULE_8__.SEARCH_APP_ID && app.name !== _constants__WEBPACK_IMPORTED_MODULE_8__.SETTINGS_APP_ID;
    });
  }, [apps]);
  var sectionTitle = (0,react__WEBPACK_IMPORTED_MODULE_6__.useMemo)(function () {
    return (0,_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_10__.versionsSubSection)(t);
  }, [t]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement((react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.FormSubSection, {
    label: sectionTitle.label,
    minWidth: "calc(min(100%, 32rem))",
    width: "50%",
    id: sectionTitle.id
  }, (0,lodash__WEBPACK_IMPORTED_MODULE_5__.map)(filteredList, function (app) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Container, {
      key: app.name,
      padding: {
        horizontal: 'large',
        vertical: 'small'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Container, {
      orientation: "horizontal",
      mainAlignment: "space-between"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Text, null, app.display), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {
      placement: "top",
      label: t('label.click_to_copy', 'Click to copy')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Text, {
      style: {
        cursor: 'pointer'
      },
      onClick: copyToClipboard
    }, "Version: ", app.version))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Container, {
      orientation: "horizontal",
      mainAlignment: "space-between",
      padding: {
        top: 'extrasmall',
        bottom: 'medium'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Text, {
      color: "secondary"
    }, app.description), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Badge, {
      value: "Active",
      style: {
        backgroundColor: theme.palette.success.regular,
        color: theme.palette.gray6.regular
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Divider, {
      color: "gray2"
    }));
  })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ModuleVersionSettings);

/***/ }),

/***/ "./src/settings/components/general-settings/out-of-office-settings.tsx":
/*!*****************************************************************************!*\
  !*** ./src/settings/components/general-settings/out-of-office-settings.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OutOfOfficeSettings": () => (/* binding */ OutOfOfficeSettings),
/* harmony export */   "buildItemsExternalSenders": () => (/* binding */ buildItemsExternalSenders),
/* harmony export */   "buildItemsPrefOutOfOfficeReplyEnabled": () => (/* binding */ buildItemsPrefOutOfOfficeReplyEnabled),
/* harmony export */   "getExternalSendersPrefsData": () => (/* binding */ getExternalSendersPrefsData)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ "./node_modules/core-js/modules/es.object.values.js");
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.date.to-string.js */ "./node_modules/core-js/modules/es.date.to-string.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _settings_heading__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../settings-heading */ "./src/settings/components/settings-heading.tsx");
/* harmony import */ var _out_of_office_time_period_section__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./out-of-office-time-period-section */ "./src/settings/components/general-settings/out-of-office-time-period-section.tsx");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../general-settings-sub-sections */ "./src/settings/general-settings-sub-sections.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils */ "./src/settings/components/utils.ts");
/* harmony import */ var _hooks_use_reset__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/use-reset */ "./src/settings/hooks/use-reset.ts");



/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */










var buildItemsPrefOutOfOfficeReplyEnabled = function buildItemsPrefOutOfOfficeReplyEnabled(t) {
  return [{
    label: t('settings.out_of_office.send_auto_replies', 'Send auto-replies'),
    value: true
  }, {
    label: t('settings.out_of_office.do_not_send_auto_replies', 'Do not send auto-replies'),
    value: false
  }];
};
var buildItemsExternalSenders = function buildItemsExternalSenders(t) {
  return {
    SEND_AUTO_REPLY: {
      label: t('settings.out_of_office.external_senders.send_standard_auto_reply', 'Send standard auto-reply message'),
      value: 'SEND_AUTO_REPLY'
    },
    SHOW_EXTERNAL_INPUT: {
      label: t('settings.out_of_office.external_senders.send_custom_in_organisation', 'Send custom message to those who are not in my organization'),
      value: 'SHOW_EXTERNAL_INPUT'
    },
    SEND_NOT_IN_ORG: {
      label: t('settings.out_of_office.external_senders.send_custom_not_in_organisation', 'Send custom message to those who are not in my organization or address book'),
      value: 'SEND_NOT_IN_ORG'
    },
    SUPPRESS_EXTERNAL: {
      label: t('settings.out_of_office.external_senders.do_not_send_to_external', "Don't send an auto-reply message to external sender"),
      value: 'SUPPRESS_EXTERNAL'
    }
  };
};
var getExternalSendersPrefsData = function getExternalSendersPrefsData(settings, t) {
  var itemsExternalSenders = buildItemsExternalSenders(t);
  if (settings.prefs.zimbraPrefOutOfOfficeSuppressExternalReply === 'FALSE' && settings.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled === 'FALSE') {
    return itemsExternalSenders.SEND_AUTO_REPLY;
  }
  if (settings.prefs.zimbraPrefExternalSendersType === 'ALL' && settings.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled === 'TRUE') {
    return itemsExternalSenders.SHOW_EXTERNAL_INPUT;
  }
  if (settings.prefs.zimbraPrefExternalSendersType === 'ALLNOTINAB' && settings.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled === 'TRUE') {
    return itemsExternalSenders.SEND_NOT_IN_ORG;
  }
  return itemsExternalSenders.SUPPRESS_EXTERNAL;
};
var OutOfOfficeSettings = function OutOfOfficeSettings(_ref) {
  var _settings$prefs$zimbr, _settings$prefs$zimbr2;
  var settings = _ref.settings,
    addMod = _ref.addMod,
    resetRef = _ref.resetRef;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_7__.getT)();
  var outOfOfficeSectionTitle = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return (0,_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_8__.outOfOfficeSubSection)(t);
  }, [t]);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(settings.prefs.zimbraPrefOutOfOfficeReplyEnabled === 'TRUE'),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    prefOutOfOfficeReplyEnabled = _useState2[0],
    setPrefOutOfOfficeReplyEnabled = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_settings$prefs$zimbr = settings.prefs.zimbraPrefOutOfOfficeReply) !== null && _settings$prefs$zimbr !== void 0 ? _settings$prefs$zimbr : ''),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
    prefOutOfOfficeReply = _useState4[0],
    setPrefOutOfOfficeReply = _useState4[1];
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(settings.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled === 'TRUE'),
    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState5, 2),
    prefOutOfOfficeExternalReplyEnabled = _useState6[0],
    setPrefOutOfOfficeExternalReplyEnabled = _useState6[1];
  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((_settings$prefs$zimbr2 = settings.prefs.zimbraPrefOutOfOfficeExternalReply) !== null && _settings$prefs$zimbr2 !== void 0 ? _settings$prefs$zimbr2 : ''),
    _useState8 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState7, 2),
    prefOutOfOfficeExternalReply = _useState8[0],
    setPrefOutOfOfficeExternalReply = _useState8[1];
  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(getExternalSendersPrefsData(settings, t)),
    _useState10 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState9, 2),
    externalSendersSelectedItem = _useState10[0],
    setExternalSendersSelectedItem = _useState10[1];
  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!!settings.prefs.zimbraPrefOutOfOfficeFromDate && !!settings.prefs.zimbraPrefOutOfOfficeUntilDate),
    _useState12 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState11, 2),
    sendAutoReplyTimePeriodEnabled = _useState12[0],
    setSendAutoReplyTimePeriodEnabled = _useState12[1];
  var outOfOfficeTimePeriodResetRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);
  var initPrefs = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {
    var _settings$prefs$zimbr3, _settings$prefs$zimbr4, _outOfOfficeTimePerio;
    setPrefOutOfOfficeReplyEnabled(settings.prefs.zimbraPrefOutOfOfficeReplyEnabled === 'TRUE');
    setPrefOutOfOfficeReply((_settings$prefs$zimbr3 = settings.prefs.zimbraPrefOutOfOfficeReply) !== null && _settings$prefs$zimbr3 !== void 0 ? _settings$prefs$zimbr3 : '');
    setPrefOutOfOfficeExternalReplyEnabled(settings.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled === 'TRUE');
    setPrefOutOfOfficeExternalReply((_settings$prefs$zimbr4 = settings.prefs.zimbraPrefOutOfOfficeExternalReply) !== null && _settings$prefs$zimbr4 !== void 0 ? _settings$prefs$zimbr4 : '');
    setExternalSendersSelectedItem(getExternalSendersPrefsData(settings, t));
    setSendAutoReplyTimePeriodEnabled(!!settings.prefs.zimbraPrefOutOfOfficeFromDate && !!settings.prefs.zimbraPrefOutOfOfficeUntilDate);
    (_outOfOfficeTimePerio = outOfOfficeTimePeriodResetRef.current) === null || _outOfOfficeTimePerio === void 0 ? void 0 : _outOfOfficeTimePerio.reset();
  }, [settings, t]);
  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {
    initPrefs();
  }, [initPrefs]);
  (0,_hooks_use_reset__WEBPACK_IMPORTED_MODULE_10__.useReset)(resetRef, initPrefs);
  var updatePref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return (0,_utils__WEBPACK_IMPORTED_MODULE_9__.upsertPrefOnUnsavedChanges)(addMod);
  }, [addMod]);
  var prefOutOfOfficeReplyEnabledSelectItems = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return buildItemsPrefOutOfOfficeReplyEnabled(t);
  }, [t]);
  var prefOutOfOfficeReplyEnabledSelectedValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_4__.find)(prefOutOfOfficeReplyEnabledSelectItems, function (item) {
      return item.value === prefOutOfOfficeReplyEnabled;
    });
  }, [prefOutOfOfficeReplyEnabled, prefOutOfOfficeReplyEnabledSelectItems]);
  var prefOutOfOfficeReplyEnabledOnChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (value) {
    if (value !== null) {
      updatePref('zimbraPrefOutOfOfficeReplyEnabled', value);
      setPrefOutOfOfficeReplyEnabled(value);
    }
  }, [updatePref]);
  var externalSendersSelectItems = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return Object.values(buildItemsExternalSenders(t));
  }, [t]);
  var externalSendersHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (value) {
    if (value === 'SEND_AUTO_REPLY') {
      updatePref('zimbraPrefExternalSendersType', 'INSD');
      updatePref('zimbraPrefOutOfOfficeExternalReplyEnabled', false);
      updatePref('zimbraPrefOutOfOfficeSuppressExternalReply', false);
      setPrefOutOfOfficeExternalReplyEnabled(false);
    } else if (value === 'SHOW_EXTERNAL_INPUT') {
      updatePref('zimbraPrefExternalSendersType', 'ALL');
      updatePref('zimbraPrefOutOfOfficeExternalReplyEnabled', true);
      updatePref('zimbraPrefOutOfOfficeSuppressExternalReply', false);
      setPrefOutOfOfficeExternalReplyEnabled(true);
    } else if (value === 'SEND_NOT_IN_ORG') {
      updatePref('zimbraPrefExternalSendersType', 'ALLNOTINAB');
      updatePref('zimbraPrefOutOfOfficeExternalReplyEnabled', true);
      updatePref('zimbraPrefOutOfOfficeSuppressExternalReply', false);
      setPrefOutOfOfficeExternalReplyEnabled(true);
    } else if (value === 'SUPPRESS_EXTERNAL') {
      updatePref('zimbraPrefExternalSendersType', 'INAB');
      updatePref('zimbraPrefOutOfOfficeExternalReplyEnabled', false);
      updatePref('zimbraPrefOutOfOfficeSuppressExternalReply', true);
      setPrefOutOfOfficeExternalReplyEnabled(false);
    }
  }, [updatePref]);
  var externalSendersOnChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (value) {
    if (value !== null) {
      externalSendersHandler(value);
      var newSelectItem = (0,lodash__WEBPACK_IMPORTED_MODULE_4__.find)(externalSendersSelectItems, function (item) {
        return item.value === value;
      });
      newSelectItem && setExternalSendersSelectedItem(newSelectItem);
    }
  }, [externalSendersHandler, externalSendersSelectItems]);
  var prefOutOfOfficeReplyOnChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (ev) {
    setPrefOutOfOfficeReply(ev.target.value);
    updatePref('zimbraPrefOutOfOfficeReply', ev.target.value);
  }, [updatePref]);
  var prefOutOfOfficeExternalReplyOnChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (ev) {
    setPrefOutOfOfficeExternalReply(ev.target.value);
    updatePref('zimbraPrefOutOfOfficeExternalReply', ev.target.value);
  }, [updatePref]);
  var toggleSendAutoReplyTimePeriod = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {
    setSendAutoReplyTimePeriodEnabled(function (prevState) {
      var nextState = !prevState;
      if (!nextState) {
        updatePref('zimbraPrefOutOfOfficeFromDate', undefined);
        updatePref('zimbraPrefOutOfOfficeUntilDate', undefined);
      } else {
        if (!settings.prefs.zimbraPrefOutOfOfficeFromDate) {
          updatePref('zimbraPrefOutOfOfficeFromDate', (0,_utils__WEBPACK_IMPORTED_MODULE_9__.dateToGenTime)(new Date()));
        }
        if (!settings.prefs.zimbraPrefOutOfOfficeUntilDate) {
          updatePref('zimbraPrefOutOfOfficeUntilDate', (0,_utils__WEBPACK_IMPORTED_MODULE_9__.dateToGenTime)(new Date()));
        }
      }
      return nextState;
    });
  }, [settings.prefs.zimbraPrefOutOfOfficeFromDate, settings.prefs.zimbraPrefOutOfOfficeUntilDate, updatePref]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.FormSubSection, {
    label: outOfOfficeSectionTitle.label,
    minWidth: "calc(min(100%, 32rem))",
    width: "50%",
    id: outOfOfficeSectionTitle.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Container, {
    crossAlignment: "baseline",
    padding: {
      all: 'small'
    },
    gap: '0.5rem'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Select, {
    items: prefOutOfOfficeReplyEnabledSelectItems,
    label: t('label.out_of_office', 'Out of Office'),
    onChange: prefOutOfOfficeReplyEnabledOnChange,
    selection: prefOutOfOfficeReplyEnabledSelectedValue
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.TextArea, {
    value: prefOutOfOfficeReply,
    disabled: !prefOutOfOfficeReplyEnabled,
    label: t('settings.out_of_office.labels.auto_reply_message', 'Auto-Reply Message:'),
    onChange: prefOutOfOfficeReplyOnChange
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Select, {
    disabled: !prefOutOfOfficeReplyEnabled,
    items: externalSendersSelectItems,
    label: t('settings.out_of_office.labels.external_senders', 'External Senders'),
    onChange: externalSendersOnChange,
    selection: externalSendersSelectedItem,
    dropdownWidth: 'auto',
    dropdownMaxWidth: 'unset',
    placement: 'bottom-start'
  }), prefOutOfOfficeExternalReplyEnabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.TextArea, {
    value: prefOutOfOfficeExternalReply,
    disabled: !prefOutOfOfficeReplyEnabled,
    label: t('settings.out_of_office.labels.auto_reply_message_external', 'Auto-Reply Message for External senders:'),
    onChange: prefOutOfOfficeExternalReplyOnChange
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Container, {
    crossAlignment: "baseline",
    padding: {
      all: 'small'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_settings_heading__WEBPACK_IMPORTED_MODULE_5__["default"], {
    title: t('settings.out_of_office.headings.time_period', 'Time Period')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Checkbox, {
    label: t('settings.out_of_office.labels.send_auto_reply_period', 'Send auto-replies during the following period:'),
    value: sendAutoReplyTimePeriodEnabled,
    onClick: toggleSendAutoReplyTimePeriod,
    disabled: !prefOutOfOfficeReplyEnabled
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_out_of_office_time_period_section__WEBPACK_IMPORTED_MODULE_6__.OutOfOfficeTimePeriodSection, {
    addMod: addMod,
    disabled: !prefOutOfOfficeReplyEnabled || !sendAutoReplyTimePeriodEnabled,
    prefOutOfOfficeFromDate: settings.prefs.zimbraPrefOutOfOfficeFromDate,
    prefOutOfOfficeUntilDate: settings.prefs.zimbraPrefOutOfOfficeUntilDate,
    resetRef: outOfOfficeTimePeriodResetRef
  })));
};

/***/ }),

/***/ "./src/settings/components/general-settings/out-of-office-time-period-section.tsx":
/*!****************************************************************************************!*\
  !*** ./src/settings/components/general-settings/out-of-office-time-period-section.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OutOfOfficeTimePeriodSection": () => (/* binding */ OutOfOfficeTimePeriodSection)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.date.to-string.js */ "./node_modules/core-js/modules/es.date.to-string.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./src/settings/components/utils.ts");
/* harmony import */ var _hooks_use_reset__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/use-reset */ "./src/settings/hooks/use-reset.ts");


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






function coerceGenTime(genTime) {
  return genTime ? (0,_utils__WEBPACK_IMPORTED_MODULE_4__.genTimeToDate)(genTime) : new Date();
}
var OutOfOfficeTimePeriodSection = function OutOfOfficeTimePeriodSection(_ref) {
  var addMod = _ref.addMod,
    disabled = _ref.disabled,
    prefOutOfOfficeFromDate = _ref.prefOutOfOfficeFromDate,
    prefOutOfOfficeUntilDate = _ref.prefOutOfOfficeUntilDate,
    resetRef = _ref.resetRef;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_3__.getT)();
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(coerceGenTime(prefOutOfOfficeFromDate)),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    fromDate = _useState2[0],
    setFromDate = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(coerceGenTime(prefOutOfOfficeUntilDate)),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
    untilDate = _useState4[0],
    setUntilDate = _useState4[1];
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),
    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState5, 2),
    allDayEnabled = _useState6[0],
    setAllDayEnabled = _useState6[1];
  var editTimeIsDisabled = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return disabled || allDayEnabled;
  }, [disabled, allDayEnabled]);
  var updatePref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return (0,_utils__WEBPACK_IMPORTED_MODULE_4__.upsertPrefOnUnsavedChanges)(addMod);
  }, [addMod]);
  var initPrefs = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {
    var fromDatePref = coerceGenTime(prefOutOfOfficeFromDate);
    var untilDatePref = coerceGenTime(prefOutOfOfficeUntilDate);
    setFromDate(fromDatePref);
    setUntilDate(untilDatePref);
    // there is no pref for the all day check. It is considered all day if the start date time is midnight
    // and the until date time is 23:59:59:00
    var fromDateAllDay = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.startOfDay)(fromDatePref);
    var untilDateAllDay = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.endOfDay)(untilDatePref);
    setAllDayEnabled(fromDatePref.getTime() === fromDateAllDay.getTime() && untilDatePref.getTime() === untilDateAllDay.getTime());
  }, [prefOutOfOfficeFromDate, prefOutOfOfficeUntilDate]);
  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {
    initPrefs();
  }, [initPrefs]);
  (0,_hooks_use_reset__WEBPACK_IMPORTED_MODULE_5__.useReset)(resetRef, initPrefs);
  var outOfOfficeFromDateOnChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (newFromDate) {
    if (newFromDate) {
      setFromDate(function (prevState) {
        if (newFromDate.getTime() !== prevState.getTime()) {
          updatePref('zimbraPrefOutOfOfficeFromDate', (0,_utils__WEBPACK_IMPORTED_MODULE_4__.dateToGenTime)(newFromDate));
        }
        return newFromDate;
      });
      if (newFromDate.getTime() > untilDate.getTime()) {
        var newUntilDate = new Date(newFromDate);
        setUntilDate(newUntilDate);
        updatePref('zimbraPrefOutOfOfficeUntilDate', (0,_utils__WEBPACK_IMPORTED_MODULE_4__.dateToGenTime)(newUntilDate));
      }
    } else {
      // force an update by cloning the date, so that the input is not left empty
      setFromDate(function (prevState) {
        return new Date(prevState);
      });
    }
  }, [untilDate, updatePref]);
  var outOfOfficeUntilDateOnChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (newUntilDate) {
    if (newUntilDate) {
      setUntilDate(function (prevState) {
        if (newUntilDate.getTime() !== prevState.getTime()) {
          updatePref('zimbraPrefOutOfOfficeUntilDate', (0,_utils__WEBPACK_IMPORTED_MODULE_4__.dateToGenTime)(newUntilDate));
        }
        return newUntilDate;
      });
      if (newUntilDate.getTime() < fromDate.getTime()) {
        var newFromDate = new Date(newUntilDate);
        setFromDate(newFromDate);
        updatePref('zimbraPrefOutOfOfficeFromDate', (0,_utils__WEBPACK_IMPORTED_MODULE_4__.dateToGenTime)(newFromDate));
      }
    } else {
      // force an update by cloning the date, so that the input is not left empty
      setUntilDate(function (prevState) {
        return new Date(prevState);
      });
    }
  }, [fromDate, updatePref]);
  var toggleAllDay = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {
    setAllDayEnabled(function (prevWasEnabled) {
      var nowIsEnabled = !prevWasEnabled;
      if (nowIsEnabled) {
        setFromDate(function (prevState) {
          var startOfFromDate = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.startOfDay)(prevState);
          if (startOfFromDate.getTime() !== prevState.getTime()) {
            updatePref('zimbraPrefOutOfOfficeFromDate', (0,_utils__WEBPACK_IMPORTED_MODULE_4__.dateToGenTime)(startOfFromDate));
          }
          return startOfFromDate;
        });
        setUntilDate(function (prevState) {
          var endOfUntilDate = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.endOfDay)(prevState);
          if (endOfUntilDate.getTime() !== prevState.getTime()) {
            updatePref('zimbraPrefOutOfOfficeUntilDate', (0,_utils__WEBPACK_IMPORTED_MODULE_4__.dateToGenTime)(endOfUntilDate));
          }
          return endOfUntilDate;
        });
      }
      return nowIsEnabled;
    });
  }, [updatePref]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    padding: {
      vertical: 'small'
    },
    gap: '0.5rem',
    crossAlignment: 'flex-start'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    orientation: 'horizontal',
    gap: '0.5rem'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.DateTimePicker, {
    label: t('settings.out_of_office.labels.start_date', 'Start Date'),
    dateFormat: 'P',
    disabled: disabled,
    defaultValue: fromDate,
    onChange: outOfOfficeFromDateOnChange,
    includeTime: false,
    width: 'fill'
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.DateTimePicker, {
    label: t('settings.out_of_office.labels.end_date', 'End Date'),
    dateFormat: 'P',
    disabled: disabled,
    timeLabel: '',
    defaultValue: untilDate,
    onChange: outOfOfficeUntilDateOnChange,
    includeTime: false,
    width: 'fill'
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Checkbox, {
    disabled: disabled,
    label: t('settings.out_of_office.labels.all_day', 'All Day:'),
    value: allDayEnabled,
    onClick: toggleAllDay
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    orientation: 'horizontal',
    gap: '0.5rem'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.DateTimePicker, {
    label: t('settings.out_of_office.labels.start_time', 'Start Time'),
    showTimeSelect: true,
    showTimeSelectOnly: true,
    timeLabel: "",
    dateFormat: "p",
    defaultValue: fromDate,
    onChange: outOfOfficeFromDateOnChange,
    disabled: editTimeIsDisabled,
    width: 'fill'
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.DateTimePicker, {
    label: t('settings.out_of_office.labels.end_time', 'End Time'),
    showTimeSelect: true,
    showTimeSelectOnly: true,
    timeLabel: "",
    dateFormat: "p",
    defaultValue: untilDate,
    onChange: outOfOfficeUntilDateOnChange,
    disabled: editTimeIsDisabled,
    width: 'fill'
  })));
};

/***/ }),

/***/ "./src/settings/components/general-settings/scaling-setting-section.tsx":
/*!******************************************************************************!*\
  !*** ./src/settings/components/general-settings/scaling-setting-section.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ScalingSettingSection": () => (/* binding */ ScalingSettingSection)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.find-index.js */ "./node_modules/core-js/modules/es.array.find-index.js");
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.reduce.js */ "./node_modules/core-js/modules/es.array.reduce.js");
/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../constants */ "./src/constants/index.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils */ "./src/settings/components/utils.ts");
/* harmony import */ var _hooks_use_reset__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/use-reset */ "./src/settings/hooks/use-reset.ts");




/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var ScalingSliderContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container).withConfig({
  displayName: "scaling-setting-section__ScalingSliderContainer",
  componentId: "sc-15f9iy2-0"
})(["box-shadow:0px 0px 4px rgba(166,166,166,0.5);border-radius:0.5rem;"]);
var ExampleContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container).withConfig({
  displayName: "scaling-setting-section__ExampleContainer",
  componentId: "sc-15f9iy2-1"
})(["font-size:", ";"], function (_ref) {
  var $fontSize = _ref.$fontSize;
  return $fontSize && "".concat($fontSize, "%");
});
var ExampleText = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Text).withConfig({
  displayName: "scaling-setting-section__ExampleText",
  componentId: "sc-15f9iy2-2"
})(["font-size:1em;"]);
var BASE_FONT_OPTION_INDEX = _constants__WEBPACK_IMPORTED_MODULE_6__.SCALING_OPTIONS.findIndex(function (option) {
  return option.value === _constants__WEBPACK_IMPORTED_MODULE_6__.BASE_FONT_SIZE;
});
var AUTOSCALING_FONT_SIZE = (0,_utils__WEBPACK_IMPORTED_MODULE_7__.getAutoScalingFontSize)();
var AUTOSCALING_FONT_OPTION_INDEX = _constants__WEBPACK_IMPORTED_MODULE_6__.SCALING_OPTIONS.findIndex(function (option) {
  return option.value === AUTOSCALING_FONT_SIZE;
});
var ScalingSettingSection = function ScalingSettingSection(_ref2) {
  var _scalingSettings$sett;
  var scalingSettings = _ref2.scalingSettings,
    addLocalStoreChange = _ref2.addLocalStoreChange,
    cleanLocalStoreChange = _ref2.cleanLocalStoreChange,
    resetRef = _ref2.resetRef;
  var _useTranslation = (0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.useTranslation)(),
    _useTranslation2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useTranslation, 1),
    t = _useTranslation2[0];
  var _useMemo = (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {
      return _constants__WEBPACK_IMPORTED_MODULE_6__.SCALING_OPTIONS.reduce(function (_ref3, option) {
        var _ref4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_ref3, 2),
          values = _ref4[0],
          labels = _ref4[1];
        values.push(option.value);
        labels.push(t('settings.appearance.option', {
          context: option.label
        }));
        return [values, labels];
      }, [[], []]);
    }, [t]),
    _useMemo2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useMemo, 2),
    scalingOptionValues = _useMemo2[0],
    scalingOptionLabels = _useMemo2[1];
  var savedOptionIndex = (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {
    var savedScalingValueSetting = scalingSettings['settings.appearance_setting.scaling'];
    if (savedScalingValueSetting !== undefined) {
      var optionIndex = scalingOptionValues.findIndex(function (option) {
        return option === savedScalingValueSetting;
      });
      if (optionIndex >= 0) {
        return optionIndex;
      }
    }
    return AUTOSCALING_FONT_OPTION_INDEX;
  }, [scalingOptionValues, scalingSettings]);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)((_scalingSettings$sett = scalingSettings['settings.appearance_setting.auto']) !== null && _scalingSettings$sett !== void 0 ? _scalingSettings$sett : true),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    autoScaling = _useState2[0],
    setAutoScaling = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(savedOptionIndex),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
    scalingValue = _useState4[0],
    setScalingValue = _useState4[1];
  (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(function () {
    // update input value when setting is updated
    setScalingValue(savedOptionIndex);
  }, [savedOptionIndex]);
  (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(function () {
    if (scalingOptionValues[scalingValue]) {
      if (scalingValue !== savedOptionIndex) {
        addLocalStoreChange('settings.appearance_setting.scaling', scalingOptionValues[scalingValue]);
      } else {
        cleanLocalStoreChange('settings.appearance_setting.scaling');
      }
    }
  }, [addLocalStoreChange, cleanLocalStoreChange, savedOptionIndex, scalingOptionValues, scalingSettings, scalingValue]);
  (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(function () {
    if (scalingSettings['settings.appearance_setting.auto'] !== undefined && autoScaling !== scalingSettings['settings.appearance_setting.auto'] || scalingSettings['settings.appearance_setting.auto'] === undefined && !autoScaling) {
      addLocalStoreChange('settings.appearance_setting.auto', autoScaling);
      if (autoScaling) {
        addLocalStoreChange('settings.appearance_setting.scaling', undefined);
      }
    } else {
      cleanLocalStoreChange('settings.appearance_setting.auto');
    }
  }, [addLocalStoreChange, autoScaling, cleanLocalStoreChange, scalingSettings]);
  var increaseScalingByStep = (0,react__WEBPACK_IMPORTED_MODULE_5__.useCallback)(function () {
    setScalingValue(function (prevState) {
      return prevState < _constants__WEBPACK_IMPORTED_MODULE_6__.SCALING_OPTIONS.length - 1 ? prevState + 1 : prevState;
    });
  }, []);
  var decreaseScalingByStep = (0,react__WEBPACK_IMPORTED_MODULE_5__.useCallback)(function () {
    setScalingValue(function (prevState) {
      return prevState > 0 ? prevState - 1 : prevState;
    });
  }, []);
  var toggleAutoScaling = (0,react__WEBPACK_IMPORTED_MODULE_5__.useCallback)(function () {
    setAutoScaling(function (prevState) {
      return !prevState;
    });
    setScalingValue(savedOptionIndex);
  }, [savedOptionIndex]);
  var onChangeScalingValue = (0,react__WEBPACK_IMPORTED_MODULE_5__.useCallback)(function (ev, newValueIndex) {
    setScalingValue(newValueIndex);
  }, []);
  var resetHandler = (0,react__WEBPACK_IMPORTED_MODULE_5__.useCallback)(function () {
    var _scalingSettings$sett2;
    setScalingValue(savedOptionIndex);
    setAutoScaling((_scalingSettings$sett2 = scalingSettings['settings.appearance_setting.auto']) !== null && _scalingSettings$sett2 !== void 0 ? _scalingSettings$sett2 : true);
  }, [savedOptionIndex, scalingSettings]);
  (0,_hooks_use_reset__WEBPACK_IMPORTED_MODULE_8__.useReset)(resetRef, resetHandler);
  var exampleText = (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {
    return t('settings.appearance.labels.choose_size_pangram', 'The quick brown fox jumps over the lazy dog.');
  }, [t]);
  var exampleFontSize = (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {
    return (
      // Revert the percentage and then apply the new value to use the browser base font-size and not the html font-size rule
      // Explanation:
      // - reverting factor (factor to apply to current font to obtain the browser font size) = unsaved input value / local storage value
      // - new font size percentage = reverting factor * 100
      // The resulting value is the percentage to apply to current html font-size to obtain the same calculated value
      // as if the scalingValue was set in the html.
      // E.g.: html: 75%, scalingValue: 100 -> 1 rem is 12px (because of the 75%). In the browser the base font is set to 16px.
      // To make scalingValue 100 equals to 16px, we need to get the reverting factor (100 / 75 = 1.3333).
      // This is the factor required to have 16 starting from 12 (12*1.3333 ~= 16)
      // The percentage to apply to the example container is then 1.3333 * 100 = 133.33 (133.33%(75) ~= 100 ~= 16px)
      (scalingOptionValues[Math.round(scalingValue)] || 100) / scalingOptionValues[savedOptionIndex] * 100
    );
  }, [savedOptionIndex, scalingOptionValues, scalingValue]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    orientation: 'vertical',
    mainAlignment: 'flex-start',
    crossAlignment: 'flex-start',
    gap: '1rem',
    height: 'fit',
    width: 'fill'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    orientation: 'vertical',
    gap: '1rem',
    height: 'fit',
    width: 'fit',
    mainAlignment: 'flex-start',
    crossAlignment: 'flex-start',
    maxWidth: '100%'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Text, {
    size: "small",
    overflow: 'break-word'
  }, t('settings.appearance.labels.choose_size_description', 'Choose Type Size and Styles for Carbonio Environment')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ScalingSliderContainer, {
    orientation: "horizontal",
    width: "fill",
    height: "auto",
    padding: {
      vertical: 'small',
      horizontal: 'large'
    },
    gap: '0.5rem',
    flexGrow: 1
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Tooltip, {
    label: t('settings.appearance.labels.decrease', 'Decrease', {
      context: scalingValue === 0 ? 'disabled' : ''
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    width: "fit",
    height: "fit",
    minWidth: 'fit-content'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Button, {
    disabled: autoScaling || scalingValue === 0,
    label: t('settings.appearance.labels.a', 'A'),
    type: 'ghost',
    size: 'extrasmall',
    color: 'text',
    onClick: decreaseScalingByStep,
    minWidth: 'fit-content'
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Slider, {
    disabled: autoScaling,
    options: scalingOptionLabels,
    onChange: onChangeScalingValue,
    value: autoScaling && BASE_FONT_OPTION_INDEX >= 0 ? BASE_FONT_OPTION_INDEX : scalingValue
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Tooltip, {
    label: t('settings.appearance.labels.increase', 'Increase', {
      context: scalingValue === _constants__WEBPACK_IMPORTED_MODULE_6__.SCALING_OPTIONS.length - 1 ? 'disabled' : ''
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    width: "fit",
    height: "fit",
    minWidth: 'fit-content'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Button, {
    disabled: autoScaling || scalingValue === _constants__WEBPACK_IMPORTED_MODULE_6__.SCALING_OPTIONS.length - 1,
    label: t('settings.appearance.labels.a', 'A'),
    type: 'ghost',
    size: 'extralarge',
    onClick: increaseScalingByStep,
    color: 'text',
    minWidth: 'fit-content'
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Checkbox, {
    value: autoScaling,
    onClick: toggleAutoScaling,
    label: t('settings.appearance.labels.choose_size_auto', 'Automatically resize the text size depending on the device'),
    size: 'small'
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleContainer, {
    background: 'gray5',
    padding: 'large',
    gap: '0.5rem',
    orientation: 'vertical',
    mainAlignment: 'flex-start',
    crossAlignment: 'flex-start',
    width: 'fill',
    $fontSize: exampleFontSize
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleText, {
    weight: 'light',
    overflow: 'break-word'
  }, exampleText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleText, {
    weight: 'regular',
    overflow: 'break-word'
  }, exampleText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleText, {
    weight: 'bold',
    overflow: 'break-word'
  }, exampleText)));
};

/***/ }),

/***/ "./src/settings/components/general-settings/search-settings.tsx":
/*!**********************************************************************!*\
  !*** ./src/settings/components/general-settings/search-settings.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SearchSettings": () => (/* binding */ SearchSettings)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../general-settings-sub-sections */ "./src/settings/general-settings-sub-sections.ts");
/* harmony import */ var _hooks_use_reset__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/use-reset */ "./src/settings/hooks/use-reset.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils */ "./src/settings/components/utils.ts");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var SearchSettings = function SearchSettings(_ref) {
  var settings = _ref.settings,
    addMod = _ref.addMod,
    resetRef = _ref.resetRef;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_2__.getT)();
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(settings.prefs.zimbraPrefIncludeSpamInSearch === 'TRUE'),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    searchInSpamFolder = _useState2[0],
    setSearchInSpamFolder = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(settings.prefs.zimbraPrefIncludeTrashInSearch === 'TRUE'),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
    searchInTrashFolder = _useState4[0],
    setSearchInTrashFolder = _useState4[1];
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(settings.prefs.zimbraPrefIncludeSharedItemsInSearch === 'TRUE'),
    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState5, 2),
    searchInSharedFolder = _useState6[0],
    setSearchInSharedFolder = _useState6[1];
  var setMode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.upsertPrefOnUnsavedChanges)(addMod);
  }, [addMod]);
  var init = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {
    setSearchInSpamFolder(settings.prefs.zimbraPrefIncludeSpamInSearch === 'TRUE');
    setSearchInTrashFolder(settings.prefs.zimbraPrefIncludeTrashInSearch === 'TRUE');
    setSearchInSharedFolder(settings.prefs.zimbraPrefIncludeSharedItemsInSearch === 'TRUE');
  }, [settings.prefs.zimbraPrefIncludeSharedItemsInSearch, settings.prefs.zimbraPrefIncludeSpamInSearch, settings.prefs.zimbraPrefIncludeTrashInSearch]);
  (0,_hooks_use_reset__WEBPACK_IMPORTED_MODULE_4__.useReset)(resetRef, init);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    init();
  }, [init]);
  var onClickSpam = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {
    setSearchInSpamFolder(function (prevState) {
      var newValue = !prevState;
      setMode('zimbraPrefIncludeSpamInSearch', newValue);
      return newValue;
    });
  }, [setMode]);
  var onClickTrash = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {
    setSearchInTrashFolder(function (prevState) {
      var newValue = !prevState;
      setMode('zimbraPrefIncludeTrashInSearch', newValue);
      return newValue;
    });
  }, [setMode]);
  var onClickShared = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {
    setSearchInSharedFolder(function (prevState) {
      var newValue = !prevState;
      setMode('zimbraPrefIncludeSharedItemsInSearch', newValue);
      return newValue;
    });
  }, [setMode]);
  var sectionTitle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_3__.searchPrefsSubSection)(t);
  }, [t]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.FormSubSection, {
    label: sectionTitle.label,
    minWidth: "calc(min(100%, 32rem))",
    width: "50%",
    id: sectionTitle.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    crossAlignment: "baseline",
    padding: {
      all: 'small'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Checkbox, {
    label: t('settings.search_settings.labels.include_search_in_spam_folder', 'Include Spam Folder in Searches'),
    value: searchInSpamFolder,
    onClick: onClickSpam
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Checkbox, {
    label: t('settings.search_settings.labels.include_search_in_trash_folder', 'Include Trash Folder in Searches'),
    value: searchInTrashFolder,
    onClick: onClickTrash
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Checkbox, {
    label: t('settings.search_settings.labels.include_search_in_shared_folder', 'Include Shared Folder in Searches'),
    value: searchInSharedFolder,
    onClick: onClickShared
  })));
};

/***/ }),

/***/ "./src/settings/components/general-settings/user-quota.tsx":
/*!*****************************************************************!*\
  !*** ./src/settings/components/general-settings/user-quota.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "./node_modules/core-js/modules/es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store_account_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../store/account/hooks */ "./src/store/account/hooks.ts");
/* harmony import */ var _store_account_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../store/account/store */ "./src/store/account/store.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../general-settings-sub-sections */ "./src/settings/general-settings-sub-sections.ts");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var UserQuota = function UserQuota(_ref) {
  var _settings$attrs2;
  var mobileView = _ref.mobileView;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_4__.getT)();
  var settings = (0,_store_account_hooks__WEBPACK_IMPORTED_MODULE_2__.useUserSettings)();
  var used = (0,_store_account_store__WEBPACK_IMPORTED_MODULE_3__.useAccountStore)(function (s) {
    return s.usedQuota;
  });
  var quota = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    var _settings$attrs;
    var userQuota = Number(settings === null || settings === void 0 ? void 0 : (_settings$attrs = settings.attrs) === null || _settings$attrs === void 0 ? void 0 : _settings$attrs.zimbraMailQuota);
    if (used && userQuota && userQuota > 0) {
      return Math.round(used / userQuota * 100);
    }
    return -1;
  }, [settings === null || settings === void 0 ? void 0 : (_settings$attrs2 = settings.attrs) === null || _settings$attrs2 === void 0 ? void 0 : _settings$attrs2.zimbraMailQuota, used]);
  var description = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    switch (true) {
      case !quota || quota < 0:
        return t('user_quota.unlimited', 'You have unlimited space available');
      case quota === 100:
        return t('user_quota.space_full', 'It seems that all available space is full');
      default:
        return t('user_quota.limited', {
          defaultValue: 'You have filled {{quota}}% of the available space',
          quota: quota
        });
    }
  }, [quota, t]);
  var fillBackground = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    switch (true) {
      case quota >= 95:
        return 'error';
      case quota >= 90:
        return 'warning';
      case quota === -1:
        return 'gray4';
      default:
        return 'primary';
    }
  }, [quota]);
  var sectionTitle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_5__.quotaSubSection)(t);
  }, [t]);
  return mobileView ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    width: "fit",
    padding: {
      right: 'medium'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Tooltip, {
    label: description,
    placement: "bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Quota, {
    fill: quota > 0 ? quota : 0,
    fillBackground: fillBackground
  }))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.FormSubSection, {
    label: sectionTitle.label,
    minWidth: "calc(min(100%, 32rem))",
    width: "50%",
    id: sectionTitle.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    width: "fill",
    padding: {
      vertical: 'medium'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    orientation: "horizontal",
    mainAlignment: "flex-start",
    padding: {
      bottom: 'medium'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Text, null, description)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Quota, {
    fill: quota === -1 ? 100 : quota,
    fillBackground: fillBackground
  })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserQuota);

/***/ }),

/***/ "./src/settings/components/settings-header.tsx":
/*!*****************************************************!*\
  !*** ./src/settings/components/settings-header.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.timers.js */ "./node_modules/core-js/modules/web.timers.js");
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "./node_modules/core-js/modules/es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _ui_extras_nav_guard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ui-extras/nav-guard */ "./src/ui-extras/nav-guard.tsx");




/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var SettingsHeader = function SettingsHeader(_ref) {
  var _history$location;
  var onSave = _ref.onSave,
    onCancel = _ref.onCancel,
    isDirty = _ref.isDirty,
    title = _ref.title;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_6__.getT)();
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useHistory)();
  var params = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useParams)();
  var crumbs = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return [{
      id: 'settings',
      label: t('settings.app', 'Settings'),
      onClick: function onClick() {
        return history.push("/".concat(_constants__WEBPACK_IMPORTED_MODULE_5__.SETTINGS_APP_ID, "/"));
      }
    }, {
      id: 'general',
      label: title,
      onClick: function onClick() {
        return history.push("/".concat(_constants__WEBPACK_IMPORTED_MODULE_5__.SETTINGS_APP_ID, "/"));
      }
    }];
  }, [history, t, title]);
  var search = (_history$location = history.location) === null || _history$location === void 0 ? void 0 : _history$location.search;
  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {
    if (search) {
      // TODO: why not using anchor links instead of js?
      setTimeout(function () {
        var _document$querySelect;
        return (_document$querySelect = document.querySelector("#".concat(history.location.search).replace('?section=', ''))) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.scrollIntoView();
      }, 1);
    }
  }, [history, history.location, history.location.search, search, params]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement((react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_ui_extras_nav_guard__WEBPACK_IMPORTED_MODULE_7__.RouteLeavingGuard, {
    when: isDirty,
    onSave: onSave
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Text, null, t('label.unsaved_changes_line1', 'Are you sure you want to leave this page without saving?')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Text, null, t('label.unsaved_changes_line2', 'All your unsaved changes will be lost'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Container, {
    orientation: "vertical",
    mainAlignment: "space-around",
    background: 'gray5',
    height: "fit"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Row, {
    orientation: "horizontal",
    width: "100%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Row, {
    padding: {
      all: 'small'
    },
    mainAlignment: "flex-start",
    width: "50%",
    crossAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Breadcrumbs, {
    crumbs: crumbs
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Row, {
    padding: {
      all: 'small'
    },
    width: "50%",
    mainAlignment: "flex-end",
    crossAlignment: "flex-end"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Padding, {
    right: "small"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Button, {
    label: t('label.discard_changes', 'DISCARD CHANGES'),
    onClick: onCancel,
    color: "secondary",
    disabled: !isDirty
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Button, {
    label: t('label.save', 'Save'),
    color: "primary",
    onClick: onSave,
    disabled: !isDirty
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_9__.Divider, null));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SettingsHeader);

/***/ }),

/***/ "./src/settings/components/settings-heading.tsx":
/*!******************************************************!*\
  !*** ./src/settings/components/settings-heading.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1__);
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var Heading = function Heading(_ref) {
  var title = _ref.title;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1__.Row, {
    padding: {
      all: 'small'
    },
    mainAlignment: "baseline",
    crossAlignment: "baseline",
    width: "100%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1__.Text, {
    size: "large",
    weight: "bold"
  }, title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_1__.Padding, {
    vertical: "small"
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Heading);

/***/ }),

/***/ "./src/settings/components/utils.ts":
/*!******************************************!*\
  !*** ./src/settings/components/utils.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GEN_TIME_FORMAT": () => (/* binding */ GEN_TIME_FORMAT),
/* harmony export */   "dateToGenTime": () => (/* binding */ dateToGenTime),
/* harmony export */   "endOfDay": () => (/* binding */ endOfDay),
/* harmony export */   "genTimeToDate": () => (/* binding */ genTimeToDate),
/* harmony export */   "getAutoScalingFontSize": () => (/* binding */ getAutoScalingFontSize),
/* harmony export */   "localeList": () => (/* binding */ localeList),
/* harmony export */   "startOfDay": () => (/* binding */ startOfDay),
/* harmony export */   "timeZoneList": () => (/* binding */ timeZoneList),
/* harmony export */   "upsertPrefOnUnsavedChanges": () => (/* binding */ upsertPrefOnUnsavedChanges)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.date.to-string.js */ "./node_modules/core-js/modules/es.date.to-string.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.find-index.js */ "./node_modules/core-js/modules/es.array.find-index.js");
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var GEN_TIME_FORMAT = 'YYYYMMDDHHmmss[Z]';
function getGenTimeMoment(date) {
  return moment__WEBPACK_IMPORTED_MODULE_2___default().utc(date, GEN_TIME_FORMAT);
}
function dateToGenTime(date) {
  return getGenTimeMoment(date).format(GEN_TIME_FORMAT);
}
function genTimeToDate(genTime) {
  return getGenTimeMoment(genTime).local().toDate();
}
var startOfDay = function startOfDay(date) {
  return new Date(new Date(date).setHours(0, 0, 0, 0));
};
var endOfDay = function endOfDay(date) {
  return new Date(new Date(date).setHours(23, 59, 59, 0));
};
var localeList = function localeList(t) {
  return [{
    id: 'zh_CN',
    name: '中文 (中国)',
    localName: t('locale.chinese_china', 'Chinese (China)'),
    label: t('locale.label_chinese', {
      value: '中文 (中国)',
      defaultValue: 'Chinese (China) - {{value}}'
    }),
    value: 'zh_CN',
    dateFnsLocale: 'zh-CN'
  }, {
    id: 'nl',
    name: 'Nederlands',
    localName: t('locale.dutch', 'Dutch'),
    label: t('locale.label_dutch', {
      value: 'Nederlands',
      defaultValue: 'Dutch - {{value}}'
    }),
    value: 'nl'
  }, {
    id: 'en',
    name: 'English',
    localName: t('locale.English', 'English'),
    label: t('locale.label_english', {
      value: 'English',
      defaultValue: 'English - {{value}}'
    }),
    value: 'en',
    dateFnsLocale: 'en-US'
  }, {
    id: 'de',
    name: 'Deutsch',
    localName: t('locale.german', 'German'),
    label: t('locale.label_german', {
      value: 'Deutsch',
      defaultValue: 'German - {{value}}'
    }),
    value: 'de'
  }, {
    id: 'hi',
    name: 'हिंदी',
    localName: t('locale.hindi', 'Hindi'),
    label: t('locale.label_hindi', {
      value: 'हिंदी',
      defaultValue: 'Hindi - {{value}}'
    }),
    value: 'hi'
  }, {
    id: 'it',
    name: 'italiano',
    localName: t('locale.italian', 'Italian'),
    label: t('locale.label_italian', {
      value: 'italiano',
      defaultValue: 'Italian - {{value}}'
    }),
    value: 'it'
  }, {
    id: 'ja',
    name: '日本語',
    localName: t('locale.japanese', 'Japanese'),
    label: t('locale.label_japanese', {
      value: '日本語',
      defaultValue: 'Japanese - {{value}}'
    }),
    value: 'ja'
  }, {
    id: 'pt',
    name: 'português',
    localName: t('locale.portuguese', 'Portuguese'),
    label: t('locale.label_portuguese', {
      value: 'português',
      defaultValue: 'Portuguese - {{value}}'
    }),
    value: 'pt'
  }, {
    id: 'pl',
    name: 'polski',
    localName: t('locale.polish', 'Polish'),
    label: 'Polish - polski',
    value: 'pl'
  }, {
    id: 'pt_BR',
    name: 'português (Brasil)',
    localName: t('locale.portuguese_brazil', 'Portuguese (Brazil)'),
    label: t('locale.label_portuguese_brazil', {
      value: 'português (Brasil)',
      defaultValue: 'Portuguese - {{value}}'
    }),
    value: 'pt_BR',
    dateFnsLocale: 'pt-BR'
  }, {
    id: 'ro',
    name: 'română',
    localName: t('locale.romanian', 'Romanian'),
    label: t('locale.label_romanian', {
      value: 'română',
      defaultValue: 'Romanian - {{value}}'
    }),
    value: 'ro'
  }, {
    id: 'ru',
    name: 'русский',
    localName: t('locale.russian', 'Russian'),
    label: t('locale.label_russian', {
      value: 'русский',
      defaultValue: 'Russian - {{value}}'
    }),
    value: 'ru'
  }, {
    id: 'es',
    name: 'español',
    localName: t('locale.spanish', 'Spanish'),
    label: t('locale.label_spanish', {
      value: 'español',
      defaultValue: 'Spanish - {{value}}'
    }),
    value: 'es'
  }, {
    id: 'th',
    name: 'ไทย',
    localName: t('locale.thai', 'Thai'),
    label: t('locale.label_thai', {
      value: 'ไทย',
      defaultValue: 'Thai - {{value}}'
    }),
    value: 'th'
  }, {
    id: 'tr',
    name: 'Türkçe',
    localName: t('locale.turkish', 'Turkish'),
    label: t('locale.label_turkish', {
      value: 'Türkçe',
      defaultValue: 'Turkish - {{value}}'
    }),
    value: 'tr'
  }, {
    id: 'fr',
    name: 'français',
    localName: t('locale.french', 'French'),
    label: t('locale.label_french', {
      value: 'français',
      defaultValue: 'French - {{value}}'
    }),
    value: 'fr'
  }, {
    id: 'vi',
    name: 'Tiếng Việt',
    localName: t('locale.vietnamese', 'Vietnamese'),
    label: 'Vietnamese - Tiếng Việt',
    value: 'vi'
  }];
};
// TODO: For future languages
// export const localeList = (t: TFunction): any => [
// 	{
// 		id: 'ar',
// 		name: 'العربية',
// 		localName: t('locale.arabic', 'Arabic'),
// 		label: t('locale.label_arabic', { value: 'لعربية', defaultValue: 'Arabic - {{value}}' }),
// 		value: 'ar'
// 	},
// 	{
// 		id: 'eu',
// 		name: 'Euskara',
// 		localName: t('locale.basque', 'Basque'),
// 		label: t('locale.label_basque', { value: 'Euskara', defaultValue: 'Basque - {{value}}' }),
// 		value: 'eu'
// 	},
// 	{
// 		id: 'bg',
// 		name: 'български',
// 		localName: t('locale.bulgarian', 'Bulgarian'),
// 		label: t('locale.label_bulgarian', {
// 			value: 'български',
// 			defaultValue: 'Bulgarian - {{value}}'
// 		}),
// 		value: 'bg'
// 	},
// 	{
// 		id: 'ca',
// 		name: 'català',
// 		localName: t('locale.catalan', 'Catalan'),
// 		label: 'Catalan - català',
// 		value: 'ca'
// 	},
// 	{
// 		id: 'zh',
// 		name: '中文',
// 		localName: t('locale.chinese', 'Chinese'),
// 		label: 'Chinese - 中文',
// 		value: 'zh'
// 	},
// 	{
// 		id: 'zh_CN',
// 		name: '中文 (中国)',
// 		localName: t('locale.chinese_china', 'Chinese (China)'),
// 		label: 'Chinese (China) - 中文 (中国)',
// 		value: 'zh_CN'
// 	},
// 	{
// 		id: 'zh_HK',
// 		name: '中文 (香港)',
// 		localName: t('locale.chinese_hong_kong', 'Chinese (Hong Kong SAR China)'),
// 		label: 'Chinese (Hong Kong SAR China) - 中文 (香港)',
// 		value: 'zh_HK'
// 	},
// 	{
// 		id: 'zh_TW',
// 		name: '中文 (台灣)',
// 		localName: t('locale.chinese_taiwan', 'Chinese (Taiwan)'),
// 		label: 'Chinese (Taiwan) - 中文 (台灣)',
// 		value: 'zh_TW'
// 	},
// 	{
// 		id: 'hr',
// 		name: 'hrvatski',
// 		localName: t('locale.croatian', 'Croatian'),
// 		label: 'Croatian - hrvatski',
// 		value: 'hr'
// 	},
// 	{
// 		id: 'da',
// 		name: 'Dansk',
// 		localName: t('locale.danish', 'Danish'),
// 		label: 'Danish - Dansk',
// 		value: 'da'
// 	},

// 	{
// 		id: 'en_AU',
// 		name: 'English (Australia)',
// 		localName: t('locale.english_australia', 'English (Australia)'),
// 		label: 'English (Australia) - English (Australia)',
// 		value: 'en_AU'
// 	},
// 	{
// 		id: 'en_GB',
// 		name: 'English (United Kingdom)',
// 		localName: t('locale.english_united_kingdom', 'English (United Kingdom)'),
// 		label: 'English (United Kingdom) - English (United Kingdom)',
// 		value: 'en_GB'
// 	},
// 	{
// 		id: 'en_US',
// 		name: 'English (United States)',
// 		localName: t('locale.english_united_states', 'English (United States)'),
// 		label: 'English (United States) - English (United States)',
// 		value: 'en_US'
// 	},
// 	{
// 		id: 'fr',
// 		name: 'français',
// 		localName: t('locale.french', 'French'),
// 		label: 'French - français',
// 		value: 'fr'
// 	},
// 	{
// 		id: 'fr_CA',
// 		name: 'français (Canada)',
// 		localName: t('locale.french_canada', 'French (Canada)'),
// 		label: 'French (Canada) - français (Canada)',
// 		value: 'fr_CA'
// 	},
// 	{
// 		id: 'fr_FR',
// 		name: 'français (France)',
// 		localName: t('locale.french_france', 'French (France)'),
// 		label: 'French (France) - français (France)',
// 		value: 'fr_FR'
// 	},

// 	{
// 		id: 'iw',
// 		name: 'עברית',
// 		localName: t('locale.hebrew', 'Hebrew'),
// 		label: 'Hebrew - עברית',
// 		value: 'iw'
// 	},

// 	{
// 		id: 'hu',
// 		name: 'magyar',
// 		localName: t('locale.hungarian', 'Hungarian'),
// 		label: 'Hungarian - magyar',
// 		value: 'hu'
// 	},
// 	{
// 		id: 'in',
// 		name: 'Bahasa Indonesia',
// 		localName: t('locale.indonesian', 'Indonesian'),
// 		label: 'Indonesian - Bahasa Indonesia',
// 		value: 'in'
// 	},

// 	{
// 		id: 'ko',
// 		name: '한국어',
// 		localName: t('locale.korean', 'Korean'),
// 		label: 'Korean - 한국어',
// 		value: 'ko'
// 	},
// 	{
// 		id: 'lo',
// eslint-disable-next-line no-irregular-whitespace
// 		name: 'ພາ​ສາ​ລາວ',
// 		localName: t('locale.lao', 'Lao'),
// eslint-disable-next-line no-irregular-whitespace
// 		label: 'Lao - ພາ​ສາ​ລາວ',
// 		value: 'lo'
// 	},
// 	{
// 		id: 'ms',
// 		name: 'Bahasa Melayu',
// 		localName: t('locale.malay', 'Malay'),
// 		label: 'Malay - Bahasa Melayu',
// 		value: 'ms'
// 	},
// 	{
// 		id: 'no',
// 		name: 'norsk',
// 		localName: t('locale.norwegian', 'Norwegian'),
// 		label: 'Norwegian - norsk',
// 		value: 'no'
// 	},

// 	{
// 		id: 'pt_PT',
// 		name: 'português (Portugal)',
// 		localName: t('locale.potuguese_portugal', 'Portuguese (Portugal)'),
// 		label: 'Portuguese (Portugal) - português (Portugal)',
// 		value: 'pt_PT'
// 	},

// 	{
// 		id: 'sl',
// 		name: 'Slovenščina',
// 		localName: t('locale.slovenian', 'Slovenian'),
// 		label: 'Slovenian - Slovenščina',
// 		value: 'sl'
// 	},

// 	{
// 		id: 'sv',
// 		name: 'svenska',
// 		localName: t('locale.swedish', 'Swedish'),
// 		label: 'Swedish - svenska',
// 		value: 'sv'
// 	},
// 	{
// 		id: 'ta',
// 		name: 'தமிழ்',
// 		localName: t('locale.tamil', 'Tamil'),
// 		label: 'Tamil - தமிழ்',
// 		value: 'ta'
// 	},

// 	{
// 		id: 'uk',
// 		name: 'українська',
// 		localName: t('locale.ukrainian', 'Ukrainian'),
// 		label: 'Ukrainian - українська',
// 		value: 'uk'
// 	},

// ];
var timeZoneList = function timeZoneList(t) {
  return [{
    value: 'Etc/GMT+12',
    label: t('timezone.etc_gmt+12', {
      value: 'GMT -12:00',
      defaultValue: '{{value}} Dateline'
    })
  }, {
    value: 'Pacific/Midway',
    label: t('timezone.pacific_midway', {
      value: 'GMT -11:00',
      defaultValue: '{{value}} Samoa'
    })
  }, {
    value: 'America/Adak',
    label: t('timezone.america_adak', {
      value: 'GMT -10:00',
      defaultValue: '{{value}} Adak'
    })
  }, {
    value: 'Pacific/Honolulu',
    label: t('timezone.pacific_honolulu', {
      value: 'GMT -10:00',
      defaultValue: '{{value}} Hawaii'
    })
  }, {
    value: 'Pacific/Marquesas',
    label: t('timezone.pacific_marquesas', {
      value: 'GMT -09:30',
      defaultValue: '{{value}} Marquesas'
    })
  }, {
    value: 'America/Anchorage',
    label: t('timezone.america_anchorage', {
      value: 'GMT -09:00',
      defaultValue: '{{value}} Alaska'
    })
  }, {
    value: 'America/Los_Angeles',
    label: t('timezone.america_los_angeles', {
      value: 'GMT -08:00',
      defaultValue: '{{value}} US/Canada Pacific'
    })
  }, {
    value: 'America/Tijuana',
    label: t('timezone.america_tijuana', {
      value: 'GMT -08:00',
      defaultValue: '{{value}} Baja California'
    })
  }, {
    value: 'America/Chihuahua',
    label: t('timezone.america_chihuahua', {
      value: 'GMT -07:00',
      defaultValue: '{{value}} Chihuahua, La Paz, Mazatlan'
    })
  }, {
    value: 'America/Denver',
    label: t('timezone.america_denver', {
      value: 'GMT -07:00',
      defaultValue: '{{value}} US/Canada Mountain'
    })
  }, {
    value: 'America/Fort_Nelson',
    label: t('timezone.america_fort_nelson', {
      value: 'GMT -07:00',
      defaultValue: '{{value}} Fort Nelson'
    })
  }, {
    value: 'America/Phoenix',
    label: t('timezone.america_phoenix', {
      value: 'GMT -07:00',
      defaultValue: '{{value}} Arizona'
    })
  }, {
    value: 'America/Whitehorse',
    label: t('timezone.america_whitehorse', {
      value: 'GMT -07:00',
      defaultValue: '{{value}} Yukon'
    })
  }, {
    value: 'America/Chicago',
    label: t('timezone.america_chicago', {
      value: 'GMT -06:00',
      defaultValue: '{{value}} US/Canada Central'
    })
  }, {
    value: 'America/Guatemala',
    label: t('timezone.america_guatemala', {
      value: 'GMT -06:00',
      defaultValue: '{{value}} Central America'
    })
  }, {
    value: 'America/Mexico_City',
    label: t('timezone.america_mexico_city', {
      value: 'GMT -06:00',
      defaultValue: '{{value}} Guadalajara, Mexico City, Monterrey'
    })
  }, {
    value: 'America/Regina',
    label: t('timezone.america_regina', {
      value: 'GMT -06:00',
      defaultValue: '{{value}} Saskatchewan'
    })
  }, {
    value: 'Pacific/Easter',
    label: t('timezone.pacific_easter', {
      value: 'GMT -06:00',
      defaultValue: '{{value}} Easter'
    })
  }, {
    value: 'America/Bogota',
    label: t('timezone.america_bogota', {
      value: 'GMT -05:00',
      defaultValue: '{{value}} Colombia'
    })
  }, {
    value: 'America/Cancun',
    label: t('timezone.america_cancun', {
      value: 'GMT -05:00',
      defaultValue: '{{value}} Cancun, Chetumal'
    })
  }, {
    value: 'America/Grand_Turk',
    label: t('timezone.america_grand_turk', {
      value: 'GMT -05:00',
      defaultValue: '{{value}} Turks and Caicos Islands'
    })
  }, {
    value: 'America/Havana',
    label: t('timezone.america_havana', {
      value: 'GMT -05:00',
      defaultValue: '{{value}} Havana'
    })
  }, {
    value: 'America/Indiana/Indianapolis',
    label: t('timezone.america_indiana_indianapolis', {
      value: 'GMT -05:00',
      defaultValue: '{{value}} Indiana (East)'
    })
  }, {
    value: 'America/New_York',
    label: t('timezone.america_new_york', {
      value: 'GMT -05:00',
      defaultValue: '{{value}} US/Canada Eastern'
    })
  }, {
    value: 'America/Port-au-Prince',
    label: t('timezone.america_port-au-prince', {
      value: 'GMT -05:00',
      defaultValue: '{{value}} Port-au-Prince'
    })
  }, {
    value: 'America/Asuncion',
    label: t('timezone.america_asuncion', {
      value: 'GMT -04:00',
      defaultValue: '{{value}} Asuncion'
    })
  }, {
    value: 'America/Caracas',
    label: t('timezone.america_caracas', {
      value: 'GMT -04:00',
      defaultValue: '{{value}} Caracas'
    })
  }, {
    value: 'America/Cuiaba',
    label: t('timezone.america_cuiaba', {
      value: 'GMT -04:00',
      defaultValue: '{{value}} Cuiaba'
    })
  }, {
    value: 'America/Guyana',
    label: t('timezone.america_guyana', {
      value: 'GMT -04:00',
      defaultValue: '{{value}} Georgetown, La Paz, Manaus, San Juan'
    })
  }, {
    value: 'America/Halifax',
    label: t('timezone.america_halifax', {
      value: 'GMT -04:00',
      defaultValue: '{{value}} Atlantic Time (Canada)'
    })
  }, {
    value: 'America/Santiago',
    label: t('timezone.america_santiago', {
      value: 'GMT -04:00',
      defaultValue: '{{value}} Pacific South America'
    })
  }, {
    value: 'America/St_Johns',
    label: t('timezone.america_st_johns', {
      value: 'GMT -03:30',
      defaultValue: '{{value}} Newfoundland'
    })
  }, {
    value: 'America/Araguaina',
    label: t('timezone.america_araguaina', {
      value: 'GMT -03:00',
      defaultValue: '{{value}} Araguaina'
    })
  }, {
    value: 'America/Argentina/Buenos_Aires',
    label: t('timezone.america_argentina_buenos_aires', {
      value: 'GMT -03:00',
      defaultValue: '{{value}} Argentina'
    })
  }, {
    value: 'America/Bahia',
    label: t('timezone.america_bahia', {
      value: 'GMT -03:00',
      defaultValue: '{{value}} Salvador'
    })
  }, {
    value: 'America/Cayenne',
    label: t('timezone.america_cayenne', {
      value: 'GMT -03:00',
      defaultValue: '{{value}} Cayenne, Fortaleza'
    })
  }, {
    value: 'America/Miquelon',
    label: t('timezone.america_miquelon', {
      value: 'GMT -03:00',
      defaultValue: '{{value}} Miquelon'
    })
  }, {
    value: 'America/Montevideo',
    label: t('timezone.america_montevideo', {
      value: 'GMT -03:00',
      defaultValue: '{{value}} Montevideo'
    })
  }, {
    value: 'America/Punta_Arenas',
    label: t('timezone.america_punta_arenas', {
      value: 'GMT -03:00',
      defaultValue: '{{value}} Punta_Arenas'
    })
  }, {
    value: 'America/Sao_Paulo',
    label: t('timezone.america_sao_paulo', {
      value: 'GMT -03:00',
      defaultValue: '{{value}} Brasilia'
    })
  }, {
    value: 'Atlantic/South_Georgia',
    label: t('timezone.atlantic_south_georgia', {
      value: 'GMT -02:00',
      defaultValue: '{{value}} Mid-Atlantic'
    })
  }, {
    value: 'Atlantic/Azores',
    label: t('timezone.atlantic_azores', {
      value: 'GMT -01:00',
      defaultValue: '{{value}} Azores'
    })
  }, {
    value: 'Atlantic/Cape_Verde',
    label: t('timezone.atlantic_cape_verde', {
      value: 'GMT -01:00',
      defaultValue: '{{value}} Cape Verde Is.'
    })
  }, {
    value: 'Africa/Monrovia',
    label: t('timezone.africa_monrovia', {
      value: 'GMT +00:00',
      defaultValue: '{{value}} Monrovia'
    })
  }, {
    value: 'Africa/Sao_Tome',
    label: t('timezone.africa_sao_tome', {
      value: 'GMT +00:00',
      defaultValue: '{{value}} Sao Tome'
    })
  }, {
    value: 'Europe/London',
    label: t('timezone.europe_london', {
      value: 'GMT +00:00',
      defaultValue: '{{value}} Britain, Ireland, Portugal'
    })
  }, {
    value: 'UTC',
    label: t('timezone.utc', {
      value: 'GMT/UTC',
      defaultValue: '{{value}} Coordinated Universal Time'
    })
  }, {
    value: 'Africa/Algiers',
    label: t('timezone.africa_algiers', {
      value: 'GMT +01:00',
      defaultValue: '{{value}} West Central Africa'
    })
  }, {
    value: 'Africa/Casablanca',
    label: t('timezone.africa_casablanca', {
      value: 'GMT +01:00',
      defaultValue: '{{value}} Casablanca'
    })
  }, {
    value: 'Europe/Belgrade',
    label: t('timezone.europe_belgrade', {
      value: 'GMT +01:00',
      defaultValue: '{{value}} Belgrade, Bratislava, Budapest, Ljubljana, Prague'
    })
  }, {
    value: 'Europe/Berlin',
    label: t('timezone.europe_berlin', {
      value: 'GMT +01:00',
      defaultValue: '{{value}} Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna'
    })
  }, {
    value: 'Europe/Brussels',
    label: t('timezone.europe_brussels', {
      value: 'GMT +01:00',
      defaultValue: '{{value}} Brussels, Copenhagen, Madrid, Paris'
    })
  }, {
    value: 'Europe/Warsaw',
    label: t('timezone.europe_warsaw', {
      value: 'GMT +01:00',
      defaultValue: '{{value}} Sarajevo, Skopje, Warsaw, Zagreb'
    })
  }, {
    value: 'Africa/Cairo',
    label: t('timezone.africa_cairo', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Egypt'
    })
  }, {
    value: 'Africa/Harare',
    label: t('timezone.africa_harare', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Harare, Pretoria'
    })
  }, {
    value: 'Africa/Juba',
    label: t('timezone.africa_juba', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Juba'
    })
  }, {
    value: 'Africa/Khartoum',
    label: t('timezone.africa_khartoum', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Khartoum'
    })
  }, {
    value: 'Africa/Tripoli',
    label: t('timezone.africa_tripoli', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Tripoli'
    })
  }, {
    value: 'Africa/Windhoek',
    label: t('timezone.africa_windhoek', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Namibia'
    })
  }, {
    value: 'Asia/Amman',
    label: t('timezone.asia_amman', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Jordan'
    })
  }, {
    value: 'Asia/Beirut',
    label: t('timezone.asia_beirut', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Beirut'
    })
  }, {
    value: 'Asia/Damascus',
    label: t('timezone.asia_damascus', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Damascus'
    })
  }, {
    value: 'Asia/Gaza',
    label: t('timezone.asia_gaza', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Gaza'
    })
  }, {
    value: 'Asia/Jerusalem',
    label: t('timezone.asia_jerusalem', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Jerusalem'
    })
  }, {
    value: 'Europe/Athens',
    label: t('timezone.europe_athens', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Athens, Beirut, Bucharest, Istanbul'
    })
  }, {
    value: 'Europe/Bucharest',
    label: t('timezone.europe_bucharest', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Bucharest'
    })
  }, {
    value: 'Europe/Chisinau',
    label: t('timezone.europe_chisinau', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Chisinau'
    })
  }, {
    value: 'Europe/Helsinki',
    label: t('timezone.europe_helsinki', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius'
    })
  }, {
    value: 'Europe/Kaliningrad',
    label: t('timezone.europe_kaliningrad', {
      value: 'GMT +02:00',
      defaultValue: '{{value}} Kaliningrad (RTZ 1)'
    })
  }, {
    value: 'Africa/Nairobi',
    label: t('timezone.africa_nairobi', {
      value: 'GMT +03:00',
      defaultValue: '{{value}} Nairobi'
    })
  }, {
    value: 'Asia/Baghdad',
    label: t('timezone.asia_baghdad', {
      value: 'GMT +03:00',
      defaultValue: '{{value}} Iraq'
    })
  }, {
    value: 'Asia/Kuwait',
    label: t('timezone.asia_kuwait', {
      value: 'GMT +03:00',
      defaultValue: '{{value}} Kuwait, Riyadh'
    })
  }, {
    value: 'Europe/Istanbul',
    label: t('timezone.europe_istanbul', {
      value: 'GMT +03:00',
      defaultValue: '{{value}} Istanbul'
    })
  }, {
    value: 'Europe/Minsk',
    label: t('timezone.europe_minsk', {
      value: 'GMT +03:00',
      defaultValue: '{{value}} Minsk'
    })
  }, {
    value: 'Europe/Moscow',
    label: t('timezone.europe_moscow', {
      value: 'GMT +03:00',
      defaultValue: '{{value}} Moscow, St. Petersburg, Volgograd (RTZ 2)'
    })
  }, {
    value: 'Europe/Volgograd',
    label: t('timezone.europe_volgograd', {
      value: 'GMT +03:00',
      defaultValue: '{{value}} Volgograd'
    })
  }, {
    value: 'Asia/Tehran',
    label: t('timezone.asia_tehran', {
      value: 'GMT +03:30',
      defaultValue: '{{value}} Tehran'
    })
  }, {
    value: 'Asia/Baku',
    label: t('timezone.asia_baku', {
      value: 'GMT +04:00',
      defaultValue: '{{value}} Baku'
    })
  }, {
    value: 'Asia/Muscat',
    label: t('timezone.asia_muscat', {
      value: 'GMT +04:00',
      defaultValue: '{{value}} Abu Dhabi, Muscat'
    })
  }, {
    value: 'Asia/Tbilisi',
    label: t('timezone.asia_tbilisi', {
      value: 'GMT +04:00',
      defaultValue: '{{value}} Tbilisi'
    })
  }, {
    value: 'Asia/Yerevan',
    label: t('timezone.asia_yerevan', {
      value: 'GMT +04:00',
      defaultValue: '{{value}} Yerevan'
    })
  }, {
    value: 'Europe/Astrakhan',
    label: t('timezone.europe_astrakhan', {
      value: 'GMT +04:00',
      defaultValue: '{{value}} Astrakhan'
    })
  }, {
    value: 'Europe/Samara',
    label: t('timezone.europe_samara', {
      value: 'GMT +04:00',
      defaultValue: '{{value}} Izhevsk, Samara (RTZ 3)'
    })
  }, {
    value: 'Europe/Saratov',
    label: t('timezone.europe_saratov', {
      value: 'GMT +04:00',
      defaultValue: '{{value}} Saratov'
    })
  }, {
    value: 'Indian/Mauritius',
    label: t('timezone.indian_mauritius', {
      value: 'GMT +04:00',
      defaultValue: '{{value}} Port Louis'
    })
  }, {
    value: 'Asia/Kabul',
    label: t('timezone.asia_kabul', {
      value: 'GMT +04:30',
      defaultValue: '{{value}} Kabul'
    })
  }, {
    value: 'Asia/Karachi',
    label: t('timezone.asia_karachi', {
      value: 'GMT +05:00',
      defaultValue: '{{value}} Islamabad, Karachi'
    })
  }, {
    value: 'Asia/Qyzylorda',
    label: t('timezone.asia_qyzylorda', {
      value: 'GMT +05:00',
      defaultValue: '{{value}} Qyzylorda'
    })
  }, {
    value: 'Asia/Tashkent',
    label: t('timezone.asia_tashkent', {
      value: 'GMT +05:00',
      defaultValue: '{{value}} Tashkent'
    })
  }, {
    value: 'Asia/Yekaterinburg',
    label: t('timezone.asia_yekaterinburg', {
      value: 'GMT +05:00',
      defaultValue: '{{value}} Ekaterinburg (RTZ 4)'
    })
  }, {
    value: 'Asia/Colombo',
    label: t('timezone.asia_colombo', {
      value: 'GMT +05:30',
      defaultValue: '{{value}} Sri Jayawardenepura Kotte'
    })
  }, {
    value: 'Asia/Kolkata',
    label: t('timezone.asia_kolkata', {
      value: 'GMT +05:30',
      defaultValue: '{{value}} Chennai, Kolkata, Mumbai, New Delhi'
    })
  }, {
    value: 'Asia/Kathmandu',
    label: t('timezone.asia_kathmandu', {
      value: 'GMT +05:45',
      defaultValue: '{{value}} Kathmandu'
    })
  }, {
    value: 'Asia/Almaty',
    label: t('timezone.asia_almaty', {
      value: 'GMT +06:00',
      defaultValue: '{{value}} Astana'
    })
  }, {
    value: 'Asia/Dhaka',
    label: t('timezone.asia_dhaka', {
      value: 'GMT +06:00',
      defaultValue: '{{value}} Dhaka'
    })
  }, {
    value: 'Asia/Omsk',
    label: t('timezone.asia_omsk', {
      value: 'GMT +06:00',
      defaultValue: '{{value}} Omsk'
    })
  }, {
    value: 'Asia/Yangon',
    label: t('timezone.asia_yangon', {
      value: 'GMT +06:30',
      defaultValue: '{{value}} Yangon'
    })
  }, {
    value: 'Asia/Bangkok',
    label: t('timezone.asia_bangkok', {
      value: 'GMT +07:00',
      defaultValue: '{{value}} Bangkok, Hanoi, Jakarta'
    })
  }, {
    value: 'Asia/Barnaul',
    label: t('timezone.asia_barnaul', {
      value: 'GMT +07:00',
      defaultValue: '{{value}} Barnaul'
    })
  }, {
    value: 'Asia/Hovd',
    label: t('timezone.asia_hovd', {
      value: 'GMT +07:00',
      defaultValue: '{{value}} Hovd'
    })
  }, {
    value: 'Asia/Krasnoyarsk',
    label: t('timezone.asia_krasnoyarsk', {
      value: 'GMT +07:00',
      defaultValue: '{{value}} Krasnoyarsk (RTZ 6)'
    })
  }, {
    value: 'Asia/Novosibirsk',
    label: t('timezone.asia_novosibirsk', {
      value: 'GMT +07:00',
      defaultValue: '{{value}} Novosibirsk (RTZ 5)'
    })
  }, {
    value: 'Asia/Tomsk',
    label: t('timezone.asia_tomsk', {
      value: 'GMT +07:00',
      defaultValue: '{{value}} Tomsk'
    })
  }, {
    value: 'Asia/Hong_Kong',
    label: t('timezone.asia_hong_kong', {
      value: 'GMT +08:00',
      defaultValue: '{{value}} Beijing, Chongqing, Hong Kong, Urumqi'
    })
  }, {
    value: 'Asia/Irkutsk',
    label: t('timezone.asia_irkutsk', {
      value: 'GMT +08:00',
      defaultValue: '{{value}} Irkutsk (RTZ 7)'
    })
  }, {
    value: 'Asia/Kuala_Lumpur',
    label: t('timezone.asia_kuala_lumpur', {
      value: 'GMT +08:00',
      defaultValue: '{{value}} Kuala Lumpur'
    })
  }, {
    value: 'Asia/Singapore',
    label: t('timezone.asia_singapore', {
      value: 'GMT +08:00',
      defaultValue: '{{value}} Singapore'
    })
  }, {
    value: 'Asia/Taipei',
    label: t('timezone.asia_taipei', {
      value: 'GMT +08:00',
      defaultValue: '{{value}} Taipei'
    })
  }, {
    value: 'Asia/Ulaanbaatar',
    label: t('timezone.asia_ulaanbaatar', {
      value: 'GMT +08:00',
      defaultValue: '{{value}} Ulaanbaatar'
    })
  }, {
    value: 'Australia/Perth',
    label: t('timezone.australia_perth', {
      value: 'GMT +08:00',
      defaultValue: '{{value}} Perth'
    })
  }, {
    value: 'Australia/Eucla',
    label: t('timezone.australia_eucla', {
      value: 'GMT +08:45',
      defaultValue: '{{value}} Eucla'
    })
  }, {
    value: 'Asia/Chita',
    label: t('timezone.asia_chita', {
      value: 'GMT +09:00',
      defaultValue: '{{value}} Chita'
    })
  }, {
    value: 'Asia/Pyongyang',
    label: t('timezone.asia_pyongyang', {
      value: 'GMT +09:00',
      defaultValue: '{{value}} Pyongyang'
    })
  }, {
    value: 'Asia/Seoul',
    label: t('timezone.asia_seoul', {
      value: 'GMT +09:00',
      defaultValue: '{{value}} Korea'
    })
  }, {
    value: 'Asia/Tokyo',
    label: t('timezone.asia_tokyo', {
      value: 'GMT +09:00',
      defaultValue: '{{value}} Japan'
    })
  }, {
    value: 'Asia/Yakutsk',
    label: t('timezone.asia_yakutsk', {
      value: 'GMT +09:00',
      defaultValue: '{{value}} Yakutsk (RTZ 8)'
    })
  }, {
    value: 'Australia/Adelaide',
    label: t('timezone.australia_adelaide', {
      value: 'GMT +09:30',
      defaultValue: '{{value}} Adelaide'
    })
  }, {
    value: 'Australia/Darwin',
    label: t('timezone.australia_darwin', {
      value: 'GMT +09:30',
      defaultValue: '{{value}} Darwin'
    })
  }, {
    value: 'Asia/Vladivostok',
    label: t('timezone.asia_vladivostok', {
      value: 'GMT +10:00',
      defaultValue: '{{value}} Vladivostok, Magadan (RTZ 9)'
    })
  }, {
    value: 'Australia/Brisbane',
    label: t('timezone.australia_brisbane', {
      value: 'GMT +10:00',
      defaultValue: '{{value}} Brisbane'
    })
  }, {
    value: 'Australia/Hobart',
    label: t('timezone.australia_hobart', {
      value: 'GMT +10:00',
      defaultValue: '{{value}} Hobart'
    })
  }, {
    value: 'Australia/Sydney',
    label: t('timezone.australia_sydney', {
      value: 'GMT +10:00',
      defaultValue: '{{value}} Canberra, Melbourne, Sydney'
    })
  }, {
    value: 'Pacific/Guam',
    label: t('timezone.pacific_guam', {
      value: 'GMT +10:00',
      defaultValue: '{{value}} Guam, Port Moresby'
    })
  }, {
    value: 'Australia/Lord_Howe',
    label: t('timezone.australia_lord_howe', {
      value: 'GMT +10:30',
      defaultValue: '{{value}} Lord_Howe'
    })
  }, {
    value: 'Asia/Magadan',
    label: t('timezone.asia_magadan', {
      value: 'GMT +11:00',
      defaultValue: '{{value}} Magadan'
    })
  }, {
    value: 'Asia/Sakhalin',
    label: t('timezone.asia_sakhalin', {
      value: 'GMT +11:00',
      defaultValue: '{{value}} Sakhalin'
    })
  }, {
    value: 'Asia/Srednekolymsk',
    label: t('timezone.asia_srednekolymsk', {
      value: 'GMT +11:00',
      defaultValue: '{{value}} Chokurdakh (RTZ 10)'
    })
  }, {
    value: 'Pacific/Bougainville',
    label: t('timezone.pacific_bougainville', {
      value: 'GMT +11:00',
      defaultValue: '{{value}} Bougainville Standard Time'
    })
  }, {
    value: 'Pacific/Guadalcanal',
    label: t('timezone.pacific_guadalcanal', {
      value: 'GMT +11:00',
      defaultValue: '{{value}} Solomon Is. / New Caledonia'
    })
  }, {
    value: 'Pacific/Norfolk',
    label: t('timezone.pacific_norfolk', {
      value: 'GMT +11:00',
      defaultValue: '{{value}} Norfolk'
    })
  }, {
    value: 'Asia/Kamchatka',
    label: t('timezone.asia_kamchatka', {
      value: 'GMT +12:00',
      defaultValue: '{{value}} Anadyr, Petropavlovsk-Kamchatsky (RTZ 11)'
    })
  }, {
    value: 'Pacific/Auckland',
    label: t('timezone.pacific_auckland', {
      value: 'GMT +12:00',
      defaultValue: '{{value}} New Zealand'
    })
  }, {
    value: 'Pacific/Fiji',
    label: t('timezone.pacific_fiji', {
      value: 'GMT +12:00',
      defaultValue: '{{value}} Fiji'
    })
  }, {
    value: 'Pacific/Chatham',
    label: t('timezone.pacific_chatham', {
      value: 'GMT +12:45',
      defaultValue: '{{value}} Chatham'
    })
  }, {
    value: 'Pacific/Apia',
    label: t('timezone.pacific_apia', {
      value: 'GMT +13:00',
      defaultValue: '{{value}} Samoa'
    })
  }, {
    value: 'Pacific/Tongatapu',
    label: t('timezone.pacific_tongatapu', {
      value: 'GMT +13:00',
      defaultValue: '{{value}} Nuku’alofa'
    })
  }, {
    value: 'Pacific/Kiritimati',
    label: t('timezone.pacific_kiritimati', {
      value: 'GMT +14:00',
      defaultValue: '{{value}} Kiritimati Island'
    })
  }];
};
var getAutoScalingFontSize = function getAutoScalingFontSize() {
  if (window.screen.width <= _constants__WEBPACK_IMPORTED_MODULE_4__.SCALING_LIMIT.WIDTH && window.screen.height <= _constants__WEBPACK_IMPORTED_MODULE_4__.SCALING_LIMIT.HEIGHT && window.devicePixelRatio >= _constants__WEBPACK_IMPORTED_MODULE_4__.SCALING_LIMIT.DPR) {
    var baseFontIndex = _constants__WEBPACK_IMPORTED_MODULE_4__.SCALING_OPTIONS.findIndex(function (option) {
      return option.value === _constants__WEBPACK_IMPORTED_MODULE_4__.BASE_FONT_SIZE;
    });
    if (baseFontIndex > 0) {
      return _constants__WEBPACK_IMPORTED_MODULE_4__.SCALING_OPTIONS[baseFontIndex - 1].value;
    }
  }
  return _constants__WEBPACK_IMPORTED_MODULE_4__.BASE_FONT_SIZE;
};
function upsertPrefOnUnsavedChanges(addModifiedValueCallback) {
  return function (prefKey, prefValue) {
    if (prefValue === undefined) {
      addModifiedValueCallback('prefs', prefKey, '');
    } else if ((0,lodash__WEBPACK_IMPORTED_MODULE_3__.isBoolean)(prefValue)) {
      addModifiedValueCallback('prefs', prefKey, prefValue && 'TRUE' || 'FALSE');
    } else {
      addModifiedValueCallback('prefs', prefKey, prefValue);
    }
  };
}

/***/ }),

/***/ "./src/settings/general-settings-sub-sections.ts":
/*!*******************************************************!*\
  !*** ./src/settings/general-settings-sub-sections.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "accountSubSection": () => (/* binding */ accountSubSection),
/* harmony export */   "appearanceSubSection": () => (/* binding */ appearanceSubSection),
/* harmony export */   "outOfOfficeSubSection": () => (/* binding */ outOfOfficeSubSection),
/* harmony export */   "quotaSubSection": () => (/* binding */ quotaSubSection),
/* harmony export */   "searchPrefsSubSection": () => (/* binding */ searchPrefsSubSection),
/* harmony export */   "settingsSubSections": () => (/* binding */ settingsSubSections),
/* harmony export */   "timezoneAndLanguageSubSection": () => (/* binding */ timezoneAndLanguageSubSection),
/* harmony export */   "versionsSubSection": () => (/* binding */ versionsSubSection)
/* harmony export */ });
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

var appearanceSubSection = function appearanceSubSection(t) {
  return {
    label: t('settings.general.appearance', 'Appearance'),
    id: 'appearance'
  };
};
var timezoneAndLanguageSubSection = function timezoneAndLanguageSubSection(t) {
  return {
    label: t('settings.timezone_and_language', 'Time Zone and Language'),
    id: 'timezone_and_language'
  };
};
var outOfOfficeSubSection = function outOfOfficeSubSection(t) {
  return {
    label: t('settings.out_of_office.headings.settings_label', 'Out of Office Settings'),
    id: 'out_of_office'
  };
};
var searchPrefsSubSection = function searchPrefsSubSection(t) {
  return {
    label: t('search.app', 'Search'),
    id: 'search_prefs'
  };
};
var versionsSubSection = function versionsSubSection(t) {
  return {
    label: t('module.app.version', 'Application versions'),
    id: 'app_version'
  };
};
var quotaSubSection = function quotaSubSection(t) {
  return {
    label: t('user_quota.title', "User's quota"),
    id: 'user_quota'
  };
};
var accountSubSection = function accountSubSection(t) {
  return {
    label: t('settings.general.account', 'Account'),
    id: 'account'
  };
};
var settingsSubSections = function settingsSubSections(t) {
  return [appearanceSubSection(t), timezoneAndLanguageSubSection(t), outOfOfficeSubSection(t), searchPrefsSubSection(t), versionsSubSection(t), quotaSubSection(t), accountSubSection(t)];
};

/***/ }),

/***/ "./src/settings/general-settings.tsx":
/*!*******************************************!*\
  !*** ./src/settings/general-settings.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/esnext.promise.all-settled.js */ "./node_modules/core-js/modules/esnext.promise.all-settled.js");
/* harmony import */ var core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_promise_all_settled_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _components_general_settings_appearance_settings__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/general-settings/appearance-settings */ "./src/settings/components/general-settings/appearance-settings.tsx");
/* harmony import */ var _components_general_settings_logout__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/general-settings/logout */ "./src/settings/components/general-settings/logout.tsx");
/* harmony import */ var _components_general_settings_module_version_settings__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/general-settings/module-version-settings */ "./src/settings/components/general-settings/module-version-settings.tsx");
/* harmony import */ var _components_general_settings_out_of_office_settings__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/general-settings/out-of-office-settings */ "./src/settings/components/general-settings/out-of-office-settings.tsx");
/* harmony import */ var _components_general_settings_user_quota__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/general-settings/user-quota */ "./src/settings/components/general-settings/user-quota.tsx");
/* harmony import */ var _components_settings_header__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/settings-header */ "./src/settings/components/settings-header.tsx");
/* harmony import */ var _language_and_timezone_settings__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./language-and-timezone-settings */ "./src/settings/language-and-timezone-settings.tsx");
/* harmony import */ var _components_general_settings_search_settings__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/general-settings/search-settings */ "./src/settings/components/general-settings/search-settings.tsx");
/* harmony import */ var _components_general_settings_scaling_setting_section__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/general-settings/scaling-setting-section */ "./src/settings/components/general-settings/scaling-setting-section.tsx");
/* harmony import */ var _components_general_settings_dark_theme_settings_section__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/general-settings/dark-theme-settings-section */ "./src/settings/components/general-settings/dark-theme-settings-section.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _network_fetch__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../network/fetch */ "./src/network/fetch.ts");
/* harmony import */ var _shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../shell/hooks/useLocalStorage */ "./src/shell/hooks/useLocalStorage.ts");


















function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



















var GeneralSettings = function GeneralSettings() {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_18__.useState)({}),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__["default"])(_useState, 2),
    mods = _useState2[0],
    setMods = _useState2[1];
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_21__.getT)();
  var userSettings = (0,_store_account__WEBPACK_IMPORTED_MODULE_20__.useUserSettings)();
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_18__.useState)({}),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__["default"])(_useState3, 2),
    localStorageUnAppliedChanges = _useState4[0],
    setLocalStorageUnAppliedChanges = _useState4[1];
  var _useLocalStorage = (0,_shell_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_34__.useLocalStorage)(_constants__WEBPACK_IMPORTED_MODULE_32__.LOCAL_STORAGE_SETTINGS_KEY, {}),
    _useLocalStorage2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__["default"])(_useLocalStorage, 2),
    localStorageSettings = _useLocalStorage2[0],
    setLocalStorageSettings = _useLocalStorage2[1];
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_18__.useState)(false),
    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_9__["default"])(_useState5, 2),
    open = _useState6[0],
    setOpen = _useState6[1];
  var addLocalStoreChange = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function (key, value) {
    setLocalStorageUnAppliedChanges(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])({}, key, value));
    });
  }, []);
  var cleanLocalStoreChange = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function (key) {
    setLocalStorageUnAppliedChanges(function (prevState) {
      var nextState = _objectSpread({}, prevState);
      delete nextState[key];
      return nextState;
    });
  }, []);
  var addMod = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function (type, key, value) {
    setMods(function (prevState) {
      return _objectSpread(_objectSpread({}, prevState), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])({}, type, _objectSpread(_objectSpread({}, prevState === null || prevState === void 0 ? void 0 : prevState[type]), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])({}, key, value))));
    });
  }, []);
  var removeMod = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function (type, key) {
    setMods(function (prevState) {
      var prevType = prevState[type];
      if (prevType && prevType[key] !== undefined) {
        var nextState = _objectSpread(_objectSpread({}, prevState), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])({}, type, _objectSpread({}, prevState[type])));
        var nextType = nextState[type];
        if (nextType && nextType[key] !== undefined) {
          delete nextType[key];
        }
        if ((0,lodash__WEBPACK_IMPORTED_MODULE_19__.size)(nextState[type]) === 0) {
          delete nextState[type];
        }
        return nextState;
      }
      return prevState;
    });
  }, []);
  var createSnackbar = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_35__.useSnackbar)();
  var onSave = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function () {
    setLocalStorageUnAppliedChanges(function (unAppliedPrevState) {
      if ((0,lodash__WEBPACK_IMPORTED_MODULE_19__.size)(unAppliedPrevState) > 0) {
        setLocalStorageSettings(function (localStorageSettingsPrevState) {
          return _objectSpread(_objectSpread({}, localStorageSettingsPrevState), unAppliedPrevState);
        });
        return {};
      }
      return unAppliedPrevState;
    });
    if ((0,lodash__WEBPACK_IMPORTED_MODULE_19__.size)(mods) > 0) {
      var modifyPropertiesRequest;
      if (mods.props) {
        var mappedProperties = (0,lodash__WEBPACK_IMPORTED_MODULE_19__.map)(mods.props, function (prop, key) {
          return {
            name: key,
            zimlet: prop.app,
            _content: prop.value
          };
        });
        modifyPropertiesRequest = {
          _jsns: 'urn:zimbraAccount',
          prop: mappedProperties
        };
      }
      var modifyPrefsRequest;
      if (mods.prefs) {
        var attrs = mods.prefs;
        if ('zimbraPrefMailTrustedSenderList' in attrs) {
          attrs.zimbraPrefMailTrustedSenderList = attrs.zimbraPrefMailTrustedSenderList instanceof Array && attrs.zimbraPrefMailTrustedSenderList.length === 0 ? '' : attrs.zimbraPrefMailTrustedSenderList;
        }
        modifyPrefsRequest = {
          _jsns: 'urn:zimbraAccount',
          _attrs: attrs
        };
      }
      var promise = (0,_network_fetch__WEBPACK_IMPORTED_MODULE_33__.getSoapFetch)(_constants__WEBPACK_IMPORTED_MODULE_32__.SHELL_APP_ID)('Batch', {
        _jsns: 'urn:zimbra',
        ModifyPropertiesRequest: modifyPropertiesRequest,
        ModifyPrefsRequest: modifyPrefsRequest
      }).then(function () {
        _store_account__WEBPACK_IMPORTED_MODULE_20__.useAccountStore.setState(function (s) {
          return {
            settings: _objectSpread(_objectSpread({}, s.settings), {}, {
              prefs: (0,lodash__WEBPACK_IMPORTED_MODULE_19__.reduce)(mods.prefs, function (acc, pref, key) {
                return _objectSpread(_objectSpread({}, acc), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])({}, key, pref));
              }, s.settings.prefs),
              props: (0,lodash__WEBPACK_IMPORTED_MODULE_19__.reduce)(mods.props, function (acc, _ref, key) {
                var app = _ref.app,
                  value = _ref.value;
                var propIndex = (0,lodash__WEBPACK_IMPORTED_MODULE_19__.findIndex)(acc, function (p) {
                  return p.name === key && p.zimlet === app;
                });
                if (propIndex >= 0) {
                  // eslint-disable-next-line no-param-reassign
                  acc[propIndex] = {
                    name: key,
                    zimlet: app,
                    _content: value
                  };
                } else {
                  acc.push({
                    name: key,
                    zimlet: app,
                    _content: value
                  });
                }
                return acc;
              }, s.settings.props)
            })
          };
        });
        if (mods.prefs && (0,lodash__WEBPACK_IMPORTED_MODULE_19__.includes)(Object.keys(mods.prefs), 'zimbraPrefLocale')) {
          setOpen(true);
        }
        createSnackbar({
          key: "new",
          replace: true,
          type: 'info',
          label: t('message.snackbar.settings_saved', 'Edits saved correctly'),
          autoHideTimeout: 3000,
          hideButton: true
        });
        setMods({});
      })["catch"](function (error) {
        createSnackbar({
          key: "new",
          replace: true,
          type: 'error',
          label: t('snackbar.error', 'Something went wrong, please try again'),
          autoHideTimeout: 3000,
          hideButton: true
        });
        if (error instanceof Error) {
          throw error;
        }
        throw new Error(typeof error === 'string' ? error : 'edit setting error');
      });
      return Promise.allSettled([promise]);
    }
    return Promise.allSettled([Promise.resolve()]);
  }, [mods, setLocalStorageSettings, createSnackbar, t]);
  var scalingSettingSectionRef = (0,react__WEBPACK_IMPORTED_MODULE_18__.useRef)(null);
  var outOfOfficeSettingsSectionRef = (0,react__WEBPACK_IMPORTED_MODULE_18__.useRef)(null);
  var searchSettingsSectionRef = (0,react__WEBPACK_IMPORTED_MODULE_18__.useRef)(null);
  var onCancel = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function () {
    var _outOfOfficeSettingsS, _searchSettingsSectio;
    setMods({});
    if ((0,lodash__WEBPACK_IMPORTED_MODULE_19__.size)(localStorageUnAppliedChanges) > 0) {
      var _scalingSettingSectio;
      (_scalingSettingSectio = scalingSettingSectionRef.current) === null || _scalingSettingSectio === void 0 ? void 0 : _scalingSettingSectio.reset();
    }
    (_outOfOfficeSettingsS = outOfOfficeSettingsSectionRef.current) === null || _outOfOfficeSettingsS === void 0 ? void 0 : _outOfOfficeSettingsS.reset();
    searchSettingsSectionRef === null || searchSettingsSectionRef === void 0 ? void 0 : (_searchSettingsSectio = searchSettingsSectionRef.current) === null || _searchSettingsSectio === void 0 ? void 0 : _searchSettingsSectio.reset();
  }, [localStorageUnAppliedChanges]);
  var isDirty = (0,react__WEBPACK_IMPORTED_MODULE_18__.useMemo)(function () {
    return !(0,lodash__WEBPACK_IMPORTED_MODULE_19__.isEmpty)(mods) || !(0,lodash__WEBPACK_IMPORTED_MODULE_19__.isEmpty)(localStorageUnAppliedChanges);
  }, [mods, localStorageUnAppliedChanges]);
  var title = (0,react__WEBPACK_IMPORTED_MODULE_18__.useMemo)(function () {
    return t('settings.general.general', 'General Settings');
  }, [t]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement((react__WEBPACK_IMPORTED_MODULE_18___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_settings_header__WEBPACK_IMPORTED_MODULE_27__["default"], {
    title: title,
    onCancel: onCancel,
    onSave: onSave,
    isDirty: isDirty
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_35__.Container, {
    background: 'gray5',
    mainAlignment: "flex-start",
    crossAlignment: 'flex-start',
    gap: "0.5rem",
    padding: {
      all: 'medium'
    },
    style: {
      overflow: 'auto'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_general_settings_appearance_settings__WEBPACK_IMPORTED_MODULE_22__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_general_settings_scaling_setting_section__WEBPACK_IMPORTED_MODULE_30__.ScalingSettingSection, {
    resetRef: scalingSettingSectionRef,
    scalingSettings: localStorageSettings,
    addLocalStoreChange: addLocalStoreChange,
    cleanLocalStoreChange: cleanLocalStoreChange
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_general_settings_dark_theme_settings_section__WEBPACK_IMPORTED_MODULE_31__["default"], {
    addMod: addMod,
    removeMod: removeMod
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_language_and_timezone_settings__WEBPACK_IMPORTED_MODULE_28__["default"], {
    settings: userSettings,
    addMod: addMod,
    open: open,
    setOpen: setOpen
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_general_settings_out_of_office_settings__WEBPACK_IMPORTED_MODULE_25__.OutOfOfficeSettings, {
    settings: userSettings,
    addMod: addMod,
    resetRef: outOfOfficeSettingsSectionRef
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_general_settings_search_settings__WEBPACK_IMPORTED_MODULE_29__.SearchSettings, {
    settings: userSettings,
    addMod: addMod,
    resetRef: searchSettingsSectionRef
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_general_settings_module_version_settings__WEBPACK_IMPORTED_MODULE_24__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_general_settings_user_quota__WEBPACK_IMPORTED_MODULE_26__["default"], {
    mobileView: false
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_components_general_settings_logout__WEBPACK_IMPORTED_MODULE_23__["default"], null)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GeneralSettings);

/***/ }),

/***/ "./src/settings/hooks/use-reset.ts":
/*!*****************************************!*\
  !*** ./src/settings/hooks/use-reset.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useReset": () => (/* binding */ useReset)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

function useReset(ref, resetFn) {
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, function () {
    return {
      reset: resetFn
    };
  }, [resetFn]);
}

/***/ }),

/***/ "./src/settings/language-and-timezone-settings.tsx":
/*!*********************************************************!*\
  !*** ./src/settings/language-and-timezone-settings.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _components_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/utils */ "./src/settings/components/utils.ts");
/* harmony import */ var _general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./general-settings-sub-sections */ "./src/settings/general-settings-sub-sections.ts");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var LanguageAndTimeZone = function LanguageAndTimeZone(_ref) {
  var settings = _ref.settings,
    addMod = _ref.addMod,
    open = _ref.open,
    setOpen = _ref.setOpen;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_3__.getT)();
  var locales = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,_components_utils__WEBPACK_IMPORTED_MODULE_4__.localeList)(t);
  }, [t]);
  var timezones = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,_components_utils__WEBPACK_IMPORTED_MODULE_4__.timeZoneList)(t);
  }, [t]);
  var sectionTitle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,_general_settings_sub_sections__WEBPACK_IMPORTED_MODULE_5__.timezoneAndLanguageSubSection)(t);
  }, [t]);
  var updatePrefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (prefValue, prefKey) {
    addMod('prefs', prefKey, prefValue);
  }, [addMod]);
  var defaultLocale = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return settings.prefs.zimbraPrefLocale && (0,lodash__WEBPACK_IMPORTED_MODULE_2__.find)(locales, {
      id: "".concat(settings.prefs.zimbraPrefLocale)
    }) || (0,lodash__WEBPACK_IMPORTED_MODULE_2__.find)(locales, {
      id: 'en'
    });
  }, [locales, settings.prefs.zimbraPrefLocale]);
  var onLocaleChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (value) {
    if (value && value !== settings.prefs.zimbraPrefLocale) updatePrefs(value, 'zimbraPrefLocale');
  }, [settings.prefs.zimbraPrefLocale, updatePrefs]);
  var defaultTimeZone = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return settings.prefs.zimbraPrefTimeZoneId && (0,lodash__WEBPACK_IMPORTED_MODULE_2__.find)(timezones, {
      value: "".concat(settings.prefs.zimbraPrefTimeZoneId)
    }) || (0,lodash__WEBPACK_IMPORTED_MODULE_2__.find)(timezones, {
      value: 'UTC'
    });
  }, [timezones, settings.prefs.zimbraPrefTimeZoneId]);
  var onTimeZoneChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (value) {
    if (value && value !== settings.prefs.zimbraPrefTimeZoneId) updatePrefs(value, 'zimbraPrefTimeZoneId');
  }, [settings.prefs.zimbraPrefTimeZoneId, updatePrefs]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.FormSubSection, {
    label: sectionTitle.label,
    minWidth: "calc(min(100%, 32rem))",
    width: "50%",
    id: sectionTitle.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    crossAlignment: "baseline",
    padding: {
      all: 'small'
    }
  }, Object.keys(settings.prefs).length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Select, {
    items: locales,
    background: 'gray5',
    label: t('label.language', 'Language'),
    onChange: onLocaleChange,
    defaultSelection: defaultLocale,
    showCheckbox: false,
    dropdownMaxHeight: "12.5rem",
    selectedBackgroundColor: "highlight"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Padding, {
    top: "small",
    width: "100%"
  }, Object.keys(settings.prefs).length > 0 && timezones && defaultTimeZone && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Select, {
    items: timezones,
    background: 'gray5',
    label: t('label.time_zone', 'Time Zone'),
    onChange: onTimeZoneChange,
    selection: defaultTimeZone,
    showCheckbox: false,
    dropdownMaxHeight: "12.5rem",
    selectedBackgroundColor: "highlight"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Modal, {
    title: t('label.reload', 'Reload'),
    open: open,
    dismissLabel: t('label.no', 'No'),
    onConfirm: function onConfirm() {
      return window.location.reload();
    },
    confirmLabel: t('label.reload', 'Reload'),
    onClose: function onClose() {
      return setOpen(false);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Text, {
    overflow: "break-word"
  }, t('message.reload', "\tWould you like to reload the application now to show the new language?\n\t\t\t\t\t\t\t(Otherwise, the new language will appear the next time you sign in.)")))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LanguageAndTimeZone);

/***/ }),

/***/ "./src/settings/settings-app-view.tsx":
/*!********************************************!*\
  !*** ./src/settings/settings-app-view.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SettingsAppView": () => (/* binding */ SettingsAppView)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var SettingsAppView = function SettingsAppView() {
  var settingsViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_5__.useAppStore)(function (s) {
    return s.views.settings;
  });
  var routes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_2__.map)(settingsViews, function (view) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.Route, {
        key: view.route,
        exact: true,
        path: "/".concat(_constants__WEBPACK_IMPORTED_MODULE_3__.SETTINGS_APP_ID, "/").concat(view.route)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_4__["default"], {
        pkg: view.app
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(view.component, null)));
    });
  }, [settingsViews]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.Switch, null, routes, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.Redirect, {
    from: "/".concat(_constants__WEBPACK_IMPORTED_MODULE_3__.SETTINGS_APP_ID),
    exact: true,
    strict: true,
    to: "/".concat(_constants__WEBPACK_IMPORTED_MODULE_3__.SETTINGS_APP_ID, "/general")
  }));
};

/***/ }),

/***/ "./src/settings/settings-sidebar.tsx":
/*!*******************************************!*\
  !*** ./src/settings/settings-sidebar.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SettingsSidebar": () => (/* binding */ SettingsSidebar)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "./node_modules/core-js/modules/es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }















/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var SettingsSidebar = function SettingsSidebar(_ref) {
  var expanded = _ref.expanded;
  var settingsViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_19__.useAppStore)(function (s) {
    return s.views.settings;
  });
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_20__.useHistory)();
  var location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_20__.useLocation)();
  var items = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {
    return settingsViews.map(function (view) {
      return {
        id: view.route,
        label: view.label,
        icon: view.icon,
        active: location.pathname === "/".concat(_constants__WEBPACK_IMPORTED_MODULE_18__.SETTINGS_APP_ID, "/").concat(view.route) && location.search === '',
        disableHover: location.pathname === "/".concat(_constants__WEBPACK_IMPORTED_MODULE_18__.SETTINGS_APP_ID, "/").concat(view.route) && location.search === '',
        onClick: function onClick(e) {
          e.stopPropagation();
          history.push("/".concat(_constants__WEBPACK_IMPORTED_MODULE_18__.SETTINGS_APP_ID, "/").concat(view.route));
        },
        items: (0,lodash__WEBPACK_IMPORTED_MODULE_16__.map)(view.subSections, function (item) {
          return _objectSpread(_objectSpread({}, item), {}, {
            active: location.search === "?section=".concat(item.id),
            disableHover: location.search === "?section=".concat(item.id),
            onClick: function onClick(e) {
              e.stopPropagation();
              history.replace("/".concat(_constants__WEBPACK_IMPORTED_MODULE_18__.SETTINGS_APP_ID, "/").concat(view.route, "?section=").concat(item.id));
            }
          });
        })
      };
    });
  }, [history, location.pathname, location.search, settingsViews]);
  var collapsedItems = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {
    return settingsViews.map(function (v) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_21__.Tooltip, {
        label: v.label,
        placement: "right",
        key: v.id
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_21__.IconButton, {
        icon: v.icon,
        onClick: function onClick() {
          return history.push("/".concat(_constants__WEBPACK_IMPORTED_MODULE_18__.SETTINGS_APP_ID, "/").concat(v.route));
        },
        size: "large"
      })));
    });
  }, [history, settingsViews]);
  return expanded ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_21__.Accordion, {
    items: items
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement((react__WEBPACK_IMPORTED_MODULE_17___default().Fragment), null, collapsedItems);
};

/***/ }),

/***/ "./src/shell/app-view-container.tsx":
/*!******************************************!*\
  !*** ./src/shell/app-view-container.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */








var _BoardsRouterContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_6__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7__.Container).withConfig({
  displayName: "app-view-container___BoardsRouterContainer",
  componentId: "sc-1gu6zd6-0"
})(["flex-grow:1;flex-basis:0;min-width:0.0625rem;max-height:calc(100vh - 3.75rem);overflow-y:auto;"]);
var FirstAppRedirect = function FirstAppRedirect() {
  var apps = (0,_store_app__WEBPACK_IMPORTED_MODULE_5__.useAppList)();
  var routes = (0,_store_app__WEBPACK_IMPORTED_MODULE_5__.useRoutes)();
  var location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useLocation)();
  var mainRoute = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    var _find;
    return (_find = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.find)(routes, function (r) {
      var _apps$;
      return ((_apps$ = apps[0]) === null || _apps$ === void 0 ? void 0 : _apps$.name) === r.app;
    })) === null || _find === void 0 ? void 0 : _find.route;
  }, [apps, routes]);
  return mainRoute && (location === null || location === void 0 ? void 0 : location.pathname) === '/' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.Redirect, {
    exact: true,
    strict: true,
    from: "/",
    to: "/".concat(mainRoute)
  }) : null;
};
var AppViewContainer = function AppViewContainer() {
  var appViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_5__.useAppStore)(function (s) {
    return s.views.appView;
  });
  var routes = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])((0,lodash__WEBPACK_IMPORTED_MODULE_3__.map)(appViews, function (view) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.Route, {
        key: view.id,
        path: "/".concat(view.route)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_4__["default"], {
        key: view.app,
        pkg: view.app
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(view.component, null)));
    }));
  }, [appViews]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_BoardsRouterContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_7__.Container, {
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.Switch, null, routes), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(FirstAppRedirect, null)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AppViewContainer);

/***/ }),

/***/ "./src/shell/badge-wrap.tsx":
/*!**********************************!*\
  !*** ./src/shell/badge-wrap.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var MiniBadge = (0,styled_components__WEBPACK_IMPORTED_MODULE_1__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Container).withConfig({
  displayName: "badge-wrap__MiniBadge",
  componentId: "sc-w6kick-0"
})(["position:absolute;bottom:25%;right:25%;transform:translate(30%,30%);background:", ";min-width:0.75rem;min-height:0.75rem;line-height:0.75rem;border-radius:0.5rem;user-select:none;cursor:pointer;pointer-events:none;z-index:99;"], function (_ref) {
  var _badge$color;
  var badge = _ref.badge,
    theme = _ref.theme;
  return theme.palette[(_badge$color = badge === null || badge === void 0 ? void 0 : badge.color) !== null && _badge$color !== void 0 ? _badge$color : 'primary'].regular;
});

// eslint-disable-next-line react/display-name
var BadgeWrap = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref2, ref) {
  var _badge$count;
  var badge = _ref2.badge,
    children = _ref2.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Container, {
    width: '3rem',
    height: '3rem',
    style: {
      position: 'relative'
    },
    ref: ref
  }, badge.show && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MiniBadge, {
    badge: badge,
    height: "fit",
    width: "fit"
  }, badge.showCount ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Text, {
    size: "extrasmall",
    style: {
      padding: '0.125rem 0.25rem',
      fontSize: '0.625rem'
    },
    color: "gray6"
  }, (_badge$count = badge.count) !== null && _badge$count !== void 0 ? _badge$count : 0) : null), children);
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BadgeWrap);

/***/ }),

/***/ "./src/shell/boards/board-container.tsx":
/*!**********************************************!*\
  !*** ./src/shell/boards/board-container.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BOARD_DEFAULT_POSITION": () => (/* binding */ BOARD_DEFAULT_POSITION),
/* harmony export */   "BoardContainer": () => (/* binding */ BoardContainer)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _store_boards__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../store/boards */ "./src/store/boards/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _board__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./board */ "./src/shell/boards/board.tsx");
/* harmony import */ var _board_tab_list__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./board-tab-list */ "./src/shell/boards/board-tab-list.tsx");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _resizable_container__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./resizable-container */ "./src/shell/boards/resizable-container.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../hooks/useLocalStorage */ "./src/shell/hooks/useLocalStorage.ts");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../utils/utils */ "./src/utils/utils.ts");
/* harmony import */ var _hooks_useMove__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../hooks/useMove */ "./src/shell/hooks/useMove.ts");












function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */















var BOARD_DEFAULT_POSITION = {
  left: '1.5rem',
  bottom: '0'
};
var BoardContainerComp = styled_components__WEBPACK_IMPORTED_MODULE_24__["default"].div.withConfig({
  displayName: "board-container__BoardContainerComp",
  componentId: "sc-m7rj4k-0"
})(["position:fixed;width:calc(100vw - ", ");height:calc(100vh - ", ");top:", ";left:", ";background-color:rgba(0,0,0,0);pointer-events:none;z-index:", ";", " ", ""], _constants__WEBPACK_IMPORTED_MODULE_20__.PRIMARY_BAR_WIDTH, _constants__WEBPACK_IMPORTED_MODULE_20__.HEADER_BAR_HEIGHT, _constants__WEBPACK_IMPORTED_MODULE_20__.HEADER_BAR_HEIGHT, _constants__WEBPACK_IMPORTED_MODULE_20__.PRIMARY_BAR_WIDTH, _constants__WEBPACK_IMPORTED_MODULE_20__.BOARD_CONTAINER_ZINDEX, function (_ref) {
  var expanded = _ref.expanded;
  return expanded && (0,styled_components__WEBPACK_IMPORTED_MODULE_24__.css)(["background-color:rgba(0,0,0,0.5);pointer-events:auto;"]);
}, function (_ref2) {
  var minimized = _ref2.minimized;
  return minimized && (0,styled_components__WEBPACK_IMPORTED_MODULE_24__.css)(["display:none;"]);
});
var OverflowContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Container).withConfig({
  displayName: "board-container__OverflowContainer",
  componentId: "sc-m7rj4k-1"
})(["overflow:auto;"]);
var Board = (0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Container).withConfig({
  displayName: "board-container__Board",
  componentId: "sc-m7rj4k-2"
})(["z-index:5;position:absolute;", ";", " ", " min-height:calc(", " * 3);min-width:calc(", " * 2);box-shadow:0 0.125rem 0.3125rem 0 rgba(125,125,125,0.5);pointer-events:auto;max-height:100%;max-width:100%;", ";"], BOARD_DEFAULT_POSITION, function (_ref3) {
  var width = _ref3.width;
  return !width && (0,styled_components__WEBPACK_IMPORTED_MODULE_24__.css)(["aspect-ratio:4 / 3;width:auto;"]);
}, function (_ref4) {
  var height = _ref4.height;
  return !height && (0,styled_components__WEBPACK_IMPORTED_MODULE_24__.css)(["height:70vh;@media (min-height:800px){height:60vh;}@media (min-height:1000px){height:50vh;}"]);
}, _constants__WEBPACK_IMPORTED_MODULE_20__.BOARD_HEADER_HEIGHT, _constants__WEBPACK_IMPORTED_MODULE_20__.BOARD_TAB_WIDTH, function (_ref5) {
  var expanded = _ref5.expanded;
  return expanded && (0,styled_components__WEBPACK_IMPORTED_MODULE_24__.css)(["height:calc(100% - 1.5rem) !important;width:calc(100% - 3rem) !important;top:1.5rem !important;left:1.5rem !important;min-height:auto;"]);
});
var BoardHeader = (0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Row).withConfig({
  displayName: "board-container__BoardHeader",
  componentId: "sc-m7rj4k-3"
})(["position:relative;"]);
var BoardDetailContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Row).withConfig({
  displayName: "board-container__BoardDetailContainer",
  componentId: "sc-m7rj4k-4"
})(["min-height:0;"]);
var BackButton = (0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.IconButton).withConfig({
  displayName: "board-container__BackButton",
  componentId: "sc-m7rj4k-5"
})([""]);
var Actions = (0,styled_components__WEBPACK_IMPORTED_MODULE_24__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Row).withConfig({
  displayName: "board-container__Actions",
  componentId: "sc-m7rj4k-6"
})([""]);
function ListItemContent(_ref6) {
  var icon = _ref6.icon,
    label = _ref6.label,
    selected = _ref6.selected,
    app = _ref6.app,
    boardId = _ref6.boardId;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_15__.getT)();
  var onClose = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (ev) {
    ev.stopPropagation();
    (0,_store_boards__WEBPACK_IMPORTED_MODULE_14__.closeBoard)(boardId);
  }, [boardId]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Container, {
    orientation: "horizontal",
    mainAlignment: "flex-start",
    gap: '0.5rem'
  }, icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Icon, {
    icon: icon,
    size: 'large',
    color: 'text',
    style: {
      pointerEvents: 'none'
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(OverflowContainer, {
    crossAlignment: 'flex-start'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Text, {
    size: 'medium',
    weight: selected ? 'bold' : 'regular',
    color: 'gray0'
  }, label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Text, {
    size: 'small',
    weight: selected ? 'bold' : 'regular',
    color: 'secondary'
  }, app && t('board.from_app', 'From {{app}}', {
    app: app
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.IconButton, {
    icon: 'CloseOutline',
    size: 'large',
    onClick: onClose
  }));
}
function calcPositionToRemainVisible(lastSavedPosition, containerSize, minVisibility) {
  var limit = containerSize - minVisibility;
  if (lastSavedPosition > limit) {
    return limit > 0 ? limit : 0;
  }
  return lastSavedPosition;
}
var BoardContainer = function BoardContainer() {
  var _boards$current, _boards$current$conte;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_15__.getT)();
  var _useBoardStore = (0,_store_boards__WEBPACK_IMPORTED_MODULE_14__.useBoardStore)(),
    boards = _useBoardStore.boards,
    minimized = _useBoardStore.minimized,
    expanded = _useBoardStore.expanded,
    current = _useBoardStore.current,
    orderedBoards = _useBoardStore.orderedBoards;
  var boardDropdownItems = (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_12__.map)(orderedBoards, function (boardId) {
      var _getApp;
      return {
        id: boardId,
        label: boards[boardId].title,
        icon: boards[boardId].icon,
        onClick: function onClick() {
          return (0,_store_boards__WEBPACK_IMPORTED_MODULE_14__.setCurrentBoard)(boardId);
        },
        selected: boardId === current,
        customComponent: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(ListItemContent, {
          label: boards[boardId].title,
          icon: boards[boardId].icon,
          selected: boardId === current,
          app: (_getApp = (0,_store_app__WEBPACK_IMPORTED_MODULE_18__.getApp)(boards[boardId].app)()) === null || _getApp === void 0 ? void 0 : _getApp.display,
          boardId: boardId
        })
      };
    });
  }, [boards, current, orderedBoards]);
  var boardRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);
  var boardContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);
  var _useLocalStorage = (0,_hooks_useLocalStorage__WEBPACK_IMPORTED_MODULE_21__.useLocalStorage)(_constants__WEBPACK_IMPORTED_MODULE_20__.LOCAL_STORAGE_BOARD_SIZE, {}),
    _useLocalStorage2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["default"])(_useLocalStorage, 2),
    lastSavedBoardSizeAndPosition = _useLocalStorage2[0],
    setLastSavedBoardSizeAndPosition = _useLocalStorage2[1];
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(lastSavedBoardSizeAndPosition),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["default"])(_useState, 2),
    currentBoardSizeAndPosition = _useState2[0],
    setCurrentBoardSizeAndPosition = _useState2[1];
  var lastSavedBoardSizeAndPositionRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(lastSavedBoardSizeAndPosition);
  var _useMove = (0,_hooks_useMove__WEBPACK_IMPORTED_MODULE_23__.useMove)(boardRef, {
      localStorageKey: _constants__WEBPACK_IMPORTED_MODULE_20__.LOCAL_STORAGE_BOARD_SIZE
    }),
    _useMove2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["default"])(_useMove, 2),
    isMoving = _useMove2[0],
    moveElementHandler = _useMove2[1];
  var isDefaultSizeAndPosition = (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_12__.size)(currentBoardSizeAndPosition) === 0;
  }, [currentBoardSizeAndPosition]);
  var isBoardEmpty = (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_12__.isEmpty)(boards);
  }, [boards]);
  var resetSizeAndPosition = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {
    setLastSavedBoardSizeAndPosition({});
    (0,_store_boards__WEBPACK_IMPORTED_MODULE_14__.reduceBoards)();
  }, [setLastSavedBoardSizeAndPosition]);
  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {
    // reset position when the board is closed
    if (isBoardEmpty) {
      setLastSavedBoardSizeAndPosition(function (prevState) {
        var newState = _objectSpread({}, prevState);
        delete newState.left;
        delete newState.top;
        return newState;
      });
    }
  }, [isBoardEmpty, setLastSavedBoardSizeAndPosition]);
  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {
    if (boardRef.current) {
      var boardElement = boardRef.current;
      (0,_utils_utils__WEBPACK_IMPORTED_MODULE_22__.setElementSizeAndPosition)(boardElement, 'width', currentBoardSizeAndPosition.width);
      (0,_utils_utils__WEBPACK_IMPORTED_MODULE_22__.setElementSizeAndPosition)(boardElement, 'height', currentBoardSizeAndPosition.height);
      (0,_utils_utils__WEBPACK_IMPORTED_MODULE_22__.setElementSizeAndPosition)(boardElement, 'top', currentBoardSizeAndPosition.top);
      (0,_utils_utils__WEBPACK_IMPORTED_MODULE_22__.setElementSizeAndPosition)(boardElement, 'left', currentBoardSizeAndPosition.left);
    }
  }, [currentBoardSizeAndPosition]);
  var updateBoardPosition = (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_12__.debounce)(function () {
      if (boardContainerRef.current && boardContainerRef.current.clientHeight > 0 && boardContainerRef.current.clientWidth > 0) {
        var newSizeAndPosition = {};
        if (lastSavedBoardSizeAndPositionRef.current.width !== undefined) {
          newSizeAndPosition.width = lastSavedBoardSizeAndPositionRef.current.width;
        }
        if (lastSavedBoardSizeAndPositionRef.current.height !== undefined) {
          newSizeAndPosition.height = lastSavedBoardSizeAndPositionRef.current.height;
        }
        var boardContainer = boardContainerRef.current;
        if (lastSavedBoardSizeAndPositionRef.current.top !== undefined) {
          newSizeAndPosition.top = calcPositionToRemainVisible(lastSavedBoardSizeAndPositionRef.current.top, boardContainer.clientHeight, _constants__WEBPACK_IMPORTED_MODULE_20__.BOARD_MIN_VISIBILITY.top);
        }
        if (lastSavedBoardSizeAndPositionRef.current.left !== undefined) {
          newSizeAndPosition.left = calcPositionToRemainVisible(lastSavedBoardSizeAndPositionRef.current.left, boardContainer.clientWidth, _constants__WEBPACK_IMPORTED_MODULE_20__.BOARD_MIN_VISIBILITY.left);
        }
        setCurrentBoardSizeAndPosition(newSizeAndPosition);
      }
    }, 0, {
      leading: false,
      trailing: true
    });
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {
    window.addEventListener('resize', updateBoardPosition);
    return function () {
      window.removeEventListener('resize', updateBoardPosition);
    };
  }, [updateBoardPosition]);
  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {
    lastSavedBoardSizeAndPositionRef.current = _objectSpread({}, lastSavedBoardSizeAndPosition);
    // if there is a board open, then update the size and position based on the window
    if (boardRef.current) {
      if ((0,lodash__WEBPACK_IMPORTED_MODULE_12__.size)(lastSavedBoardSizeAndPosition) > 0) {
        updateBoardPosition();
      } else {
        setCurrentBoardSizeAndPosition({});
      }
    } else {
      // otherwise just align the current with the local storage data (refresh case, board is closed)
      setCurrentBoardSizeAndPosition(_objectSpread({}, lastSavedBoardSizeAndPosition));
    }
    return function () {
      updateBoardPosition.cancel();
    };
  }, [lastSavedBoardSizeAndPosition, updateBoardPosition]);
  var clickHandler = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (clickFn) {
    return function (event) {
      if (event.type !== 'click' || !event.defaultPrevented) {
        clickFn(event);
      }
    };
  }, []);
  return !isBoardEmpty && current && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(BoardContainerComp, {
    expanded: expanded,
    minimized: minimized,
    ref: boardContainerRef
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(Board, {
    "data-testid": "NewItemContainer",
    background: 'gray6',
    crossAlignment: "unset",
    expanded: expanded,
    ref: boardRef,
    width: currentBoardSizeAndPosition.width,
    height: currentBoardSizeAndPosition.height,
    onMouseDown: !expanded && moveElementHandler || undefined
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_resizable_container__WEBPACK_IMPORTED_MODULE_19__.ResizableContainer, {
    crossAlignment: 'unset',
    elementToResize: boardRef,
    localStorageKey: _constants__WEBPACK_IMPORTED_MODULE_20__.LOCAL_STORAGE_BOARD_SIZE,
    disabled: expanded
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(BoardHeader, {
    background: 'gray5'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Padding, {
    all: "extrasmall"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Tooltip, {
    label: t('board.hide', 'Hide board'),
    placement: "top",
    disabled: isMoving
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(BackButton, {
    icon: "BoardCollapseOutline",
    onClick: clickHandler(_store_boards__WEBPACK_IMPORTED_MODULE_14__.minimizeBoards)
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_board_tab_list__WEBPACK_IMPORTED_MODULE_17__.TabsList, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(Actions, {
    padding: {
      all: 'extrasmall'
    }
  }, ((_boards$current = boards[current]) === null || _boards$current === void 0 ? void 0 : (_boards$current$conte = _boards$current.context) === null || _boards$current$conte === void 0 ? void 0 : _boards$current$conte.onReturnToApp) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Padding, {
    right: "extrasmall"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Tooltip, {
    label: t('board.open_app', 'Open in app'),
    placement: "top",
    disabled: isMoving
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.IconButton, {
    icon: 'DiagonalArrowRightUp',
    onClick: clickHandler(_store_boards__WEBPACK_IMPORTED_MODULE_14__.onGoToPanel)
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Container, {
    gap: '0.25rem',
    orientation: 'horizontal',
    width: 'fit',
    height: 'fit'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Tooltip, {
    label: t('board.show_tabs', 'Show other tabs'),
    placement: "top",
    disabled: isMoving
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Dropdown, {
    items: boardDropdownItems
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.IconButton, {
    icon: 'ChevronDown',
    onClick: clickHandler(lodash__WEBPACK_IMPORTED_MODULE_12__.noop)
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Tooltip, {
    label: isDefaultSizeAndPosition ? t('board.reset_size.disabled', 'Board already at the default position') : t('board.reset_size.enabled', 'Return to default position and size'),
    placement: "top",
    disabled: isMoving
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.IconButton, {
    icon: 'DiagonalArrowLeftDown',
    onClick: clickHandler(resetSizeAndPosition),
    disabled: isDefaultSizeAndPosition
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Tooltip, {
    label: expanded ? t('board.reduce', 'Reduce board') : t('board.enlarge', 'Enlarge board'),
    placement: "top",
    disabled: isMoving
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.IconButton, {
    icon: expanded ? 'CollapseOutline' : 'ExpandOutline',
    onClick: clickHandler(expanded ? _store_boards__WEBPACK_IMPORTED_MODULE_14__.reduceBoards : _store_boards__WEBPACK_IMPORTED_MODULE_14__.expandBoards)
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Tooltip, {
    label: t('board.close_tabs', 'Close all your tabs'),
    placement: "top",
    disabled: isMoving
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.IconButton, {
    icon: "CloseOutline",
    onClick: clickHandler(_store_boards__WEBPACK_IMPORTED_MODULE_14__.closeAllBoards)
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_25__.Divider, {
    style: {
      height: '0.125rem'
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(BoardDetailContainer, {
    takeAvailableSpace: true
  }, (0,lodash__WEBPACK_IMPORTED_MODULE_12__.map)(boards, function (b) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_13___default().createElement(_board__WEBPACK_IMPORTED_MODULE_16__.AppBoard, {
      key: b.id,
      board: b
    });
  }))))) || null;
};

/***/ }),

/***/ "./src/shell/boards/board-tab-list.tsx":
/*!*********************************************!*\
  !*** ./src/shell/boards/board-tab-list.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TabsList": () => (/* binding */ TabsList)
/* harmony export */ });
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _store_boards__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../store/boards */ "./src/store/boards/index.ts");
/* harmony import */ var _board_tab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./board-tab */ "./src/shell/boards/board-tab.tsx");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var CustomRow = (0,styled_components__WEBPACK_IMPORTED_MODULE_4__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_5__.Row).withConfig({
  displayName: "board-tab-list__CustomRow",
  componentId: "sc-s0jduq-0"
})(["overflow-x:auto;&::-webkit-scrollbar{height:0.5rem;}"]);
var TabsList = function TabsList() {
  var _useBoardStore = (0,_store_boards__WEBPACK_IMPORTED_MODULE_2__.useBoardStore)(),
    boards = _useBoardStore.boards,
    orderedBoards = _useBoardStore.orderedBoards;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(CustomRow, {
    wrap: "nowrap",
    height: "100%",
    mainAlignment: "flex-start",
    takeAvailableSpace: true
  }, boards && !(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(orderedBoards) && (0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(orderedBoards, function (boardId, idx) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_board_tab__WEBPACK_IMPORTED_MODULE_3__.AppBoardTab, {
      key: boardId,
      id: boardId,
      title: boards[boardId].title,
      icon: boards[boardId].icon,
      firstTab: idx === 0
    });
  }));
};

/***/ }),

/***/ "./src/shell/boards/board-tab.tsx":
/*!****************************************!*\
  !*** ./src/shell/boards/board-tab.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppBoardTab": () => (/* binding */ AppBoardTab)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _store_boards__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../store/boards */ "./src/store/boards/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _board_tab_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./board-tab.css */ "./src/shell/boards/board-tab.css");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var TabContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_5__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Row).withConfig({
  displayName: "board-tab__TabContainer",
  componentId: "sc-1tw4sj3-0"
})(["container-type:inline-size;container-name:tab;max-width:calc(3rem + 15ch);min-width:1rem;flex-grow:1;flex-basis:0;cursor:pointer;height:1.75rem;user-select:none;background-color:", ";gap:0.25rem;border-radius:0.25rem;margin-left:0.25rem;margin-right:0.25rem;overflow:hidden;", ""], function (_ref) {
  var theme = _ref.theme,
    active = _ref.active;
  return active ? theme.palette.gray3.regular : theme.palette.gray5.regular;
}, function (_ref2) {
  var active = _ref2.active;
  return active && (0,styled_components__WEBPACK_IMPORTED_MODULE_5__.css)(["min-width:calc(3rem + 15ch);"]);
});
var CloseContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_5__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container).withConfig({
  displayName: "board-tab__CloseContainer",
  componentId: "sc-1tw4sj3-1"
})(["margin-left:auto;"]);
var TabIcon = (0,styled_components__WEBPACK_IMPORTED_MODULE_5__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Icon).withConfig({
  displayName: "board-tab__TabIcon",
  componentId: "sc-1tw4sj3-2"
})(["min-width:1.5rem;"]);
var CustomText = (0,styled_components__WEBPACK_IMPORTED_MODULE_5__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Text).withConfig({
  displayName: "board-tab__CustomText",
  componentId: "sc-1tw4sj3-3"
})(["", " text-overflow:unset;"], function (_ref3) {
  var overflowing = _ref3.overflowing;
  return overflowing && (0,styled_components__WEBPACK_IMPORTED_MODULE_5__.css)(["mask-image:linear-gradient(90deg,#000 60%,transparent);"]);
});
var VerticalDivider = (0,styled_components__WEBPACK_IMPORTED_MODULE_5__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container).withConfig({
  displayName: "board-tab__VerticalDivider",
  componentId: "sc-1tw4sj3-4"
})(["width:0.0625rem;min-width:0.0625rem;height:2.25rem;background:", ";"], function (_ref4) {
  var theme = _ref4.theme;
  return theme.palette.gray3.regular;
});
var AppBoardTab = function AppBoardTab(_ref5) {
  var id = _ref5.id,
    icon = _ref5.icon,
    title = _ref5.title,
    firstTab = _ref5.firstTab;
  var current = (0,_store_boards__WEBPACK_IMPORTED_MODULE_2__.useBoardStore)(function (s) {
    return s.current;
  });
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_3__.getT)();
  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (event) {
    if (!event.defaultPrevented) {
      (0,_store_boards__WEBPACK_IMPORTED_MODULE_2__.setCurrentBoard)(id);
    }
  }, [id]);
  var onRemove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (ev) {
    if (!ev.defaultPrevented) {
      ev.stopPropagation();
      (0,_store_boards__WEBPACK_IMPORTED_MODULE_2__.closeBoard)(id);
    }
  }, [id]);
  var textRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    textOverflowing = _useState2[0],
    setTextOverflowing = _useState2[1];
  var resizeObserverRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    if (textRef.current && !resizeObserverRef.current) {
      resizeObserverRef.current = new ResizeObserver(function (entries) {
        requestAnimationFrame(function () {
          if (textRef.current) {
            setTextOverflowing(textRef.current.offsetWidth < textRef.current.scrollWidth);
          }
        });
      });
      resizeObserverRef.current.observe(textRef.current);
    }
    return function () {
      var _resizeObserverRef$cu;
      (_resizeObserverRef$cu = resizeObserverRef.current) === null || _resizeObserverRef$cu === void 0 ? void 0 : _resizeObserverRef$cu.disconnect();
    };
  }, [textRef]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, !firstTab && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VerticalDivider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(TabContainer, {
    wrap: 'nowrap',
    orientation: "row",
    mainAlignment: 'flex-start',
    onClick: onClick,
    "data-testid": "board-tab-".concat(id),
    padding: {
      horizontal: 'extrasmall'
    },
    active: current === id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(TabIcon, {
    icon: icon,
    size: "large"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Tooltip, {
    label: title,
    placement: "top",
    maxWidth: "700px",
    triggerRef: textRef
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(CustomText, {
    size: "medium",
    weight: "regular",
    color: current === id ? 'text' : 'secondary',
    overflowing: textOverflowing,
    className: "tab-text"
  }, title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(CloseContainer, {
    orientation: 'row',
    width: 'fit'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Tooltip, {
    label: t('board.close_tab', 'Close Tab'),
    placement: "top"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.IconButton, {
    className: "tab-close-icon-button",
    iconColor: "secondary",
    icon: "Close",
    onClick: onRemove,
    style: {
      padding: '0.125rem',
      width: '1.5rem',
      height: '1.5rem'
    }
  })))));
};

/***/ }),

/***/ "./src/shell/boards/board.tsx":
/*!************************************!*\
  !*** ./src/shell/boards/board.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppBoard": () => (/* binding */ AppBoard)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var history__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! history */ "./node_modules/history/index.js");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _store_boards__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../store/boards */ "./src/store/boards/index.ts");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/utils */ "./src/utils/utils.ts");



/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */










var BoardContainer = styled_components__WEBPACK_IMPORTED_MODULE_9__["default"].div.withConfig({
  displayName: "board__BoardContainer",
  componentId: "sc-i98psp-0"
})(["display:", ";height:100%;width:100%;overflow-y:auto;&::-webkit-scrollbar{width:0.5rem;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar-thumb{background-color:", ";border-radius:0.25rem;}"], function (props) {
  return props.show ? 'block' : 'none';
}, function (_ref) {
  var theme = _ref.theme;
  return theme.palette.gray3.regular;
});
var AppBoard = function AppBoard(_ref2) {
  var board = _ref2.board;
  var current = (0,_store_boards__WEBPACK_IMPORTED_MODULE_7__.useBoardStore)(function (s) {
    return s.current;
  });
  // eslint-disable-next-line react-hooks/exhaustive-deps
  var history = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    return (0,history__WEBPACK_IMPORTED_MODULE_10__.createMemoryHistory)({
      initialEntries: [board.url]
    });
  }, []);
  var boardViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_6__.useAppStore)(function (s) {
    return s.views.board;
  });
  var windowHistory = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_11__.useHistory)();
  var route = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {
    var view = (0,lodash__WEBPACK_IMPORTED_MODULE_4__.find)(boardViews, function (v) {
      return v.id === board.url || (0,lodash__WEBPACK_IMPORTED_MODULE_4__.startsWith)(board.url, v.route);
    });
    if (view) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_11__.Route, {
      key: view.id,
      path: view.route
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_5__["default"], {
      key: view.id,
      pkg: view.app
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_store_boards__WEBPACK_IMPORTED_MODULE_7__.BoardProvider, {
      id: board.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(view.component, {
      windowHistory: windowHistory
    }))));
    return null;
  }, [board.id, board.url, boardViews, windowHistory]);
  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {
    var unlisten = history.listen(function (_ref3) {
      var location = _ref3.location;
      if ("".concat(location.pathname).concat(location.search).concat(location.hash) !== board.url) {
        (0,_store_boards__WEBPACK_IMPORTED_MODULE_7__.updateBoard)(board.id, {
          url: "".concat(location.pathname).concat(location.search).concat(location.hash)
        });
      }
    });
    return function () {
      unlisten();
    };
  }, [board.url, board.id, history]);
  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {
    var l = history.location;
    if ("".concat(l.pathname).concat(l.search).concat(l.hash) !== board.url) {
      history.push(board.url);
    }
  }, [board.url, history]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(BoardContainer, {
    show: current === board.id,
    onMouseDown: _utils_utils__WEBPACK_IMPORTED_MODULE_8__.stopPropagation
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_11__.Router, {
    history: history
  }, route));
};

/***/ }),

/***/ "./src/shell/boards/resizable-container.tsx":
/*!**************************************************!*\
  !*** ./src/shell/boards/resizable-container.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ResizableContainer": () => (/* binding */ ResizableContainer)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _hooks_useResize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hooks/useResize */ "./src/shell/hooks/useResize.ts");


var _excluded = ["elementToResize", "children", "localStorageKey", "disabled", "keepSynchedWithStorage"];



/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var MainContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8__.Container).withConfig({
  displayName: "resizable-container__MainContainer",
  componentId: "sc-1eyb1m-0"
})(["position:relative;width:100%;height:100%;"]);
var BorderWithResize = styled_components__WEBPACK_IMPORTED_MODULE_7__["default"].div.withConfig({
  displayName: "resizable-container__BorderWithResize",
  componentId: "sc-1eyb1m-1"
})(["position:absolute;z-index:2;cursor:", ";width:", ";height:", ";", ";", ""], function (_ref) {
  var $cursor = _ref.$cursor;
  return $cursor;
}, function (_ref2) {
  var $width = _ref2.$width;
  return $width;
}, function (_ref3) {
  var $height = _ref3.$height;
  return $height;
}, function (_ref4) {
  var $position = _ref4.$position;
  return $position;
}, function (_ref5) {
  var $translateTransform = _ref5.$translateTransform;
  return (($translateTransform === null || $translateTransform === void 0 ? void 0 : $translateTransform.x) || ($translateTransform === null || $translateTransform === void 0 ? void 0 : $translateTransform.y)) && (0,styled_components__WEBPACK_IMPORTED_MODULE_7__.css)(["transform:translate(", ",", ");"], ($translateTransform === null || $translateTransform === void 0 ? void 0 : $translateTransform.x) || 0, ($translateTransform === null || $translateTransform === void 0 ? void 0 : $translateTransform.y) || 0);
});
var ResizableBorder = function ResizableBorder(_ref6) {
  var border = _ref6.border,
    elementToResize = _ref6.elementToResize,
    localStorageKey = _ref6.localStorageKey,
    keepSynchedWithStorage = _ref6.keepSynchedWithStorage;
  var borderRef = (0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);
  var resizeHandler = (0,_hooks_useResize__WEBPACK_IMPORTED_MODULE_6__.useResize)(elementToResize, border, {
    localStorageKey: localStorageKey,
    keepSynchedWithStorage: keepSynchedWithStorage
  });
  var sizes = (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {
    switch (border) {
      case 'n':
      case 's':
        return {
          $width: '100%',
          $height: '0.25rem'
        };
      case 'e':
      case 'w':
        return {
          $width: '0.25rem',
          $height: '100%'
        };
      case 'ne':
      case 'nw':
      case 'se':
      case 'sw':
      default:
        return {
          $width: '0.25rem',
          $height: '0.25rem'
        };
    }
  }, [border]);
  var positions = (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {
    var $position = {};
    var $translateTransform = {};
    if (border.includes('n')) {
      $position.top = 0;
      $translateTransform.y = '-50%';
    }
    if (border.includes('s')) {
      $position.bottom = 0;
      $translateTransform.y = '50%';
    }
    if (border.includes('e')) {
      $position.right = 0;
      $translateTransform.x = '50%';
    }
    if (border.includes('w')) {
      $position.left = 0;
      $translateTransform.x = '-50%';
    }
    return {
      $position: $position,
      $translateTransform: $translateTransform
    };
  }, [border]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(BorderWithResize, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({
    ref: borderRef
  }, sizes, positions, {
    $cursor: (0,_hooks_useResize__WEBPACK_IMPORTED_MODULE_6__.getCursorFromBorder)(border),
    onMouseDown: resizeHandler,
    "data-testid": "resizable-border-".concat(border)
  }));
};
var ResizableContainer = function ResizableContainer(_ref7) {
  var elementToResize = _ref7.elementToResize,
    children = _ref7.children,
    localStorageKey = _ref7.localStorageKey,
    _ref7$disabled = _ref7.disabled,
    disabled = _ref7$disabled === void 0 ? false : _ref7$disabled,
    keepSynchedWithStorage = _ref7.keepSynchedWithStorage,
    rest = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__["default"])(_ref7, _excluded);
  var borders = (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(function () {
    return _hooks_useResize__WEBPACK_IMPORTED_MODULE_6__.BORDERS.map(function (border) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ResizableBorder, {
        key: "resizable-border-".concat(border),
        border: border,
        elementToResize: elementToResize,
        localStorageKey: localStorageKey,
        keepSynchedWithStorage: keepSynchedWithStorage
      });
    });
  }, [elementToResize, keepSynchedWithStorage, localStorageKey]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(MainContainer, rest, !disabled && borders, children);
};

/***/ }),

/***/ "./src/shell/collapser.tsx":
/*!*********************************!*\
  !*** ./src/shell/collapser.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Collapser": () => (/* binding */ Collapser)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__);
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var VerticalDivider = styled_components__WEBPACK_IMPORTED_MODULE_1__["default"].div.withConfig({
  displayName: "collapser__VerticalDivider",
  componentId: "sc-178akf5-0"
})(["position:relative;overflow:visible;height:100%;width:0.0625rem;max-width:0.0625rem;min-width:0.0625rem;background-color:", ";transition:background 0.2s;&:hover{background-color:", ";}"], function (_ref) {
  var theme = _ref.theme;
  return theme.palette.gray2.regular;
}, function (_ref2) {
  var theme = _ref2.theme;
  return theme.palette.gray2.hover;
});
var Bubble = styled_components__WEBPACK_IMPORTED_MODULE_1__["default"].div.withConfig({
  displayName: "collapser__Bubble",
  componentId: "sc-178akf5-1"
})(["cursor:pointer;z-index:2;display:flex;align-items:center;justify-content:center;position:absolute;top:50%;left:-0.75rem;width:1.5rem;height:1.5rem;border-radius:50%;background-color:", ";transition:background-color 0.2s,transform 0.2s;transform:scaleX(", ");&:hover{background-color:", ";}&:active{background-color:", ";}"], function (_ref3) {
  var theme = _ref3.theme;
  return theme.palette.gray2.regular;
}, function (_ref4) {
  var open = _ref4.open;
  return open ? 1 : -1;
}, function (_ref5) {
  var theme = _ref5.theme;
  return theme.palette.gray2.hover;
}, function (_ref6) {
  var theme = _ref6.theme;
  return theme.palette.gray2.active;
});
var Collapser = function Collapser(_ref7) {
  var open = _ref7.open,
    onClick = _ref7.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(VerticalDivider, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Bubble, {
    onClick: onClick,
    open: open
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Icon, {
    size: "medium",
    icon: "ChevronLeft"
  })));
};

/***/ }),

/***/ "./src/shell/creation-button.tsx":
/*!***************************************!*\
  !*** ./src/shell/creation-button.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CreationButton": () => (/* binding */ CreationButton),
/* harmony export */   "CreationButtonComponent": () => (/* binding */ CreationButtonComponent)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ "./node_modules/core-js/modules/es.array.join.js");
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "./node_modules/core-js/modules/es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _store_integrations_hooks__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../store/integrations/hooks */ "./src/store/integrations/hooks.tsx");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }














/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */










var CreationButtonComponent = function CreationButtonComponent(_ref) {
  var activeRoute = _ref.activeRoute,
    location = _ref.location;
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_22__.getT)();
  var actions = (0,_store_integrations_hooks__WEBPACK_IMPORTED_MODULE_23__.useActions)({
    activeRoute: activeRoute,
    location: location
  }, _constants__WEBPACK_IMPORTED_MODULE_19__.ACTION_TYPES.NEW);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_18__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
    open = _useState2[0],
    setOpen = _useState2[1];
  var primaryAction = (0,react__WEBPACK_IMPORTED_MODULE_18__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_17__.find)(actions, function (action) {
      return (action.group === (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.id) || action.group === (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.app)) && action.primary === true;
    });
  }, [actions, activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.app, activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.id]);
  var apps = (0,_store_app__WEBPACK_IMPORTED_MODULE_21__.useAppList)();
  var byApp = (0,react__WEBPACK_IMPORTED_MODULE_18__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_17__.groupBy)(actions, 'group');
  }, [actions]);
  var secondaryActions = (0,react__WEBPACK_IMPORTED_MODULE_18__.useMemo)(function () {
    var _byApp, _activeRoute$app;
    return [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])((_byApp = byApp[(_activeRoute$app = activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.app) !== null && _activeRoute$app !== void 0 ? _activeRoute$app : '']) !== null && _byApp !== void 0 ? _byApp : []), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])((0,lodash__WEBPACK_IMPORTED_MODULE_17__.reduce)(apps, function (acc, app, i) {
      var _byApp$app$name;
      if (app.name !== (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.app) && ((_byApp$app$name = byApp[app.name]) === null || _byApp$app$name === void 0 ? void 0 : _byApp$app$name.length) > 0) {
        acc.push.apply(acc, [{
          type: 'divider',
          label: '',
          id: "divider-".concat(i)
        }].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(byApp[app.name])));
      }
      return acc;
    }, [])));
  }, [activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.app, apps, byApp]);
  var onClose = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function () {
    setOpen(false);
  }, []);
  var onOpen = (0,react__WEBPACK_IMPORTED_MODULE_18__.useCallback)(function () {
    setOpen(true);
  }, []);
  return primaryAction ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_24__.Container, {
    minWidth: "80px"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_24__.MultiButton, {
    "data-testid": "NewItemButton",
    size: "extralarge",
    background: 'primary',
    label: t('new', 'New'),
    onClick: primaryAction.onClick || primaryAction.click || lodash__WEBPACK_IMPORTED_MODULE_17__.noop,
    items: secondaryActions,
    disabledPrimary: !primaryAction || (primaryAction === null || primaryAction === void 0 ? void 0 : primaryAction.disabled),
    disabledSecondary: !(secondaryActions !== null && secondaryActions !== void 0 && secondaryActions.length)
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_24__.Dropdown, {
    items: secondaryActions,
    onClose: onClose,
    onOpen: onOpen
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_24__.Button, {
    "data-testid": "NewItemButton",
    size: "extralarge",
    backgroundColor: "primary",
    label: t('new', 'New'),
    icon: open ? 'ChevronUp' : 'ChevronDown',
    onClick: lodash__WEBPACK_IMPORTED_MODULE_17__.noop
  }));
};
var MemoCreationButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().memo(CreationButtonComponent);
var CreationButton = function CreationButton() {
  var locationFull = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_25__.useLocation)();
  var activeRoute = (0,_history_hooks__WEBPACK_IMPORTED_MODULE_20__.useCurrentRoute)();
  var truncateLocation = function truncateLocation(location) {
    var _location$pathname;
    return _objectSpread(_objectSpread({}, location), {}, {
      pathname: location === null || location === void 0 ? void 0 : (_location$pathname = location.pathname) === null || _location$pathname === void 0 ? void 0 : _location$pathname.split('/').slice(0, 2).join('/'),
      key: ''
    });
  };
  var location = (0,react__WEBPACK_IMPORTED_MODULE_18__.useMemo)(function () {
    return truncateLocation(locationFull);
  }, [locationFull]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default().createElement(MemoCreationButton, {
    activeRoute: activeRoute,
    location: location
  });
};

/***/ }),

/***/ "./src/shell/hooks/useIsMobile.ts":
/*!****************************************!*\
  !*** ./src/shell/hooks/useIsMobile.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useIsMobile": () => (/* binding */ useIsMobile)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shell_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shell-context */ "./src/shell/shell-context.ts");
/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


function useIsMobile() {
  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_shell_context__WEBPACK_IMPORTED_MODULE_1__["default"]),
    isMobile = _useContext.isMobile;
  return isMobile;
}

/***/ }),

/***/ "./src/shell/hooks/useLocalStorage.ts":
/*!********************************************!*\
  !*** ./src/shell/hooks/useLocalStorage.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "exportForTest": () => (/* binding */ exportForTest),
/* harmony export */   "useLocalStorage": () => (/* binding */ useLocalStorage)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/utils */ "./src/utils/utils.ts");











function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



function isSameLocalStorageValue(valueA, valueB) {
  return JSON.stringify(valueA) === JSON.stringify(valueB);
}
var useLocalStorageStore = (0,zustand__WEBPACK_IMPORTED_MODULE_13__.create)()(function (setState) {
  return {
    storage: {},
    readValue: function readValue(key, fallback) {
      try {
        var localStorageItem = window.localStorage.getItem(key);
        var item = localStorageItem !== null ? JSON.parse(localStorageItem) : fallback;
        setState(function (state) {
          if (state.storage[key] === undefined) {
            return {
              storage: _objectSpread(_objectSpread({}, state.storage), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])({}, key, item))
            };
          }
          return state;
        });
      } catch (error) {
        console.error(error);
        setState(function (state) {
          return {
            storage: _objectSpread(_objectSpread({}, state.storage), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])({}, key, fallback))
          };
        });
      }
    },
    setValue: function setValue(key, value) {
      setState(function (state) {
        var valueToStore = value instanceof Function ? value(state.storage[key]) : value;
        if (!isSameLocalStorageValue(valueToStore, state.storage[key])) {
          window.localStorage.setItem(key, JSON.stringify(valueToStore));
          return {
            storage: _objectSpread(_objectSpread({}, state.storage), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])({}, key, valueToStore))
          };
        }
        return state;
      });
    }
  };
});
var DEFAULT_OPTIONS = {
  keepSynchedWithStorage: true
};
function useLocalStorage(key, initialValue) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_OPTIONS;
  var storedValue = useLocalStorageStore(function (state) {
    return state.storage[key] || initialValue;
  });
  var shouldDispatchStorageEventRef = (0,react__WEBPACK_IMPORTED_MODULE_11__.useRef)(false);
  var localStorageOptions = (0,react__WEBPACK_IMPORTED_MODULE_11__.useMemo)(function () {
    return _objectSpread(_objectSpread({}, DEFAULT_OPTIONS), options);
  }, [options]);
  var readValueForKey = (0,react__WEBPACK_IMPORTED_MODULE_11__.useCallback)(function () {
    useLocalStorageStore.getState().readValue(key, initialValue);
  }, [key, initialValue]);
  (0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {
    readValueForKey();
  }, [readValueForKey]);
  var setValueForKey = (0,react__WEBPACK_IMPORTED_MODULE_11__.useCallback)(function (value) {
    useLocalStorageStore.getState().setValue(key, value);
    shouldDispatchStorageEventRef.current = true;
  }, [key]);
  (0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {
    if (localStorageOptions !== null && localStorageOptions !== void 0 && localStorageOptions.keepSynchedWithStorage) {
      window.addEventListener('storage', readValueForKey);
    }
    return function () {
      window.removeEventListener('storage', readValueForKey);
    };
  }, [localStorageOptions === null || localStorageOptions === void 0 ? void 0 : localStorageOptions.keepSynchedWithStorage, readValueForKey]);
  (0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(function () {
    if (shouldDispatchStorageEventRef.current) {
      // dispatch event when stored value change,
      // but only after render to avoid possible update of parent component during render
      window.dispatchEvent(new Event('storage'));
      shouldDispatchStorageEventRef.current = false;
    }
  }, [storedValue]);
  return [storedValue, setValueForKey];
}
var exportForTest = (0,_utils_utils__WEBPACK_IMPORTED_MODULE_12__.createExportForTestOnly)({
  useLocalStorageStore: useLocalStorageStore
});

/***/ }),

/***/ "./src/shell/hooks/useMove.ts":
/*!************************************!*\
  !*** ./src/shell/hooks/useMove.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BOARD_CURSOR_TIMEOUT": () => (/* binding */ BOARD_CURSOR_TIMEOUT),
/* harmony export */   "useMove": () => (/* binding */ useMove)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.timers.js */ "./node_modules/core-js/modules/web.timers.js");
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../utils/utils */ "./src/utils/utils.ts");
/* harmony import */ var _useLocalStorage__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./useLocalStorage */ "./src/shell/hooks/useLocalStorage.ts");













function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var BOARD_CURSOR_TIMEOUT = 250;
function calcNewPosition(from, limitContainer, mouseEvent) {
  var _limitClientRect$top, _limitClientRect$left;
  var limitClientRect = limitContainer.getBoundingClientRect();
  var clientTopLimit = (_limitClientRect$top = limitClientRect.top) !== null && _limitClientRect$top !== void 0 ? _limitClientRect$top : 0;
  var moveTopDelta = mouseEvent.clientY - from.mouseClientY;
  var newClientTop = from.clientTop + moveTopDelta;
  var newTop = from.top + moveTopDelta;
  var clientLeftLimit = (_limitClientRect$left = limitClientRect.left) !== null && _limitClientRect$left !== void 0 ? _limitClientRect$left : 0;
  var moveLeftDelta = mouseEvent.clientX - from.mouseClientX;
  var newClientLeft = from.clientLeft + moveLeftDelta;
  var newLeft = from.left + moveLeftDelta;
  return {
    left: newClientLeft > clientLeftLimit ? newLeft : 0,
    top: newClientTop > clientTopLimit ? newTop : 0
  };
}
var useMove = function useMove(elementToMoveRef, options) {
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
    isMoving = _useState2[0],
    setIsMoving = _useState2[1];
  var isMoveEnabledRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(false);
  var initialSizeAndPositionRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)();
  var _useLocalStorage = (0,_useLocalStorage__WEBPACK_IMPORTED_MODULE_16__.useLocalStorage)((options === null || options === void 0 ? void 0 : options.localStorageKey) || 'use-move-data', {}, {
      keepSynchedWithStorage: options === null || options === void 0 ? void 0 : options.keepSynchedWithStorage
    }),
    _useLocalStorage2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useLocalStorage, 2),
    lastSavedPosition = _useLocalStorage2[0],
    setLastSavedPosition = _useLocalStorage2[1];
  var lastPositionRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(lastSavedPosition);
  var globalCursorSetterTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)();
  var shouldUpdateLocalStorageRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(false);
  var moveElement = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (_ref) {
    var left = _ref.left,
      top = _ref.top;
    if (elementToMoveRef.current) {
      var elementToMove = elementToMoveRef.current;
      var positionToApply = lastPositionRef.current;
      if (top >= 0) {
        positionToApply.top = top;
      }
      if (left >= 0) {
        positionToApply.left = left;
      }
      (0,lodash__WEBPACK_IMPORTED_MODULE_14__.forEach)(positionToApply, function (value, key) {
        (0,_utils_utils__WEBPACK_IMPORTED_MODULE_15__.setElementSizeAndPosition)(elementToMove, key, value);
      });
      lastPositionRef.current = positionToApply;
    }
  }, [elementToMoveRef]);
  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {
    lastPositionRef.current = _objectSpread({}, lastSavedPosition);
  }, [elementToMoveRef, lastSavedPosition]);
  var preventClick = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (event) {
    event.preventDefault();
    document.body.removeEventListener('click', preventClick, {
      capture: true
    });
  }, []);
  var onMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (mouseMoveEvent) {
    // prevent clickable elements from being clicked if a move has been made
    document.body.addEventListener('click', preventClick, {
      capture: true
    });
    if (initialSizeAndPositionRef.current && elementToMoveRef.current) {
      var offsetParent = elementToMoveRef.current.offsetParent instanceof HTMLElement && elementToMoveRef.current.offsetParent || document.body;
      var newPosition = calcNewPosition(initialSizeAndPositionRef.current, offsetParent, mouseMoveEvent);
      moveElement({
        left: newPosition.left,
        top: newPosition.top
      });
      shouldUpdateLocalStorageRef.current = true;
    }
  }, [elementToMoveRef, moveElement, preventClick]);
  var enableMove = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {
    if (document.activeElement && document.activeElement instanceof HTMLElement) {
      document.activeElement.classList.add('no-active-background');
    }
    document.body.addEventListener('mousemove', onMouseMove);
    (0,_utils_utils__WEBPACK_IMPORTED_MODULE_15__.setGlobalCursor)('move');
    isMoveEnabledRef.current = true;
    setIsMoving(true);
  }, [onMouseMove]);
  var disableMove = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {
    if (document.activeElement && document.activeElement instanceof HTMLElement) {
      document.activeElement.classList.remove('no-active-background');
    }
    document.body.removeEventListener('mousemove', onMouseMove);
    (0,_utils_utils__WEBPACK_IMPORTED_MODULE_15__.setGlobalCursor)(undefined);
    isMoveEnabledRef.current = false;
    setIsMoving(false);
  }, [onMouseMove]);
  var onMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function () {
    if (globalCursorSetterTimerRef.current) {
      clearTimeout(globalCursorSetterTimerRef.current);
    }
    if (isMoveEnabledRef.current) {
      disableMove();
    }
    document.body.removeEventListener('mouseup', onMouseUp);
    if (options !== null && options !== void 0 && options.localStorageKey && shouldUpdateLocalStorageRef.current) {
      setLastSavedPosition(lastPositionRef.current);
      shouldUpdateLocalStorageRef.current = false;
    }
  }, [disableMove, options === null || options === void 0 ? void 0 : options.localStorageKey, setLastSavedPosition]);
  var moveHandler = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (mouseDownEvent) {
    if (!mouseDownEvent.defaultPrevented && elementToMoveRef.current) {
      var clientRect = elementToMoveRef.current.getBoundingClientRect();
      initialSizeAndPositionRef.current = {
        width: elementToMoveRef.current.offsetWidth,
        height: elementToMoveRef.current.offsetHeight,
        left: elementToMoveRef.current.offsetLeft,
        top: elementToMoveRef.current.offsetTop,
        clientTop: clientRect.top,
        clientLeft: clientRect.left,
        mouseClientY: mouseDownEvent.clientY,
        mouseClientX: mouseDownEvent.clientX
      };
      globalCursorSetterTimerRef.current = setTimeout(enableMove, BOARD_CURSOR_TIMEOUT);
      document.body.addEventListener('mouseup', onMouseUp);
    }
  }, [elementToMoveRef, enableMove, onMouseUp]);
  return [isMoving, moveHandler];
};

/***/ }),

/***/ "./src/shell/hooks/useResize.ts":
/*!**************************************!*\
  !*** ./src/shell/hooks/useResize.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BORDERS": () => (/* binding */ BORDERS),
/* harmony export */   "exportForTest": () => (/* binding */ exportForTest),
/* harmony export */   "getCursorFromBorder": () => (/* binding */ getCursorFromBorder),
/* harmony export */   "useResize": () => (/* binding */ useResize)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ "./node_modules/core-js/modules/es.array.join.js");
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.parse-float.js */ "./node_modules/core-js/modules/es.parse-float.js");
/* harmony import */ var core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_parse_float_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../utils/utils */ "./src/utils/utils.ts");
/* harmony import */ var _useLocalStorage__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./useLocalStorage */ "./src/shell/hooks/useLocalStorage.ts");


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }















/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





/**
 * Define the border following the cardinal points (north, south, west, east).
 * Similar to the definition of the cursor for the pointer
 */

var BORDERS = ['n', 's', 'e', 'w', 'ne', 'se', 'sw', 'nw'];
function getCursorFromBorder(border) {
  var _find;
  var direction = (_find = (0,lodash__WEBPACK_IMPORTED_MODULE_18__.find)([['n', 's'], ['e', 'w'], ['ne', 'sw'], ['nw', 'se']], function (borders) {
    return borders.includes(border);
  })) === null || _find === void 0 ? void 0 : _find.join('');
  return direction && direction.concat('-resize') || '';
}
function calcNewSizeAndPosition(border, from, mouseEvent) {
  var newSizeAndPosition = {
    top: from.top,
    left: from.left,
    height: from.height,
    width: from.width
  };
  if (border.includes('n')) {
    var heightDifference = from.clientTop - mouseEvent.clientY;
    newSizeAndPosition.height = from.height + heightDifference;
    newSizeAndPosition.top = from.top - heightDifference;
  }
  if (border.includes('s')) {
    newSizeAndPosition.height = mouseEvent.clientY - from.clientTop;
  }
  if (border.includes('e')) {
    newSizeAndPosition.width = mouseEvent.clientX - from.clientLeft;
  }
  if (border.includes('w')) {
    var widthDifference = from.clientLeft - mouseEvent.clientX;
    newSizeAndPosition.width = from.width + widthDifference;
    newSizeAndPosition.left = from.left - widthDifference;
  }
  return newSizeAndPosition;
}
var useResize = function useResize(elementToResizeRef, border, options) {
  var initialSizeAndPositionRef = (0,react__WEBPACK_IMPORTED_MODULE_17__.useRef)();
  var _useLocalStorage = (0,_useLocalStorage__WEBPACK_IMPORTED_MODULE_20__.useLocalStorage)((options === null || options === void 0 ? void 0 : options.localStorageKey) || 'use-resize-data', {}, {
      keepSynchedWithStorage: options === null || options === void 0 ? void 0 : options.keepSynchedWithStorage
    }),
    _useLocalStorage2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useLocalStorage, 2),
    lastSavedSizeAndPosition = _useLocalStorage2[0],
    setLastSavedSizeAndPosition = _useLocalStorage2[1];
  var lastSizeAndPositionRef = (0,react__WEBPACK_IMPORTED_MODULE_17__.useRef)(lastSavedSizeAndPosition);
  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {
    lastSizeAndPositionRef.current = _objectSpread({}, lastSavedSizeAndPosition);
  }, [lastSavedSizeAndPosition]);
  var resizeElement = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (_ref) {
    var width = _ref.width,
      height = _ref.height,
      top = _ref.top,
      left = _ref.left;
    if (elementToResizeRef.current) {
      var elementToResize = elementToResizeRef.current;
      var sizeAndPositionToApply = lastSizeAndPositionRef.current;
      var computedStyle = getComputedStyle(elementToResizeRef.current);
      var minHeight = parseFloat(computedStyle.minHeight) || 0;
      var minWidth = parseFloat(computedStyle.minWidth) || 0;
      if (top >= 0 && height >= minHeight) {
        sizeAndPositionToApply.height = height;
        sizeAndPositionToApply.top = top;
      }
      if (left >= 0 && width >= minWidth) {
        sizeAndPositionToApply.width = width;
        sizeAndPositionToApply.left = left;
      }
      (0,lodash__WEBPACK_IMPORTED_MODULE_18__.forEach)(sizeAndPositionToApply, function (value, key) {
        (0,_utils_utils__WEBPACK_IMPORTED_MODULE_19__.setElementSizeAndPosition)(elementToResize, key, value);
      });
      // reset bottom in favor of top
      elementToResize.style.bottom = '';
      // reset right in favor of left
      elementToResize.style.right = '';
      lastSizeAndPositionRef.current = sizeAndPositionToApply;
    }
  }, [elementToResizeRef]);
  var onMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (mouseMoveEvent) {
    if (initialSizeAndPositionRef.current) {
      var newSizeAndPosition = calcNewSizeAndPosition(border, initialSizeAndPositionRef.current, mouseMoveEvent);
      resizeElement(newSizeAndPosition);
    }
  }, [border, resizeElement]);
  var onMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function () {
    (0,_utils_utils__WEBPACK_IMPORTED_MODULE_19__.setGlobalCursor)(undefined);
    document.body.removeEventListener('mousemove', onMouseMove);
    document.body.removeEventListener('mouseup', onMouseUp);
    if (options !== null && options !== void 0 && options.localStorageKey) {
      setLastSavedSizeAndPosition(lastSizeAndPositionRef.current);
    }
  }, [onMouseMove, options === null || options === void 0 ? void 0 : options.localStorageKey, setLastSavedSizeAndPosition]);
  return (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(function (mouseDownEvent) {
    if (!mouseDownEvent.defaultPrevented && elementToResizeRef.current) {
      mouseDownEvent.preventDefault();
      var clientRect = elementToResizeRef.current.getBoundingClientRect();
      initialSizeAndPositionRef.current = {
        width: elementToResizeRef.current.offsetWidth,
        height: elementToResizeRef.current.offsetHeight,
        top: elementToResizeRef.current.offsetTop,
        left: elementToResizeRef.current.offsetLeft,
        clientTop: clientRect.top,
        clientLeft: clientRect.left
      };
      (0,_utils_utils__WEBPACK_IMPORTED_MODULE_19__.setGlobalCursor)(getCursorFromBorder(border));
      document.body.addEventListener('mousemove', onMouseMove);
      document.body.addEventListener('mouseup', onMouseUp);
    }
  }, [border, elementToResizeRef, onMouseMove, onMouseUp]);
};
var exportForTest = (0,_utils_utils__WEBPACK_IMPORTED_MODULE_19__.createExportForTestOnly)({
  calcNewSizeAndPosition: calcNewSizeAndPosition
});

/***/ }),

/***/ "./src/shell/logo.tsx":
/*!****************************!*\
  !*** ./src/shell/logo.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Logo": () => (/* binding */ Logo)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store_login_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/login/hooks */ "./src/store/login/hooks.ts");
/* harmony import */ var _store_login_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/login/store */ "./src/store/login/store.ts");

/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var Logo = function Logo(props) {
  var _useLoginConfigStore = (0,_store_login_store__WEBPACK_IMPORTED_MODULE_3__.useLoginConfigStore)(),
    loaded = _useLoginConfigStore.loaded;
  var LogoElement = (0,_store_login_hooks__WEBPACK_IMPORTED_MODULE_2__.useLogo)();
  return loaded ? typeof LogoElement === 'string' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("img", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    alt: ''
  }, props, {
    src: LogoElement
  })) || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(LogoElement, props) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);
};

/***/ }),

/***/ "./src/shell/shell-context-provider.tsx":
/*!**********************************************!*\
  !*** ./src/shell/shell-context-provider.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shell_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shell-context */ "./src/shell/shell-context.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var ShellContextProvider = function ShellContextProvider(_ref) {
  var children = _ref.children;
  var screenMode = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.useScreenMode)();
  var value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return {
      isMobile: screenMode === 'mobile'
    };
  }, [screenMode]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shell_context__WEBPACK_IMPORTED_MODULE_1__["default"].Provider, {
    value: value
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellContextProvider);

/***/ }),

/***/ "./src/shell/shell-context.ts":
/*!************************************!*\
  !*** ./src/shell/shell-context.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


var ShellContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({
  isMobile: true
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellContext);

/***/ }),

/***/ "./src/shell/shell-header.tsx":
/*!************************************!*\
  !*** ./src/shell/shell-header.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _search_search_bar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../search/search-bar */ "./src/search/search-bar.tsx");
/* harmony import */ var _creation_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./creation-button */ "./src/shell/creation-button.tsx");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _dark_mode_use_dark_mode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dark-mode/use-dark-mode */ "./src/dark-mode/use-dark-mode.ts");
/* harmony import */ var _logo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./logo */ "./src/shell/logo.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */










var StyledLogo = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__["default"])(_logo__WEBPACK_IMPORTED_MODULE_7__.Logo).withConfig({
  displayName: "shell-header__StyledLogo",
  componentId: "sc-1yz2cfr-0"
})(["height:2rem;"]);
var ShellHeaderContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container).withConfig({
  displayName: "shell-header__ShellHeaderContainer",
  componentId: "sc-1yz2cfr-1"
})(["z-index:", ";"], _constants__WEBPACK_IMPORTED_MODULE_8__.BOARD_CONTAINER_ZINDEX + 1);
var ShellHeader = function ShellHeader(_ref) {
  var mobileNavIsOpen = _ref.mobileNavIsOpen,
    onMobileMenuClick = _ref.onMobileMenuClick,
    children = _ref.children;
  var _useDarkMode = (0,_dark_mode_use_dark_mode__WEBPACK_IMPORTED_MODULE_6__.useDarkMode)(),
    darkReaderStatus = _useDarkMode.darkReaderStatus;
  var screenMode = (0,_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.useScreenMode)();
  var searchEnabled = (0,_store_app__WEBPACK_IMPORTED_MODULE_5__.useAppStore)(function (s) {
    return s.views.search.length > 0;
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(ShellHeaderContainer, {
    "data-testid": "MainHeaderContainer",
    orientation: "horizontal",
    background: 'gray3',
    width: "fill",
    height: _constants__WEBPACK_IMPORTED_MODULE_8__.HEADER_BAR_HEIGHT,
    minHeight: _constants__WEBPACK_IMPORTED_MODULE_8__.HEADER_BAR_HEIGHT,
    maxHeight: _constants__WEBPACK_IMPORTED_MODULE_8__.HEADER_BAR_HEIGHT,
    mainAlignment: "space-between",
    padding: {
      horizontal: screenMode === 'desktop' ? 'large' : 'extrasmall',
      vertical: 'small'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Catcher, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    orientation: "horizontal",
    maxWidth: "75%",
    mainAlignment: "flex-start",
    minWidth: "fit-content",
    "data-testid": "HeaderMainLogoContainer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Responsive, {
    mode: "mobile"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Padding, {
    right: "small"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.IconButton, {
    icon: mobileNavIsOpen ? 'Close' : 'Menu',
    onClick: onMobileMenuClick
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    width: "15.625rem",
    height: "2rem",
    crossAlignment: "flex-start"
  }, darkReaderStatus && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(StyledLogo, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Padding, {
    horizontal: "large"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_creation_button__WEBPACK_IMPORTED_MODULE_4__.CreationButton, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Responsive, {
    mode: "desktop"
  }, searchEnabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_search_search_bar__WEBPACK_IMPORTED_MODULE_3__.SearchBar, null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    orientation: "horizontal",
    width: "auto",
    mainAlignment: "flex-end"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Responsive, {
    mode: "desktop"
  }, children))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellHeader);

/***/ }),

/***/ "./src/shell/shell-mobile-nav.tsx":
/*!****************************************!*\
  !*** ./src/shell/shell-mobile-nav.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */








var SidebarComponent = function SidebarComponent(_ref) {
  var item = _ref.item;
  return item.secondary ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__["default"], {
    pkg: item.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(item.secondary, {
    expanded: !!item.expanded
  })) : null;
};
var ShellMobileNavComponent = function ShellMobileNavComponent(_ref2) {
  var mobileNavIsOpen = _ref2.mobileNavIsOpen,
    menuTree = _ref2.menuTree;
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useHistory)();
  var views = (0,_store_app__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function (s) {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.reduce)(s.routes, function (acc, val) {
      var primary = (0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(s.views.primaryBar, function (item) {
        return item.id === val.id;
      });
      var secondary = (0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(s.views.secondaryBar, function (item) {
        return item.id === val.id;
      });
      if (primary && primary.visible) {
        acc.push({
          id: "".concat(val.app, "-wrap"),
          label: primary.label,
          icon: typeof primary.component === 'string' ? primary.component : 'Cube',
          onClick: function onClick() {
            return history.push("/".concat(val.route));
          },
          items: secondary ? [{
            id: secondary.id,
            label: secondary.id,
            icon: 'Cube',
            secondary: secondary.component,
            CustomComponent: SidebarComponent
          }] : []
        });
      }
      return acc;
    }, []);
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    height: "fill",
    width: "fit",
    background: "gray5",
    style: {
      position: 'absolute',
      left: 0,
      top: 0,
      zIndex: 3
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Collapse, {
    orientation: "horizontal",
    open: mobileNavIsOpen,
    crossSize: "100%"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    width: 256 + 48 + 12,
    height: "fill",
    orientation: "vertical",
    mainAlignment: "space-between",
    style: {
      maxHeight: 'calc(100vh - 3rem)',
      overflowY: 'auto'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    width: "fill",
    height: "fit",
    orientation: "vertical",
    mainAlignment: "space-between"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Accordion, {
    items: views
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container, {
    width: "fill",
    height: "fit",
    orientation: "vertical",
    mainAlignment: "flex-end"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Accordion, {
    items: [menuTree]
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Padding, {
    vertical: "medium"
  })))));
};
var ShellMobileNavMemo = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().memo(ShellMobileNavComponent);
var ShellMobileNav = function ShellMobileNav(_ref3) {
  var mobileNavIsOpen = _ref3.mobileNavIsOpen;
  var menuTree = (0,_history_hooks__WEBPACK_IMPORTED_MODULE_4__.getCurrentRoute)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ShellMobileNavMemo, {
    menuTree: menuTree,
    mobileNavIsOpen: mobileNavIsOpen
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellMobileNav);

/***/ }),

/***/ "./src/shell/shell-navigation-bar.tsx":
/*!********************************************!*\
  !*** ./src/shell/shell-navigation-bar.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _shell_primary_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shell-primary-bar */ "./src/shell/shell-primary-bar.tsx");
/* harmony import */ var _shell_secondary_bar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shell-secondary-bar */ "./src/shell/shell-secondary-bar.tsx");
/* harmony import */ var _shell_mobile_nav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shell-mobile-nav */ "./src/shell/shell-mobile-nav.tsx");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






var ShellNavigationBar = function ShellNavigationBar(_ref) {
  var mobileNavIsOpen = _ref.mobileNavIsOpen;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Container, {
    orientation: "horizontal",
    background: "gray5",
    width: "fit",
    height: "fill",
    mainAlignment: "flex-start",
    crossAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Responsive, {
    mode: "desktop"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shell_primary_bar__WEBPACK_IMPORTED_MODULE_1__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shell_secondary_bar__WEBPACK_IMPORTED_MODULE_2__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_4__.Responsive, {
    mode: "mobile"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shell_mobile_nav__WEBPACK_IMPORTED_MODULE_3__["default"], {
    mobileNavIsOpen: mobileNavIsOpen
  })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellNavigationBar);

/***/ }),

/***/ "./src/shell/shell-primary-bar.tsx":
/*!*****************************************!*\
  !*** ./src/shell/shell-primary-bar.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.reduce.js */ "./node_modules/core-js/modules/es.array.reduce.js");
/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _badge_wrap__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./badge-wrap */ "./src/shell/badge-wrap.tsx");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/* harmony import */ var _utility_bar_utils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utility-bar/utils */ "./src/utility-bar/utils.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _store_boards__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../store/boards */ "./src/store/boards/index.ts");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }















/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */













var PrimaryBarContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_25__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__.Container).withConfig({
  displayName: "shell-primary-bar__PrimaryBarContainer",
  componentId: "sc-ixisow-0"
})(["border-right:0.0625rem solid ", ";z-index:", ";"], function (_ref) {
  var theme = _ref.theme;
  return theme.palette.gray3.regular;
}, _constants__WEBPACK_IMPORTED_MODULE_22__.BOARD_CONTAINER_ZINDEX + 1);
var ToggleBoardIcon = function ToggleBoardIcon() {
  var _useBoardStore = (0,_store_boards__WEBPACK_IMPORTED_MODULE_23__.useBoardStore)(),
    minimized = _useBoardStore.minimized,
    boards = _useBoardStore.boards;
  return (0,lodash__WEBPACK_IMPORTED_MODULE_16__.isEmpty)(boards) ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__.Container, {
    width: '3rem',
    height: '3rem'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__.IconButton, {
    iconColor: "primary",
    icon: minimized ? 'BoardOpen' : 'BoardCollapse',
    onClick: minimized ? _store_boards__WEBPACK_IMPORTED_MODULE_23__.reopenBoards : _store_boards__WEBPACK_IMPORTED_MODULE_23__.minimizeBoards,
    size: "large"
  }));
};
var PrimaryBarElement = function PrimaryBarElement(_ref2) {
  var view = _ref2.view,
    active = _ref2.active,
    onClick = _ref2.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__.Tooltip, {
    label: view.label,
    placement: "right",
    key: view.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_badge_wrap__WEBPACK_IMPORTED_MODULE_19__["default"], {
    badge: view.badge
  }, typeof view.component === 'string' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__.IconButton, {
    icon: view.component,
    backgroundColor: active ? 'gray4' : 'gray6',
    iconColor: active ? 'primary' : 'text',
    onClick: onClick,
    size: "large",
    "data-isselected": active
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(view.component, {
    active: active
  })));
};
var PrimaryBarAccessoryElement = function PrimaryBarAccessoryElement(_ref3) {
  var _view$onClick;
  var view = _ref3.view;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__.Tooltip, {
    label: view.label,
    placement: "right",
    key: view.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_20__["default"], {
    key: view.id,
    pkg: view.app
  }, typeof view.component === 'string' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__.IconButton, {
    icon: view.component,
    backgroundColor: "gray6",
    iconColor: "text",
    onClick: (_view$onClick = view.onClick) !== null && _view$onClick !== void 0 ? _view$onClick : lodash__WEBPACK_IMPORTED_MODULE_16__.noop,
    size: "large"
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(view.component, null)));
};
var OverlayRow = (0,styled_components__WEBPACK_IMPORTED_MODULE_25__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_26__.Row).withConfig({
  displayName: "shell-primary-bar__OverlayRow",
  componentId: "sc-ixisow-1"
})(["min-height:0.0625rem;overflow-y:auto;overflow-y:overlay;"]);
var ShellPrimaryBarComponent = function ShellPrimaryBarComponent(_ref4) {
  var _activeRoute$standalo;
  var activeRoute = _ref4.activeRoute;
  var primaryBarViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_18__.useAppStore)(function (s) {
    return s.views.primaryBar;
  });
  var _useHistory = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_27__.useHistory)(),
    push = _useHistory.push;
  var _useLocation = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_27__.useLocation)(),
    pathname = _useLocation.pathname,
    search = _useLocation.search;
  var routesRef = (0,react__WEBPACK_IMPORTED_MODULE_17__.useRef)({});
  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {
    routesRef.current = primaryBarViews.reduce(function (accumulator, view) {
      if (!accumulator[view.id]) {
        accumulator[view.id] = view.route;
      }
      return accumulator;
    }, routesRef.current);
  }, [primaryBarViews]);
  (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(function () {
    if (activeRoute && activeRoute.id !== _constants__WEBPACK_IMPORTED_MODULE_22__.SEARCH_APP_ID) {
      routesRef.current = _objectSpread(_objectSpread({}, routesRef.current), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, activeRoute.id, "".concat((0,lodash__WEBPACK_IMPORTED_MODULE_16__.trim)(pathname, '/')).concat(search)));
    }
  }, [activeRoute, pathname, search, primaryBarViews]);
  var primaryBarAccessoryViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_18__.useAppStore)(function (s) {
    return s.views.primaryBarAccessories;
  });
  var accessoryViews = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_16__.sortBy)((0,lodash__WEBPACK_IMPORTED_MODULE_16__.filter)(primaryBarAccessoryViews, function (v) {
      return (0,_utility_bar_utils__WEBPACK_IMPORTED_MODULE_21__.checkRoute)(v, activeRoute);
    }), 'position');
  }, [activeRoute, primaryBarAccessoryViews]);
  var primaryBarItems = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_16__.map)(primaryBarViews, function (view) {
      return view.visible ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(PrimaryBarElement, {
        key: view.id,
        onClick: function onClick() {
          return push("/".concat(routesRef.current[view.id]));
        },
        view: view,
        active: (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.id) === view.id
      }) : null;
    });
  }, [activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.id, push, primaryBarViews]);
  var accessoryItems = (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(function () {
    return accessoryViews.map(function (view) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(PrimaryBarAccessoryElement, {
        view: view,
        key: view.id
      });
    });
  }, [accessoryViews]);
  if (_constants__WEBPACK_IMPORTED_MODULE_22__.IS_STANDALONE && activeRoute !== null && activeRoute !== void 0 && (_activeRoute$standalo = activeRoute.standalone) !== null && _activeRoute$standalo !== void 0 && _activeRoute$standalo.hidePrimaryBar) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(PrimaryBarContainer, {
    width: _constants__WEBPACK_IMPORTED_MODULE_22__.PRIMARY_BAR_WIDTH,
    height: "fill",
    background: 'gray6',
    orientation: "vertical",
    mainAlignment: "flex-start",
    crossAlignment: "flex-start",
    "data-testid": "SideMenuContainer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(OverlayRow, {
    mainAlignment: "flex-start",
    crossAlignment: "flex-start",
    orientation: "vertical",
    takeAvailableSpace: true,
    wrap: "nowrap"
  }, primaryBarItems, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(ToggleBoardIcon, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(OverlayRow, {
    mainAlignment: "flex-end",
    orientation: "vertical",
    wrap: "nowrap"
  }, accessoryItems));
};
var MemoShellPrimaryBarComponent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().memo(ShellPrimaryBarComponent);
var ShellPrimaryBar = function ShellPrimaryBar() {
  var activeRoute = (0,_history_hooks__WEBPACK_IMPORTED_MODULE_24__.useCurrentRoute)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default().createElement(MemoShellPrimaryBarComponent, {
    activeRoute: activeRoute
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellPrimaryBar);

/***/ }),

/***/ "./src/shell/shell-secondary-bar.tsx":
/*!*******************************************!*\
  !*** ./src/shell/shell-secondary-bar.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");
/* harmony import */ var _utility_bar_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utility-bar/store */ "./src/utility-bar/store.ts");
/* harmony import */ var _utility_bar_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utility-bar/utils */ "./src/utility-bar/utils.ts");
/* harmony import */ var _collapser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./collapser */ "./src/shell/collapser.tsx");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */












var SidebarContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container).withConfig({
  displayName: "shell-secondary-bar__SidebarContainer",
  componentId: "sc-4cqsy-0"
})(["min-width:3rem;max-width:19.625rem;width:", "rem;transition:width 300ms;overflow-x:hidden;"], function (_ref) {
  var sidebarIsOpen = _ref.sidebarIsOpen;
  return sidebarIsOpen ? 19.625 : 3;
});
var ShellSecondaryBarComponent = function ShellSecondaryBarComponent(_ref2) {
  var activeRoute = _ref2.activeRoute;
  var isOpen = (0,_utility_bar_store__WEBPACK_IMPORTED_MODULE_6__.useUtilityBarStore)(function (s) {
    return s.secondaryBarState;
  });
  var setIsOpen = (0,_utility_bar_store__WEBPACK_IMPORTED_MODULE_6__.useUtilityBarStore)(function (s) {
    return s.setSecondaryBarState;
  });
  var onCollapserClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {
    return setIsOpen(!isOpen);
  }, [isOpen, setIsOpen]);
  var secondaryBarViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_5__.useAppStore)(function (s) {
    return s.views.secondaryBar;
  });
  var secondaryBarAccessoryViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_5__.useAppStore)(function (s) {
    return s.views.secondaryBarAccessories;
  });
  var accessories = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.sortBy)((0,lodash__WEBPACK_IMPORTED_MODULE_1__.filter)(secondaryBarAccessoryViews, function (v) {
      return (0,_utility_bar_utils__WEBPACK_IMPORTED_MODULE_7__.checkRoute)(v, activeRoute);
    }), 'position');
  }, [activeRoute, secondaryBarAccessoryViews]);
  var disabled = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.findIndex)(secondaryBarViews, function (view) {
      return view.id === (activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.id);
    }) < 0;
  }, [activeRoute === null || activeRoute === void 0 ? void 0 : activeRoute.id, secondaryBarViews]);
  return disabled ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(SidebarContainer, {
    "data-testid": "SideSecondaryBarContainer",
    sidebarIsOpen: isOpen,
    role: "menu",
    height: "fill",
    orientation: "vertical",
    mainAlignment: "space-between",
    onClick: isOpen ? undefined : onCollapserClick,
    style: {
      maxHeight: 'calc(100vh - 3.75rem)',
      overflowY: 'auto'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    mainAlignment: "flex-start"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_11__.Switch, null, (0,lodash__WEBPACK_IMPORTED_MODULE_1__.map)(secondaryBarViews, function (view) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_11__.Route, {
      key: view.id,
      path: "/".concat(view.route)
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__["default"], {
      pkg: view.app
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(view.component, {
      expanded: isOpen
    })));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_10__.Container, {
    mainAlignment: "flex-end",
    height: "fit"
  }, accessories.map(function (view) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__["default"], {
      key: view.id,
      pkg: view.app
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(view.component, {
      expanded: isOpen
    }));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_collapser__WEBPACK_IMPORTED_MODULE_8__.Collapser, {
    onClick: onCollapserClick,
    open: isOpen
  }));
};
var MemoShellSecondaryBar = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().memo(ShellSecondaryBarComponent);
var ShellSecondaryBar = function ShellSecondaryBar() {
  var activeRoute = (0,_history_hooks__WEBPACK_IMPORTED_MODULE_4__.useCurrentRoute)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(MemoShellSecondaryBar, {
    activeRoute: activeRoute
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellSecondaryBar);

/***/ }),

/***/ "./src/shell/shell-view.tsx":
/*!**********************************!*\
  !*** ./src/shell/shell-view.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _zextras_carbonio_ui_preview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zextras/carbonio-ui-preview */ "./node_modules/@zextras/carbonio-ui-preview/lib-esm/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _boot_theme_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../boot/theme-provider */ "./src/boot/theme-provider.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");
/* harmony import */ var _network_go_to_login__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../network/go-to-login */ "./src/network/go-to-login.ts");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _utility_bar_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utility-bar/bar */ "./src/utility-bar/bar.tsx");
/* harmony import */ var _app_view_container__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app-view-container */ "./src/shell/app-view-container.tsx");
/* harmony import */ var _boards_board_container__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./boards/board-container */ "./src/shell/boards/board-container.tsx");
/* harmony import */ var _shell_context_provider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./shell-context-provider */ "./src/shell/shell-context-provider.tsx");
/* harmony import */ var _shell_header__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./shell-header */ "./src/shell/shell-header.tsx");
/* harmony import */ var _shell_navigation_bar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./shell-navigation-bar */ "./src/shell/shell-navigation-bar.tsx");
/* harmony import */ var _dark_mode_use_dark_reader_result_value__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../dark-mode/use-dark-reader-result-value */ "./src/dark-mode/use-dark-reader-result-value.ts");
/* harmony import */ var _utility_bar_panel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utility-bar/panel */ "./src/utility-bar/panel.tsx");

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


















var Background = styled_components__WEBPACK_IMPORTED_MODULE_16__["default"].div.withConfig({
  displayName: "shell-view__Background",
  componentId: "sc-1116s2y-0"
})(["background:", ";display:flex;flex-direction:column;height:100%;min-height:100%;max-height:100%;width:100%;min-width:100%;max-width:100%;"], function (_ref) {
  var theme = _ref.theme;
  return theme.palette.gray6.regular;
});
function DarkReaderListener() {
  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_boot_theme_provider__WEBPACK_IMPORTED_MODULE_3__.ThemeCallbacksContext),
    setDarkReaderState = _useContext.setDarkReaderState;
  var darkReaderResultValue = (0,_dark_mode_use_dark_reader_result_value__WEBPACK_IMPORTED_MODULE_14__.useDarkReaderResultValue)();
  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {
    if (darkReaderResultValue) {
      setDarkReaderState(darkReaderResultValue);
    }
  }, [darkReaderResultValue, setDarkReaderState]);
  return null;
}
var useLoginRedirection = function useLoginRedirection(allowUnauthenticated) {
  var auth = (0,_store_account__WEBPACK_IMPORTED_MODULE_7__.useAccountStore)(function (s) {
    return s.authenticated;
  });
  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {
    if (_constants__WEBPACK_IMPORTED_MODULE_4__.IS_STANDALONE && !auth && !allowUnauthenticated) {
      (0,_network_go_to_login__WEBPACK_IMPORTED_MODULE_6__.goToLogin)();
    }
  }, [allowUnauthenticated, auth]);
};
var ShellComponent = function ShellComponent(_ref2) {
  var allowUnauthenticated = _ref2.allowUnauthenticated,
    hideShellHeader = _ref2.hideShellHeader;
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    mobileNavOpen = _useState2[0],
    setMobileNavOpen = _useState2[1];
  useLoginRedirection(allowUnauthenticated);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Background, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(DarkReaderListener, null), !(_constants__WEBPACK_IMPORTED_MODULE_4__.IS_STANDALONE && hideShellHeader) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_shell_header__WEBPACK_IMPORTED_MODULE_12__["default"], {
    mobileNavIsOpen: mobileNavOpen,
    onMobileMenuClick: function onMobileMenuClick() {
      return setMobileNavOpen(!mobileNavOpen);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_utility_bar_bar__WEBPACK_IMPORTED_MODULE_8__.ShellUtilityBar, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_17__.Row, {
    crossAlignment: "unset",
    style: {
      position: 'relative',
      flexGrow: '1'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_shell_navigation_bar__WEBPACK_IMPORTED_MODULE_13__["default"], {
    mobileNavIsOpen: mobileNavOpen
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_app_view_container__WEBPACK_IMPORTED_MODULE_9__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_utility_bar_panel__WEBPACK_IMPORTED_MODULE_15__.ShellUtilityPanel, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_boards_board_container__WEBPACK_IMPORTED_MODULE_10__.BoardContainer, null));
};
var MemoShell = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().memo(ShellComponent);
var ShellView = function ShellView() {
  var _activeRoute$standalo, _activeRoute$standalo2;
  var activeRoute = (0,_history_hooks__WEBPACK_IMPORTED_MODULE_5__.useCurrentRoute)();
  var allowUnauthenticated = activeRoute === null || activeRoute === void 0 ? void 0 : (_activeRoute$standalo = activeRoute.standalone) === null || _activeRoute$standalo === void 0 ? void 0 : _activeRoute$standalo.allowUnauthenticated;
  var hideShellHeader = activeRoute === null || activeRoute === void 0 ? void 0 : (_activeRoute$standalo2 = activeRoute.standalone) === null || _activeRoute$standalo2 === void 0 ? void 0 : _activeRoute$standalo2.hideShellHeader;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_shell_context_provider__WEBPACK_IMPORTED_MODULE_11__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_ui_preview__WEBPACK_IMPORTED_MODULE_1__.PreviewManager, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(MemoShell, {
    allowUnauthenticated: allowUnauthenticated,
    hideShellHeader: hideShellHeader
  })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShellView);

/***/ }),

/***/ "./src/store/account/hooks.ts":
/*!************************************!*\
  !*** ./src/store/account/hooks.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getUserAccount": () => (/* binding */ getUserAccount),
/* harmony export */   "getUserAccounts": () => (/* binding */ getUserAccounts),
/* harmony export */   "getUserRight": () => (/* binding */ getUserRight),
/* harmony export */   "getUserRights": () => (/* binding */ getUserRights),
/* harmony export */   "getUserSetting": () => (/* binding */ getUserSetting),
/* harmony export */   "getUserSettings": () => (/* binding */ getUserSettings),
/* harmony export */   "useUserAccount": () => (/* binding */ useUserAccount),
/* harmony export */   "useUserAccounts": () => (/* binding */ useUserAccounts),
/* harmony export */   "useUserRight": () => (/* binding */ useUserRight),
/* harmony export */   "useUserRights": () => (/* binding */ useUserRights),
/* harmony export */   "useUserSetting": () => (/* binding */ useUserSetting),
/* harmony export */   "useUserSettings": () => (/* binding */ useUserSettings)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store */ "./src/store/account/store.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var useUserAccount = function useUserAccount() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore)(function (s) {
    return s.account;
  });
};
var useUserAccounts = function useUserAccounts() {
  var acct = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore)(function (s) {
    return s.account;
  });
  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return acct ? [acct] : [];
  }, [acct]);
};
var useUserRights = function useUserRights() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore)(function (s) {
    var _s$account$rights, _s$account;
    return (_s$account$rights = (_s$account = s.account) === null || _s$account === void 0 ? void 0 : _s$account.rights) !== null && _s$account$rights !== void 0 ? _s$account$rights : {
      targets: []
    };
  });
};
var useUserRight = function useUserRight(right) {
  var _useUserRights = useUserRights(),
    targets = _useUserRights.targets;
  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    var _find$target, _find;
    return (_find$target = (_find = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.find)(targets, ['right', right])) === null || _find === void 0 ? void 0 : _find.target) !== null && _find$target !== void 0 ? _find$target : [];
  }, [right, targets]);
};
var useUserSettings = function useUserSettings() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore)(function (s) {
    return s.settings;
  });
};
var useUserSetting = function useUserSetting() {
  for (var _len = arguments.length, path = new Array(_len), _key = 0; _key < _len; _key++) {
    path[_key] = arguments[_key];
  }
  return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore)(function (s) {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.get)(s.settings, (0,lodash__WEBPACK_IMPORTED_MODULE_0__.join)(path, '.'));
  });
};
var getUserAccount = function getUserAccount() {
  return _store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore.getState().account;
};
var getUserAccounts = function getUserAccounts() {
  return [_store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore.getState().account];
};
var getUserSettings = function getUserSettings() {
  return _store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore.getState().settings;
};
var getUserSetting = function getUserSetting() {
  for (var _len2 = arguments.length, path = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    path[_key2] = arguments[_key2];
  }
  return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.get)(_store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore.getState().settings, (0,lodash__WEBPACK_IMPORTED_MODULE_0__.join)(path, '.'));
};
var getUserRights = function getUserRights() {
  var _useAccountStore$getS, _useAccountStore$getS2;
  return (_useAccountStore$getS = (_useAccountStore$getS2 = _store__WEBPACK_IMPORTED_MODULE_2__.useAccountStore.getState().account) === null || _useAccountStore$getS2 === void 0 ? void 0 : _useAccountStore$getS2.rights) !== null && _useAccountStore$getS !== void 0 ? _useAccountStore$getS : {
    targets: []
  };
};
var getUserRight = function getUserRight(right) {
  var _find$target2, _find2;
  return (_find$target2 = (_find2 = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.find)(getUserRights().targets, ['right', right])) === null || _find2 === void 0 ? void 0 : _find2.target) !== null && _find$target2 !== void 0 ? _find$target2 : [];
};

/***/ }),

/***/ "./src/store/account/index.ts":
/*!************************************!*\
  !*** ./src/store/account/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getUserAccount": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getUserAccount),
/* harmony export */   "getUserAccounts": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getUserAccounts),
/* harmony export */   "getUserRight": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getUserRight),
/* harmony export */   "getUserRights": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getUserRights),
/* harmony export */   "getUserSetting": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getUserSetting),
/* harmony export */   "getUserSettings": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getUserSettings),
/* harmony export */   "useAccountStore": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.useAccountStore),
/* harmony export */   "useUserAccount": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useUserAccount),
/* harmony export */   "useUserAccounts": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useUserAccounts),
/* harmony export */   "useUserRight": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useUserRight),
/* harmony export */   "useUserRights": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useUserRights),
/* harmony export */   "useUserSetting": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useUserSetting),
/* harmony export */   "useUserSettings": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useUserSettings)
/* harmony export */ });
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hooks */ "./src/store/account/hooks.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/account/store.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




/***/ }),

/***/ "./src/store/account/normalization.ts":
/*!********************************************!*\
  !*** ./src/store/account/normalization.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "normalizeAccount": () => (/* binding */ normalizeAccount)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);

/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

var normalizeSettings = function normalizeSettings(settings) {
  var _settings$props$prop;
  return {
    attrs: settings.attrs._attrs,
    prefs: settings.prefs._attrs,
    props: (_settings$props$prop = settings.props.prop) !== null && _settings$props$prop !== void 0 ? _settings$props$prop : []
  };
};
var normalizeAccount = function normalizeAccount(_ref) {
  var id = _ref.id,
    name = _ref.name,
    attrs = _ref.attrs,
    prefs = _ref.prefs,
    identities = _ref.identities,
    signatures = _ref.signatures,
    props = _ref.props,
    version = _ref.version,
    rights = _ref.rights;
  var settings = normalizeSettings({
    attrs: attrs,
    prefs: prefs,
    props: props
  });
  return {
    account: {
      id: id,
      name: name,
      displayName: attrs._attrs.displayName,
      identities: identities,
      signatures: signatures,
      rights: rights
    },
    settings: settings,
    version: version
  };
};

/***/ }),

/***/ "./src/store/account/store.ts":
/*!************************************!*\
  !*** ./src/store/account/store.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useAccountStore": () => (/* binding */ useAccountStore)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.date.now.js */ "./node_modules/core-js/modules/es.date.now.js");
/* harmony import */ var core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_now_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.date.to-string.js */ "./node_modules/core-js/modules/es.date.to-string.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");


/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useAccountStore = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)()(function () {
  return {
    authenticated: false,
    account: undefined,
    version: '',
    settings: {
      prefs: {},
      attrs: {},
      props: []
    },
    usedQuota: 0,
    lastNotificationTime: Date.now()
  };
});

/***/ }),

/***/ "./src/store/app/hooks.ts":
/*!********************************!*\
  !*** ./src/store/app/hooks.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getApp": () => (/* binding */ getApp),
/* harmony export */   "getAppContext": () => (/* binding */ getAppContext),
/* harmony export */   "getAppList": () => (/* binding */ getAppList),
/* harmony export */   "getApps": () => (/* binding */ getApps),
/* harmony export */   "getRoute": () => (/* binding */ getRoute),
/* harmony export */   "getRoutes": () => (/* binding */ getRoutes),
/* harmony export */   "getShell": () => (/* binding */ getShell),
/* harmony export */   "useApp": () => (/* binding */ useApp),
/* harmony export */   "useAppContext": () => (/* binding */ useAppContext),
/* harmony export */   "useAppList": () => (/* binding */ useAppList),
/* harmony export */   "useApps": () => (/* binding */ useApps),
/* harmony export */   "useRoute": () => (/* binding */ useRoute),
/* harmony export */   "useRoutes": () => (/* binding */ useRoutes)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store */ "./src/store/app/store.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

/* eslint-disable react-hooks/rules-of-hooks */
/* THIS FILE CONTAINS HOOKS, BUT ESLINT IS DUMB */




var useApp = function useApp(appId) {
  return function () {
    return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function (s) {
      return s.apps[appId];
    });
  };
};
var useApps = function useApps() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function (s) {
    return s.apps;
  });
};
var useAppList = function useAppList() {
  var apps = useApps();
  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(apps, function (a) {
      return a.priority;
    });
  }, [apps]);
};
var getAppList = function getAppList() {
  return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore.getState().apps, function (a) {
    return a.priority;
  });
};
var getApp = function getApp(appId) {
  return function () {
    return _store__WEBPACK_IMPORTED_MODULE_2__.useAppStore.getState().apps[appId];
  };
};
var getApps = function getApps() {
  return _store__WEBPACK_IMPORTED_MODULE_2__.useAppStore.getState().apps;
};
var useAppContext = function useAppContext(appId) {
  return function () {
    return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function (s) {
      return s.appContexts[appId];
    });
  };
};
var getAppContext = function getAppContext(appId) {
  return function () {
    return _store__WEBPACK_IMPORTED_MODULE_2__.useAppStore.getState().appContexts[appId];
  };
};
var getShell = function getShell() {
  return _store__WEBPACK_IMPORTED_MODULE_2__.useAppStore.getState().shell;
};
var getRoutes = function getRoutes() {
  return _store__WEBPACK_IMPORTED_MODULE_2__.useAppStore.getState().routes;
};
var useRoutes = function useRoutes() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function (s) {
    return s.routes;
  });
};
var getRoute = function getRoute(id) {
  return _store__WEBPACK_IMPORTED_MODULE_2__.useAppStore.getState().routes[id];
};
var useRoute = function useRoute(id) {
  return (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function (s) {
    return s.routes[id];
  });
};

/***/ }),

/***/ "./src/store/app/index.ts":
/*!********************************!*\
  !*** ./src/store/app/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getApp": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getApp),
/* harmony export */   "getAppContext": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getAppContext),
/* harmony export */   "getAppList": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getAppList),
/* harmony export */   "getApps": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getApps),
/* harmony export */   "getRoute": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getRoute),
/* harmony export */   "getRoutes": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getRoutes),
/* harmony export */   "getShell": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getShell),
/* harmony export */   "normalizeApp": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizeApp),
/* harmony export */   "normalizeBadgeInfo": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizeBadgeInfo),
/* harmony export */   "normalizeBoardView": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizeBoardView),
/* harmony export */   "normalizePrimaryAccessoryView": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizePrimaryAccessoryView),
/* harmony export */   "normalizeRoute": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizeRoute),
/* harmony export */   "normalizeSearchView": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizeSearchView),
/* harmony export */   "normalizeSecondaryAccessoryView": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizeSecondaryAccessoryView),
/* harmony export */   "normalizeSettingsView": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizeSettingsView),
/* harmony export */   "normalizeUtilityView": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.normalizeUtilityView),
/* harmony export */   "useApp": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useApp),
/* harmony export */   "useAppContext": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useAppContext),
/* harmony export */   "useAppList": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useAppList),
/* harmony export */   "useAppStore": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.useAppStore),
/* harmony export */   "useApps": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useApps),
/* harmony export */   "useRoute": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useRoute),
/* harmony export */   "useRoutes": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useRoutes)
/* harmony export */ });
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hooks */ "./src/store/app/hooks.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/app/store.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./src/store/app/utils.tsx");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





/***/ }),

/***/ "./src/store/app/store.ts":
/*!********************************!*\
  !*** ./src/store/app/store.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useAppStore": () => (/* binding */ useAppStore)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! immer */ "./node_modules/immer/dist/immer.esm.mjs");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils */ "./src/store/app/utils.tsx");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }













/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






var filterById = function filterById(items, id) {
  return (0,lodash__WEBPACK_IMPORTED_MODULE_14__.filter)(items, function (item) {
    return item.id !== id;
  });
};
var STANDALONE_RESPONSE = 'standalone';

// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useAppStore = (0,zustand__WEBPACK_IMPORTED_MODULE_17__.create)()(function (set, get) {
  return {
    standalone: false,
    apps: {},
    appContexts: {},
    shell: {
      commit: '',
      description: '',
      js_entrypoint: '',
      name: _constants__WEBPACK_IMPORTED_MODULE_15__.SHELL_APP_ID,
      priority: -1,
      version: '',
      type: 'shell',
      attrKey: '',
      icon: '',
      display: 'Shell'
    },
    entryPoints: {},
    routes: {},
    views: {
      primaryBar: [],
      secondaryBar: [],
      appView: [],
      board: [],
      utilityBar: [],
      settings: [],
      search: [],
      primaryBarAccessories: [],
      secondaryBarAccessories: []
    },
    setters: {
      addApps: function addApps(apps) {
        set(function (state) {
          var _find;
          return {
            apps: (0,lodash__WEBPACK_IMPORTED_MODULE_14__.reduce)(apps, function (acc, app) {
              return app.name && app.name !== _constants__WEBPACK_IMPORTED_MODULE_15__.SHELL_APP_ID ? _objectSpread(_objectSpread({}, acc), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, app.name, (0,_utils__WEBPACK_IMPORTED_MODULE_16__.normalizeApp)(app))) : acc;
            }, {}),
            shell: _objectSpread(_objectSpread({}, state.shell), (_find = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.find)(apps, function (app) {
              return app.name === _constants__WEBPACK_IMPORTED_MODULE_15__.SHELL_APP_ID;
            })) !== null && _find !== void 0 ? _find : {}),
            appContexts: (0,lodash__WEBPACK_IMPORTED_MODULE_14__.reduce)(apps, function (acc, val) {
              return val.name ? _objectSpread(_objectSpread({}, acc), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, val.name, {})) : acc;
            }, {})
          };
        });
      },
      setAppContext: function setAppContext(app) {
        return function (context) {
          set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
            state.appContexts[app] = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.merge)(state.appContexts[app], context);
          }));
        };
      },
      // add route (id route primaryBar secondaryBar app)
      addRoute: function addRoute(routeData) {
        var _get = get(),
          standalone = _get.standalone;
        if (standalone && routeData.route !== standalone) {
          return STANDALONE_RESPONSE;
        }
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.routes[routeData.id] = routeData;
          if (routeData.primaryBar) {
            state.views.primaryBar = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.sortBy)((0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionWith)([{
              app: routeData.app,
              id: routeData.id,
              route: routeData.route,
              component: routeData.primaryBar,
              badge: routeData.badge,
              position: routeData.position,
              visible: routeData.visible,
              label: routeData.label
            }], state.views.primaryBar, function (a, b) {
              return a.id === b.id;
            }), 'position');
          }
          if (routeData.secondaryBar) {
            state.views.secondaryBar = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionWith)([{
              app: routeData.app,
              id: routeData.id,
              route: routeData.route,
              component: routeData.secondaryBar
            }], state.views.secondaryBar, function (a, b) {
              return a.id === b.id;
            });
          }
          if (routeData.appView) {
            state.views.appView = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionWith)([{
              app: routeData.app,
              id: routeData.id,
              route: routeData.route,
              component: routeData.appView
            }], state.views.appView, function (a, b) {
              return a.id === b.id;
            });
          }
          if (routeData.app) {
            state.apps[routeData.app].display = routeData.label;
          }
        }));
        return routeData.id;
      },
      setRouteVisibility: function setRouteVisibility(id, visible) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          var idx = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.findIndex)(state.views.primaryBar, function (view) {
            return view.id === id;
          });
          if (idx >= 0) {
            state.views.primaryBar[idx].visible = visible;
          }
        }));
      },
      // remove route (id | route)
      removeRoute: function removeRoute(id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.routes = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.omit)(state.routes, [id]);
          state.views.primaryBar = filterById(state.views.primaryBar, id);
          state.views.secondaryBar = filterById(state.views.secondaryBar, id);
          state.views.appView = filterById(state.views.appView, id);
        }));
      },
      // add board
      addBoardView: function addBoardView(data) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.board = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionBy)([data], state.views.board, 'id');
        }));
        return data.id;
      },
      // remove board
      removeBoardView: function removeBoardView(id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.board = filterById(state.views.board, id);
        }));
      },
      // add settings
      addSettingsView: function addSettingsView(data) {
        var _get2 = get(),
          standalone = _get2.standalone;
        if (standalone && data.route !== standalone) {
          return STANDALONE_RESPONSE;
        }
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.settings = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.sortBy)((0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionBy)([data], state.views.settings, 'id'), 'position');
        }));
        return data.id;
      },
      // remove settings
      removeSettingsView: function removeSettingsView(id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.settings = filterById(state.views.settings, id);
        }));
      },
      //
      // add search
      addSearchView: function addSearchView(data) {
        var _get3 = get(),
          standalone = _get3.standalone;
        if (standalone && data.route !== standalone) {
          return STANDALONE_RESPONSE;
        }
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.search = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.sortBy)((0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionBy)([data], state.views.search, 'id'), 'position');
        }));
        return data.id;
      },
      // remove search
      removeSearchView: function removeSearchView(id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.search = filterById(state.views.search, id);
        }));
      },
      //
      // add utility
      addUtilityView: function addUtilityView(data) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.utilityBar = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.sortBy)((0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionBy)([data], state.views.utilityBar, 'id'), 'position');
        }));
        return data.id;
      },
      // remove utility
      removeUtilityView: function removeUtilityView(id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.utilityBar = filterById(state.views.utilityBar, id);
        }));
      },
      //
      // add primaryAccessory
      addPrimaryAccessoryView: function addPrimaryAccessoryView(data) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.primaryBarAccessories = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionBy)([data], state.views.primaryBarAccessories, 'id');
        }));
        return data.id;
      },
      // remove primaryAccessory
      removePrimaryAccessoryView: function removePrimaryAccessoryView(id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.primaryBarAccessories = filterById(state.views.primaryBarAccessories, id);
        }));
      },
      //
      // add secondaryAccessory
      addSecondaryAccessoryView: function addSecondaryAccessoryView(data) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.secondaryBarAccessories = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.unionBy)([data], state.views.secondaryBarAccessories, 'id');
        }));
        return data.id;
      },
      // remove secondaryAccessory
      removeSecondaryAccessoryView: function removeSecondaryAccessoryView(id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          state.views.secondaryBarAccessories = filterById(state.views.secondaryBarAccessories, id);
        }));
      },
      updatePrimaryBadge: function updatePrimaryBadge(badge, id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          var idx = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.findIndex)(state.views.primaryBar, function (bar) {
            return bar.id === id;
          });
          if (idx >= 0) {
            state.views.primaryBar[idx].badge = _objectSpread(_objectSpread({}, state.views.primaryBar[idx].badge), badge);
          }
        }));
      },
      updateUtilityBadge: function updateUtilityBadge(badge, id) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_18__["default"])(function (state) {
          var idx = (0,lodash__WEBPACK_IMPORTED_MODULE_14__.findIndex)(state.views.utilityBar, function (bar) {
            return bar.id === id;
          });
          if (idx >= 0) {
            state.views.utilityBar[idx].badge = _objectSpread(_objectSpread({}, state.views.utilityBar[idx].badge), badge);
          }
        }));
      }
    }
  };
});

/***/ }),

/***/ "./src/store/app/utils.tsx":
/*!*********************************!*\
  !*** ./src/store/app/utils.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "normalizeApp": () => (/* binding */ normalizeApp),
/* harmony export */   "normalizeBadgeInfo": () => (/* binding */ normalizeBadgeInfo),
/* harmony export */   "normalizeBoardView": () => (/* binding */ normalizeBoardView),
/* harmony export */   "normalizePrimaryAccessoryView": () => (/* binding */ normalizePrimaryAccessoryView),
/* harmony export */   "normalizeRoute": () => (/* binding */ normalizeRoute),
/* harmony export */   "normalizeSearchView": () => (/* binding */ normalizeSearchView),
/* harmony export */   "normalizeSecondaryAccessoryView": () => (/* binding */ normalizeSecondaryAccessoryView),
/* harmony export */   "normalizeSettingsView": () => (/* binding */ normalizeSettingsView),
/* harmony export */   "normalizeUtilityView": () => (/* binding */ normalizeUtilityView)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "./node_modules/core-js/modules/es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);



/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var normalizeApp = function normalizeApp(app) {
  var _app$commit, _app$description, _app$js_entrypoint, _app$name, _app$priority, _app$version, _app$type, _app$icon, _app$display;
  return {
    commit: (_app$commit = app.commit) !== null && _app$commit !== void 0 ? _app$commit : '',
    description: (_app$description = app.description) !== null && _app$description !== void 0 ? _app$description : 'A carbonio Module',
    // eslint-disable-next-line camelcase
    js_entrypoint: (_app$js_entrypoint = app.js_entrypoint) !== null && _app$js_entrypoint !== void 0 ? _app$js_entrypoint : '',
    name: (_app$name = app.name) !== null && _app$name !== void 0 ? _app$name : 'module',
    priority: (_app$priority = app.priority) !== null && _app$priority !== void 0 ? _app$priority : 99,
    version: (_app$version = app.version) !== null && _app$version !== void 0 ? _app$version : '',
    type: (_app$type = app.type) !== null && _app$type !== void 0 ? _app$type : 'carbonio',
    attrKey: app.attrKey,
    icon: (_app$icon = app.icon) !== null && _app$icon !== void 0 ? _app$icon : 'Cube',
    display: (_app$display = app.display) !== null && _app$display !== void 0 ? _app$display : 'Module',
    sentryDsn: app.sentryDsn
  };
};
var FallbackView = function FallbackView() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement("p", null, "Missing Component");
};
var normalizeBadgeInfo = function normalizeBadgeInfo(badge) {
  var _badge$show, _badge$count, _badge$showCount, _badge$color;
  return {
    show: (_badge$show = badge.show) !== null && _badge$show !== void 0 ? _badge$show : false,
    count: (_badge$count = badge.count) !== null && _badge$count !== void 0 ? _badge$count : 0,
    showCount: (_badge$showCount = badge.showCount) !== null && _badge$showCount !== void 0 ? _badge$showCount : false,
    color: (_badge$color = badge.color) !== null && _badge$color !== void 0 ? _badge$color : 'primary'
  };
};
var normalizeRoute = function normalizeRoute(data, app) {
  var _data$route, _data$id, _data$badge, _data$position, _data$visible, _data$label, _ref, _data$primaryBar, _data$appView, _data$standalone, _data$standalone2, _data$standalone3;
  var route = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.trim)((_data$route = data.route) !== null && _data$route !== void 0 ? _data$route : app.name, '/');
  return {
    app: app.name,
    route: route,
    id: (_data$id = data.id) !== null && _data$id !== void 0 ? _data$id : route,
    badge: normalizeBadgeInfo((_data$badge = data === null || data === void 0 ? void 0 : data.badge) !== null && _data$badge !== void 0 ? _data$badge : {}),
    position: (_data$position = data === null || data === void 0 ? void 0 : data.position) !== null && _data$position !== void 0 ? _data$position : app.priority,
    visible: (_data$visible = data === null || data === void 0 ? void 0 : data.visible) !== null && _data$visible !== void 0 ? _data$visible : true,
    label: (_data$label = data === null || data === void 0 ? void 0 : data.label) !== null && _data$label !== void 0 ? _data$label : '',
    primaryBar: (_ref = (_data$primaryBar = data.primaryBar) !== null && _data$primaryBar !== void 0 ? _data$primaryBar : app.icon) !== null && _ref !== void 0 ? _ref : 'CubeOutline',
    secondaryBar: data.secondaryBar,
    appView: (_data$appView = data.appView) !== null && _data$appView !== void 0 ? _data$appView : FallbackView,
    standalone: {
      hidePrimaryBar: data === null || data === void 0 ? void 0 : (_data$standalone = data.standalone) === null || _data$standalone === void 0 ? void 0 : _data$standalone.hidePrimaryBar,
      hideShellHeader: data === null || data === void 0 ? void 0 : (_data$standalone2 = data.standalone) === null || _data$standalone2 === void 0 ? void 0 : _data$standalone2.hideShellHeader,
      allowUnauthenticated: data === null || data === void 0 ? void 0 : (_data$standalone3 = data.standalone) === null || _data$standalone3 === void 0 ? void 0 : _data$standalone3.allowUnauthenticated
    }
  };
};
var normalizeSettingsView = function normalizeSettingsView(data, app) {
  var _data$route2, _data$id2, _data$component, _data$label2, _data$icon, _ref2, _data$position2, _data$subSections;
  var route = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.trim)((_data$route2 = data.route) !== null && _data$route2 !== void 0 ? _data$route2 : app.name, '/');
  return {
    app: app.name,
    route: route,
    id: (_data$id2 = data === null || data === void 0 ? void 0 : data.id) !== null && _data$id2 !== void 0 ? _data$id2 : route,
    component: (_data$component = data === null || data === void 0 ? void 0 : data.component) !== null && _data$component !== void 0 ? _data$component : FallbackView,
    label: (_data$label2 = data.label) !== null && _data$label2 !== void 0 ? _data$label2 : app.display,
    icon: (_data$icon = data.icon) !== null && _data$icon !== void 0 ? _data$icon : app.icon,
    position: (_ref2 = (_data$position2 = data.position) !== null && _data$position2 !== void 0 ? _data$position2 : app.priority) !== null && _ref2 !== void 0 ? _ref2 : 99,
    subSections: (_data$subSections = data.subSections) !== null && _data$subSections !== void 0 ? _data$subSections : []
  };
};
var normalizeSearchView = function normalizeSearchView(data, app) {
  var _data$route3, _data$id3, _data$component2, _data$label3, _data$icon2, _ref3, _data$position3;
  var route = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.trim)((_data$route3 = data.route) !== null && _data$route3 !== void 0 ? _data$route3 : app.name, '/');
  return {
    app: app.name,
    route: route,
    id: (_data$id3 = data === null || data === void 0 ? void 0 : data.id) !== null && _data$id3 !== void 0 ? _data$id3 : route,
    component: (_data$component2 = data === null || data === void 0 ? void 0 : data.component) !== null && _data$component2 !== void 0 ? _data$component2 : FallbackView,
    label: (_data$label3 = data.label) !== null && _data$label3 !== void 0 ? _data$label3 : app.display,
    icon: (_data$icon2 = data.icon) !== null && _data$icon2 !== void 0 ? _data$icon2 : app.icon,
    position: (_ref3 = (_data$position3 = data.position) !== null && _data$position3 !== void 0 ? _data$position3 : app.priority) !== null && _ref3 !== void 0 ? _ref3 : 99
  };
};
var normalizeUtilityView = function normalizeUtilityView(data, app) {
  var _data$id4, _data$component3, _data$button, _data$badge2, _data$position4, _data$label4;
  return {
    app: app.name,
    id: (_data$id4 = data === null || data === void 0 ? void 0 : data.id) !== null && _data$id4 !== void 0 ? _data$id4 : app.name,
    whitelistRoutes: data === null || data === void 0 ? void 0 : data.whitelistRoutes,
    blacklistRoutes: data === null || data === void 0 ? void 0 : data.blacklistRoutes,
    component: (_data$component3 = data === null || data === void 0 ? void 0 : data.component) !== null && _data$component3 !== void 0 ? _data$component3 : FallbackView,
    button: (_data$button = data === null || data === void 0 ? void 0 : data.button) !== null && _data$button !== void 0 ? _data$button : 'Cube',
    badge: normalizeBadgeInfo((_data$badge2 = data === null || data === void 0 ? void 0 : data.badge) !== null && _data$badge2 !== void 0 ? _data$badge2 : {}),
    position: (_data$position4 = data === null || data === void 0 ? void 0 : data.position) !== null && _data$position4 !== void 0 ? _data$position4 : app.priority,
    label: (_data$label4 = data === null || data === void 0 ? void 0 : data.label) !== null && _data$label4 !== void 0 ? _data$label4 : app.display
  };
};
var normalizePrimaryAccessoryView = function normalizePrimaryAccessoryView(data, app) {
  var _data$label5, _data$position5, _data$id5, _data$component4;
  return {
    app: app.name,
    onClick: data === null || data === void 0 ? void 0 : data.onClick,
    label: (_data$label5 = data === null || data === void 0 ? void 0 : data.label) !== null && _data$label5 !== void 0 ? _data$label5 : app.display,
    position: (_data$position5 = data === null || data === void 0 ? void 0 : data.position) !== null && _data$position5 !== void 0 ? _data$position5 : app.priority,
    whitelistRoutes: data === null || data === void 0 ? void 0 : data.whitelistRoutes,
    blacklistRoutes: data === null || data === void 0 ? void 0 : data.blacklistRoutes,
    id: (_data$id5 = data === null || data === void 0 ? void 0 : data.id) !== null && _data$id5 !== void 0 ? _data$id5 : app.name,
    component: (_data$component4 = data === null || data === void 0 ? void 0 : data.component) !== null && _data$component4 !== void 0 ? _data$component4 : FallbackView
  };
};
var normalizeSecondaryAccessoryView = function normalizeSecondaryAccessoryView(data, app) {
  var _data$position6, _data$id6, _data$component5;
  return {
    app: app.name,
    position: (_data$position6 = data === null || data === void 0 ? void 0 : data.position) !== null && _data$position6 !== void 0 ? _data$position6 : app.priority,
    whitelistRoutes: data === null || data === void 0 ? void 0 : data.whitelistRoutes,
    blacklistRoutes: data === null || data === void 0 ? void 0 : data.blacklistRoutes,
    id: (_data$id6 = data === null || data === void 0 ? void 0 : data.id) !== null && _data$id6 !== void 0 ? _data$id6 : app.name,
    component: (_data$component5 = data === null || data === void 0 ? void 0 : data.component) !== null && _data$component5 !== void 0 ? _data$component5 : FallbackView
  };
};
var normalizeBoardView = function normalizeBoardView(data, app) {
  var _data$route4, _data$id7, _data$component6;
  var route = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.trim)((_data$route4 = data.route) !== null && _data$route4 !== void 0 ? _data$route4 : app.name, '/');
  return {
    app: app.name,
    route: route,
    id: (_data$id7 = data === null || data === void 0 ? void 0 : data.id) !== null && _data$id7 !== void 0 ? _data$id7 : route,
    component: (_data$component6 = data === null || data === void 0 ? void 0 : data.component) !== null && _data$component6 !== void 0 ? _data$component6 : FallbackView
  };
};

/***/ }),

/***/ "./src/store/boards/hooks.tsx":
/*!************************************!*\
  !*** ./src/store/boards/hooks.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BoardProvider": () => (/* binding */ BoardProvider),
/* harmony export */   "boardContext": () => (/* binding */ boardContext),
/* harmony export */   "boardHooksContext": () => (/* binding */ boardHooksContext),
/* harmony export */   "getBoardById": () => (/* binding */ getBoardById),
/* harmony export */   "getBoardContextById": () => (/* binding */ getBoardContextById),
/* harmony export */   "useBoard": () => (/* binding */ useBoard),
/* harmony export */   "useBoardById": () => (/* binding */ useBoardById),
/* harmony export */   "useBoardContextById": () => (/* binding */ useBoardContextById),
/* harmony export */   "useBoardHooks": () => (/* binding */ useBoardHooks)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/boards/store.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


var useBoardById = function useBoardById(id) {
  return (0,_store__WEBPACK_IMPORTED_MODULE_1__.useBoardStore)(function (s) {
    return s.boards[id];
  });
};
var getBoardById = function getBoardById(id) {
  return _store__WEBPACK_IMPORTED_MODULE_1__.useBoardStore.getState().boards[id];
};
var useBoardContextById = function useBoardContextById(id) {
  return (0,_store__WEBPACK_IMPORTED_MODULE_1__.useBoardStore)(function (s) {
    return s.boards[id].context;
  });
};
var getBoardContextById = function getBoardContextById(id) {
  return _store__WEBPACK_IMPORTED_MODULE_1__.useBoardStore.getState().boards[id].context;
};

// Must be empty if no board is available
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
var boardContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();
// Must be empty if no board is available
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
var boardHooksContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();
var BoardProvider = function BoardProvider(_ref) {
  var children = _ref.children,
    id = _ref.id;
  var board = useBoardById(id);
  var callbacks = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return {
      getBoardContext: function getBoardContext() {
        return getBoardContextById(id);
      },
      getBoard: function getBoard() {
        return getBoardById(id);
      },
      closeBoard: function closeBoard() {
        return (0,_store__WEBPACK_IMPORTED_MODULE_1__.closeBoard)(id);
      },
      updateBoard: function updateBoard(b) {
        return (0,_store__WEBPACK_IMPORTED_MODULE_1__.updateBoard)(id, b);
      },
      setCurrentBoard: function setCurrentBoard() {
        return (0,_store__WEBPACK_IMPORTED_MODULE_1__.setCurrentBoard)(id);
      }
    };
  }, [id]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(boardHooksContext.Provider, {
    value: callbacks
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(boardContext.Provider, {
    value: board
  }, children));
};
var useBoardHooks = function useBoardHooks() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(boardHooksContext);
};
var useBoard = function useBoard() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(boardContext);
};

/***/ }),

/***/ "./src/store/boards/index.ts":
/*!***********************************!*\
  !*** ./src/store/boards/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BoardProvider": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.BoardProvider),
/* harmony export */   "addBoard": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.addBoard),
/* harmony export */   "boardContext": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.boardContext),
/* harmony export */   "boardHooksContext": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.boardHooksContext),
/* harmony export */   "closeAllBoards": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.closeAllBoards),
/* harmony export */   "closeBoard": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.closeBoard),
/* harmony export */   "expandBoards": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.expandBoards),
/* harmony export */   "getBoardById": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getBoardById),
/* harmony export */   "getBoardContextById": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getBoardContextById),
/* harmony export */   "minimizeBoards": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.minimizeBoards),
/* harmony export */   "onGoToPanel": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.onGoToPanel),
/* harmony export */   "reduceBoards": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.reduceBoards),
/* harmony export */   "reopenBoards": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.reopenBoards),
/* harmony export */   "setCurrentBoard": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.setCurrentBoard),
/* harmony export */   "updateBoard": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.updateBoard),
/* harmony export */   "updateBoardContext": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.updateBoardContext),
/* harmony export */   "useBoard": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useBoard),
/* harmony export */   "useBoardById": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useBoardById),
/* harmony export */   "useBoardContextById": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useBoardContextById),
/* harmony export */   "useBoardHooks": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useBoardHooks),
/* harmony export */   "useBoardStore": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.useBoardStore)
/* harmony export */ });
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hooks */ "./src/store/boards/hooks.tsx");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/boards/store.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



/***/ }),

/***/ "./src/store/boards/store.ts":
/*!***********************************!*\
  !*** ./src/store/boards/store.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addBoard": () => (/* binding */ addBoard),
/* harmony export */   "closeAllBoards": () => (/* binding */ closeAllBoards),
/* harmony export */   "closeBoard": () => (/* binding */ closeBoard),
/* harmony export */   "expandBoards": () => (/* binding */ expandBoards),
/* harmony export */   "minimizeBoards": () => (/* binding */ minimizeBoards),
/* harmony export */   "onGoToPanel": () => (/* binding */ onGoToPanel),
/* harmony export */   "reduceBoards": () => (/* binding */ reduceBoards),
/* harmony export */   "reopenBoards": () => (/* binding */ reopenBoards),
/* harmony export */   "setCurrentBoard": () => (/* binding */ setCurrentBoard),
/* harmony export */   "updateBoard": () => (/* binding */ updateBoard),
/* harmony export */   "updateBoardContext": () => (/* binding */ updateBoardContext),
/* harmony export */   "useBoardStore": () => (/* binding */ useBoardStore)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.find-index.js */ "./node_modules/core-js/modules/es.array.find-index.js");
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ "./node_modules/core-js/modules/es.array.splice.js");
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! immer */ "./node_modules/immer/dist/immer.esm.mjs");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../app */ "./src/store/app/index.ts");













function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useBoardStore = (0,zustand__WEBPACK_IMPORTED_MODULE_15__.create)()(function () {
  return {
    orderedBoards: [],
    boards: {},
    expanded: false,
    minimized: false
  };
});
var addBoard = function addBoard(app) {
  return function (board, expanded) {
    var _board$id;
    var id = (_board$id = board.id) !== null && _board$id !== void 0 ? _board$id : (0,lodash__WEBPACK_IMPORTED_MODULE_13__.uniqueId)('board-');
    useBoardStore.setState((0,immer__WEBPACK_IMPORTED_MODULE_16__["default"])(function (state) {
      var _ref, _board$icon, _getApp;
      state.boards[id] = _objectSpread(_objectSpread({}, board), {}, {
        app: app,
        id: id,
        icon: (_ref = (_board$icon = board.icon) !== null && _board$icon !== void 0 ? _board$icon : (_getApp = (0,_app__WEBPACK_IMPORTED_MODULE_14__.getApp)(app)()) === null || _getApp === void 0 ? void 0 : _getApp.icon) !== null && _ref !== void 0 ? _ref : 'CubeOutline',
        url: (0,lodash__WEBPACK_IMPORTED_MODULE_13__.trimStart)(board.url, '/')
      });
      state.current = id;
      state.minimized = false;
      state.expanded = expanded !== null && expanded !== void 0 ? expanded : state.expanded;
      state.orderedBoards.unshift(id);
    }));
    return useBoardStore.getState().boards[id];
  };
};
var closeBoard = function closeBoard(id) {
  useBoardStore.setState((0,immer__WEBPACK_IMPORTED_MODULE_16__["default"])(function (state) {
    var _state$boards$id, _state$boards$id$onCl;
    (_state$boards$id = state.boards[id]) === null || _state$boards$id === void 0 ? void 0 : (_state$boards$id$onCl = _state$boards$id.onClose) === null || _state$boards$id$onCl === void 0 ? void 0 : _state$boards$id$onCl.call(_state$boards$id, state.boards[id]);
    delete state.boards[id];
    var index = state.orderedBoards.findIndex(function (boardId) {
      return boardId === id;
    });
    if (state.current === id) {
      state.current = state.orderedBoards[index + 1] || state.orderedBoards[index - 1];
    }
    if (index !== -1) {
      state.orderedBoards.splice(index, 1);
    }
  }));
};
var closeAllBoards = function closeAllBoards() {
  useBoardStore.setState((0,immer__WEBPACK_IMPORTED_MODULE_16__["default"])(function (state) {
    (0,lodash__WEBPACK_IMPORTED_MODULE_13__.forEach)(state.boards, function (b) {
      var _b$onClose;
      b === null || b === void 0 ? void 0 : (_b$onClose = b.onClose) === null || _b$onClose === void 0 ? void 0 : _b$onClose.call(b, b);
      delete state.boards[b.id];
    });
    state.orderedBoards = [];
  }));
};
var onGoToPanel = function onGoToPanel() {
  useBoardStore.setState((0,immer__WEBPACK_IMPORTED_MODULE_16__["default"])(function (state) {
    var id = state.current;
    if (id) {
      var _state$boards$id2, _state$boards$id2$onG;
      (_state$boards$id2 = state.boards[id]) === null || _state$boards$id2 === void 0 ? void 0 : (_state$boards$id2$onG = _state$boards$id2.onGoToPanel) === null || _state$boards$id2$onG === void 0 ? void 0 : _state$boards$id2$onG.call(_state$boards$id2, state.boards[id]);
      delete state.boards[id];
      var index = state.orderedBoards.findIndex(function (boardId) {
        return boardId === id;
      });
      if (index !== -1) {
        state.orderedBoards.splice(index, 1);
      }
    }
  }));
};
var minimizeBoards = function minimizeBoards() {
  useBoardStore.setState({
    minimized: true
  });
};
var reopenBoards = function reopenBoards() {
  useBoardStore.setState({
    minimized: false
  });
};
var expandBoards = function expandBoards() {
  useBoardStore.setState({
    expanded: true
  });
};
var reduceBoards = function reduceBoards() {
  useBoardStore.setState({
    expanded: false
  });
};
var setCurrentBoard = function setCurrentBoard(id) {
  useBoardStore.setState({
    current: id
  });
};
var updateBoard = function updateBoard(id, board) {
  useBoardStore.setState((0,immer__WEBPACK_IMPORTED_MODULE_16__["default"])(function (state) {
    if (state.boards[id]) state.boards[id] = _objectSpread(_objectSpread({}, state.boards[id]), board);
  }));
};
var updateBoardContext = function updateBoardContext(id, context) {
  useBoardStore.setState((0,immer__WEBPACK_IMPORTED_MODULE_16__["default"])(function (state) {
    if (state.boards[id]) {
      state.boards[id].context = context;
    }
  }));
};

/***/ }),

/***/ "./src/store/context-bridge.ts":
/*!*************************************!*\
  !*** ./src/store/context-bridge.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useBridge": () => (/* binding */ useBridge),
/* harmony export */   "useContextBridge": () => (/* binding */ useContextBridge)
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useContextBridge = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)()(function (set) {
  return {
    packageDependentFunctions: {},
    functions: {},
    add: function add(_ref) {
      var packageDependentFunctions = _ref.packageDependentFunctions,
        functions = _ref.functions;
      set(function (s) {
        return {
          packageDependentFunctions: (0,lodash__WEBPACK_IMPORTED_MODULE_0__.reduce)(packageDependentFunctions !== null && packageDependentFunctions !== void 0 ? packageDependentFunctions : {}, function (acc, f, key) {
            // eslint-disable-next-line no-param-reassign
            acc[key] = f;
            return acc;
          }, s.packageDependentFunctions),
          functions: (0,lodash__WEBPACK_IMPORTED_MODULE_0__.reduce)(functions !== null && functions !== void 0 ? functions : {}, function (acc, f, key) {
            // eslint-disable-next-line no-param-reassign
            acc[key] = f;
            return acc;
          }, s.functions)
        };
      });
    }
  };
});
var useBridge = function useBridge(content) {
  var addFunctions = useContextBridge(function (_ref2) {
    var add = _ref2.add;
    return add;
  });
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {
    addFunctions(content);
  }, [content, addFunctions]);
};

/***/ }),

/***/ "./src/store/folder/hooks.ts":
/*!***********************************!*\
  !*** ./src/store/folder/hooks.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFolder": () => (/* binding */ getFolder),
/* harmony export */   "getFolders": () => (/* binding */ getFolders),
/* harmony export */   "getRoot": () => (/* binding */ getRoot),
/* harmony export */   "getRootByUser": () => (/* binding */ getRootByUser),
/* harmony export */   "getRoots": () => (/* binding */ getRoots),
/* harmony export */   "getSearchFolder": () => (/* binding */ getSearchFolder),
/* harmony export */   "getSearchFolders": () => (/* binding */ getSearchFolders),
/* harmony export */   "useFolder": () => (/* binding */ useFolder),
/* harmony export */   "useFolders": () => (/* binding */ useFolders),
/* harmony export */   "useFoldersAccordionByView": () => (/* binding */ useFoldersAccordionByView),
/* harmony export */   "useFoldersByView": () => (/* binding */ useFoldersByView),
/* harmony export */   "useRoot": () => (/* binding */ useRoot),
/* harmony export */   "useRootByUser": () => (/* binding */ useRootByUser),
/* harmony export */   "useRoots": () => (/* binding */ useRoots),
/* harmony export */   "useSearchFolder": () => (/* binding */ useSearchFolder),
/* harmony export */   "useSearchFolders": () => (/* binding */ useSearchFolders)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ "./node_modules/core-js/modules/es.object.values.js");
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./store */ "./src/store/folder/store.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils */ "./src/store/folder/utils.ts");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }












/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





// FOLDERS
var useFolder = function useFolder(id) {
  return (0,_store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore)(function (s) {
    var _s$folders;
    return (_s$folders = s.folders) === null || _s$folders === void 0 ? void 0 : _s$folders[id];
  });
};
var getFolder = function getFolder(id) {
  var _useFolderStore$getSt, _useFolderStore$getSt2;
  return (_useFolderStore$getSt = _store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore.getState()) === null || _useFolderStore$getSt === void 0 ? void 0 : (_useFolderStore$getSt2 = _useFolderStore$getSt.folders) === null || _useFolderStore$getSt2 === void 0 ? void 0 : _useFolderStore$getSt2[id];
};
var useFolders = function useFolders() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore)(function (s) {
    return s.folders;
  });
};
var getFolders = function getFolders() {
  return _store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore.getState().folders;
};

// ROOTS
var useRoot = function useRoot(id) {
  return (0,_store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore)(function (s) {
    var _s$roots;
    return (_s$roots = s.roots) === null || _s$roots === void 0 ? void 0 : _s$roots[id];
  });
};
var getRoot = function getRoot(id) {
  var _useFolderStore$getSt3;
  return (_useFolderStore$getSt3 = _store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore.getState().roots) === null || _useFolderStore$getSt3 === void 0 ? void 0 : _useFolderStore$getSt3[id];
};
var useRoots = function useRoots() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore)(function (s) {
    return s.roots;
  });
};
var getRoots = function getRoots() {
  return _store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore.getState().roots;
};

// ROOTS BY VIEW
var useRootByUser = function useRootByUser(userId) {
  return (0,_store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore)(function (s) {
    return s.roots ? s.roots[userId] : {};
  });
};
var getRootByUser = function getRootByUser(userId) {
  var folders = _store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore.getState();
  return folders.roots ? folders.roots[userId] : {};
};

// SEARCHES

var useSearchFolder = function useSearchFolder(id) {
  return (0,_store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore)(function (s) {
    var _s$searches;
    return (_s$searches = s.searches) === null || _s$searches === void 0 ? void 0 : _s$searches[id];
  });
};
var getSearchFolder = function getSearchFolder(id) {
  return _store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore.getState().searches[id];
};
var useSearchFolders = function useSearchFolders() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore)(function (s) {
    return s.searches;
  });
};
var getSearchFolders = function getSearchFolders() {
  return _store__WEBPACK_IMPORTED_MODULE_14__.useFolderStore.getState().searches;
};

// Accordion-ize

var useFoldersByView = function useFoldersByView(view) {
  var roots = useRoots();
  return (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {
    return roots ? (0,_utils__WEBPACK_IMPORTED_MODULE_15__.filterNodes)(Object.values(roots), (0,_utils__WEBPACK_IMPORTED_MODULE_15__.folderViewFilter)(view), _utils__WEBPACK_IMPORTED_MODULE_15__.sortFolders) : [];
  }, [roots, view]);
};
var useFoldersAccordionByView = function useFoldersAccordionByView(view, CustomComponent, itemProps) {
  var roots = useRoots();
  return (0,react__WEBPACK_IMPORTED_MODULE_13__.useMemo)(function () {
    return roots ? (0,_utils__WEBPACK_IMPORTED_MODULE_15__.mapNodes)(Object.values(roots), {
      mapFunction: function mapFunction(f) {
        var _itemProps;
        var item = {
          id: f.id,
          label: f.name,
          CustomComponent: CustomComponent,
          items: [],
          folder: f,
          disableHover: (0,_utils__WEBPACK_IMPORTED_MODULE_15__.isRoot)(f)
        };
        var props = (_itemProps = itemProps === null || itemProps === void 0 ? void 0 : itemProps(item)) !== null && _itemProps !== void 0 ? _itemProps : {};
        return _objectSpread(_objectSpread({}, item), props);
      },
      filterFunction: (0,_utils__WEBPACK_IMPORTED_MODULE_15__.folderViewFilter)(view),
      recursionKey: 'items',
      sortFunction: _utils__WEBPACK_IMPORTED_MODULE_15__.sortFolders,
      deep: false
    }) : [];
  }, [CustomComponent, itemProps, roots, view]);
};

/***/ }),

/***/ "./src/store/folder/index.ts":
/*!***********************************!*\
  !*** ./src/store/folder/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFolder": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.getFolder),
/* harmony export */   "getFolders": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.getFolders),
/* harmony export */   "getRoot": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.getRoot),
/* harmony export */   "getRootByUser": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.getRootByUser),
/* harmony export */   "getRoots": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.getRoots),
/* harmony export */   "getSearchFolder": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.getSearchFolder),
/* harmony export */   "getSearchFolders": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.getSearchFolders),
/* harmony export */   "useFolder": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useFolder),
/* harmony export */   "useFolderStore": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_0__.useFolderStore),
/* harmony export */   "useFolders": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useFolders),
/* harmony export */   "useFoldersAccordionByView": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useFoldersAccordionByView),
/* harmony export */   "useFoldersByView": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useFoldersByView),
/* harmony export */   "useRoot": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useRoot),
/* harmony export */   "useRootByUser": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useRootByUser),
/* harmony export */   "useRoots": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useRoots),
/* harmony export */   "useSearchFolder": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useSearchFolder),
/* harmony export */   "useSearchFolders": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useSearchFolders)
/* harmony export */ });
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ "./src/store/folder/store.ts");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hooks */ "./src/store/folder/hooks.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




/***/ }),

/***/ "./src/store/folder/store.ts":
/*!***********************************!*\
  !*** ./src/store/folder/store.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useFolderStore": () => (/* binding */ useFolderStore)
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var _workers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../workers */ "./src/workers/index.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useFolderStore = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)()(function () {
  return {
    folders: {},
    roots: {},
    searches: {}
  };
});
_workers__WEBPACK_IMPORTED_MODULE_0__.folderWorker.onmessage = function (_ref) {
  var data = _ref.data;
  useFolderStore.setState(data);
};

/***/ }),

/***/ "./src/store/folder/utils.ts":
/*!***********************************!*\
  !*** ./src/store/folder/utils.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "filterNodes": () => (/* binding */ filterNodes),
/* harmony export */   "folderViewFilter": () => (/* binding */ folderViewFilter),
/* harmony export */   "isRoot": () => (/* binding */ isRoot),
/* harmony export */   "isTrash": () => (/* binding */ isTrash),
/* harmony export */   "mapNodes": () => (/* binding */ mapNodes),
/* harmony export */   "sortFolders": () => (/* binding */ sortFolders)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.parse-int.js */ "./node_modules/core-js/modules/es.parse-int.js");
/* harmony import */ var core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.reduce.js */ "./node_modules/core-js/modules/es.array.reduce.js");
/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
















/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


var hasId = function hasId(f, id) {
  return f.id.split(':').includes(id);
};
var getOriginalId = function getOriginalId(f) {
  var _parts$;
  var parts = f.id.split(':');
  return (_parts$ = parts[1]) !== null && _parts$ !== void 0 ? _parts$ : parts[0];
};
var sortFolders = function sortFolders(f) {
  var id = getOriginalId(f);
  if (id === _constants__WEBPACK_IMPORTED_MODULE_18__.FOLDERS.TRASH) {
    return _constants__WEBPACK_IMPORTED_MODULE_18__.FOLDERS.LAST_SYSTEM_FOLDER_POSITION;
  }
  return parseInt(id, 10) < 17 ? "   ".concat(id) : f.name.toLowerCase();
};
var isTrash = function isTrash(f) {
  return hasId(f, _constants__WEBPACK_IMPORTED_MODULE_18__.FOLDERS.TRASH);
};
var isRoot = function isRoot(f) {
  return f.id === _constants__WEBPACK_IMPORTED_MODULE_18__.FOLDERS.USER_ROOT || f.oname === _constants__WEBPACK_IMPORTED_MODULE_18__.ROOT_NAME;
};
var folderViewFilter = function folderViewFilter(v) {
  return function (deep) {
    return function (f) {
      return f.view === v || !deep || typeof f.view === 'undefined' && !isRoot(f);
    };
  };
};
var filterNodes = function filterNodes(children, f, sortFunction, deep) {
  var childrenSorted = sortFunction ? (0,lodash__WEBPACK_IMPORTED_MODULE_17__.sortBy)(children, sortFunction) : children;
  return childrenSorted.filter(f(deep)).map(function (i) {
    return _objectSpread(_objectSpread({}, i), {}, {
      children: filterNodes(i.children, f, sortFunction, true)
    });
  });
};
var mapNodes = function mapNodes(children, _ref) {
  var mapFunction = _ref.mapFunction,
    filterFunction = _ref.filterFunction,
    recursionKey = _ref.recursionKey,
    sortFunction = _ref.sortFunction,
    deep = _ref.deep;
  return (0,lodash__WEBPACK_IMPORTED_MODULE_17__.sortBy)(children, sortFunction).reduce(function (acc, folder) {
    if (filterFunction(deep)(folder)) {
      acc.push(_objectSpread(_objectSpread({}, mapFunction(folder)), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, recursionKey, mapNodes(folder.children, {
        mapFunction: mapFunction,
        filterFunction: filterFunction,
        recursionKey: recursionKey,
        sortFunction: sortFunction,
        deep: true
      }))));
    }
    return acc;
  }, []);
};

/***/ }),

/***/ "./src/store/i18n/hooks.ts":
/*!*********************************!*\
  !*** ./src/store/i18n/hooks.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getI18n": () => (/* binding */ getI18n),
/* harmony export */   "getT": () => (/* binding */ getT),
/* harmony export */   "getTFunction": () => (/* binding */ getTFunction)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/i18n/store.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



var getI18n = function getI18n(app) {
  return function () {
    var _ref, _instances$app;
    var _useI18nStore$getStat = _store__WEBPACK_IMPORTED_MODULE_1__.useI18nStore.getState(),
      instances = _useI18nStore$getStat.instances,
      defaultI18n = _useI18nStore$getStat.defaultI18n;
    return (_ref = (_instances$app = instances[app]) !== null && _instances$app !== void 0 ? _instances$app : instances[_constants__WEBPACK_IMPORTED_MODULE_0__.SHELL_APP_ID]) !== null && _ref !== void 0 ? _ref : defaultI18n;
  };
};
var getTFunction = function getTFunction(app) {
  var _instances$app$t, _instances$app2;
  var _useI18nStore$getStat2 = _store__WEBPACK_IMPORTED_MODULE_1__.useI18nStore.getState(),
    instances = _useI18nStore$getStat2.instances,
    defaultI18n = _useI18nStore$getStat2.defaultI18n;
  return (_instances$app$t = (_instances$app2 = instances[app]) === null || _instances$app2 === void 0 ? void 0 : _instances$app2.t) !== null && _instances$app$t !== void 0 ? _instances$app$t : defaultI18n.t;
};
var getT = function getT() {
  var _instances$SHELL_APP_, _instances$SHELL_APP_2;
  var _useI18nStore$getStat3 = _store__WEBPACK_IMPORTED_MODULE_1__.useI18nStore.getState(),
    instances = _useI18nStore$getStat3.instances,
    defaultI18n = _useI18nStore$getStat3.defaultI18n;
  return (_instances$SHELL_APP_ = (_instances$SHELL_APP_2 = instances[_constants__WEBPACK_IMPORTED_MODULE_0__.SHELL_APP_ID]) === null || _instances$SHELL_APP_2 === void 0 ? void 0 : _instances$SHELL_APP_2.t) !== null && _instances$SHELL_APP_ !== void 0 ? _instances$SHELL_APP_ : defaultI18n.t;
};

/***/ }),

/***/ "./src/store/i18n/index.ts":
/*!*********************************!*\
  !*** ./src/store/i18n/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getI18n": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getI18n),
/* harmony export */   "getT": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getT),
/* harmony export */   "getTFunction": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getTFunction),
/* harmony export */   "useI18nStore": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.useI18nStore)
/* harmony export */ });
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hooks */ "./src/store/i18n/hooks.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/i18n/store.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



/***/ }),

/***/ "./src/store/i18n/store.ts":
/*!*********************************!*\
  !*** ./src/store/i18n/store.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useI18nStore": () => (/* binding */ useI18nStore)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ "./node_modules/core-js/modules/es.array.join.js");
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/* harmony import */ var i18next_http_backend__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! i18next-http-backend */ "./node_modules/i18next-http-backend/esm/index.js");
/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! immer */ "./node_modules/immer/dist/immer.esm.mjs");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");
/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../account */ "./src/store/account/index.ts");


var _ref, _ref2, _settings$prefs, _settings$attrs;
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }













/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */









var addShell = function addShell(apps) {
  return [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(apps), [{
    commit: '',
    description: '',
    js_entrypoint: '',
    name: _constants__WEBPACK_IMPORTED_MODULE_19__.SHELL_APP_ID,
    priority: -1,
    version: '',
    type: 'shell',
    attrKey: '',
    icon: '',
    display: 'Shell'
  }]);
};
var _useAccountStore$getS = _account__WEBPACK_IMPORTED_MODULE_20__.useAccountStore.getState(),
  settings = _useAccountStore$getS.settings;
var defaultLng = (_ref = (_ref2 = settings === null || settings === void 0 ? void 0 : (_settings$prefs = settings.prefs) === null || _settings$prefs === void 0 ? void 0 : _settings$prefs.zimbraPrefLocale) !== null && _ref2 !== void 0 ? _ref2 : settings === null || settings === void 0 ? void 0 : (_settings$attrs = settings.attrs) === null || _settings$attrs === void 0 ? void 0 : _settings$attrs.zimbraLocale) !== null && _ref !== void 0 ? _ref : 'en';
var defaultI18n = i18next__WEBPACK_IMPORTED_MODULE_15__["default"].createInstance({
  lng: defaultLng
});
var defaultI18nInitOptions = {
  returnEmptyString: true,
  returnNull: false,
  compatibilityJSON: 'v3',
  lng: defaultLng,
  fallbackLng: 'en',
  debug: false,
  interpolation: {
    escapeValue: false // not needed for react as it escapes by default
  },

  missingKeyHandler: function missingKeyHandler(_, __, key) {
    // eslint-disable-next-line no-console
    console.warn("Missing translation with key '".concat(key, "'"));
  },
  backend: {
    loadPath: "".concat("/static/iris/carbonio-shell-ui/3427ceb3116605cee189699986293b7d6ddb8dde/", "/i18n/{{lng}}.json")
  }
};
var useI18nStore = (0,zustand__WEBPACK_IMPORTED_MODULE_21__.create)()(function (set) {
  return {
    instances: {},
    defaultI18n: defaultI18n,
    locale: 'en',
    setters: {
      setLocale: function setLocale(locale) {
        set((0,immer__WEBPACK_IMPORTED_MODULE_22__["default"])(function (state) {
          state.locale = locale;
          (0,lodash__WEBPACK_IMPORTED_MODULE_17__.forEach)(state.instances, function (i18nInst) {
            return i18nInst.changeLanguage(locale);
          });
        }));
      }
    },
    getters: {
      getLocale: function getLocale(state) {
        return state.locale;
      }
    },
    actions: {
      addI18n: function addI18n(apps, locale) {
        var appsWithShell = addShell(apps);
        set((0,immer__WEBPACK_IMPORTED_MODULE_22__["default"])(function (state) {
          state.instances = (0,lodash__WEBPACK_IMPORTED_MODULE_17__.reduce)(appsWithShell, function (acc, app) {
            var newI18n = i18next__WEBPACK_IMPORTED_MODULE_15__["default"].createInstance();
            newI18n
            // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)
            // learn more: https://github.com/i18next/i18next-http-backend
            .use(i18next_http_backend__WEBPACK_IMPORTED_MODULE_16__["default"])
            // init i18next
            // for all options read: https://www.i18next.com/overview/configuration-options
            .init(_objectSpread(_objectSpread({}, defaultI18nInitOptions), {}, {
              lng: locale,
              backend: {
                loadPath: app.name === _constants__WEBPACK_IMPORTED_MODULE_19__.SHELL_APP_ID ? "".concat("/static/iris/carbonio-shell-ui/3427ceb3116605cee189699986293b7d6ddb8dde/", "/i18n/{{lng}}.json") : "".concat((0,lodash__WEBPACK_IMPORTED_MODULE_17__.dropRight)(app.js_entrypoint.split('/')).join('/'), "/i18n/{{lng}}.json")
              }
            }));
            // eslint-disable-next-line no-param-reassign
            acc[app.name] = newI18n;
            return acc;
          }, {});
          state.defaultI18n.t = state.instances[_constants__WEBPACK_IMPORTED_MODULE_19__.SHELL_APP_ID].t;
          state.locale = locale;
        }));
      }
    }
  };
});
defaultI18n.use(i18next_http_backend__WEBPACK_IMPORTED_MODULE_16__["default"])
// pass the i18n instance to react-i18next.
.use(react_i18next__WEBPACK_IMPORTED_MODULE_18__.initReactI18next)
// init i18next
// for all options read: https://www.i18next.com/overview/configuration-options
.init(defaultI18nInitOptions);

/***/ }),

/***/ "./src/store/integrations/composer.tsx":
/*!*********************************************!*\
  !*** ./src/store/integrations/composer.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FileInput": () => (/* binding */ FileInput),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ "./node_modules/core-js/modules/es.array.join.js");
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var tinymce_tinymce__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tinymce/tinymce */ "./node_modules/tinymce/tinymce.js");
/* harmony import */ var tinymce_tinymce__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(tinymce_tinymce__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var tinymce_models_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tinymce/models/dom */ "./node_modules/tinymce/models/dom/index.js");
/* harmony import */ var tinymce_models_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(tinymce_models_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var tinymce_themes_silver__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tinymce/themes/silver */ "./node_modules/tinymce/themes/silver/index.js");
/* harmony import */ var tinymce_themes_silver__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(tinymce_themes_silver__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var tinymce_icons_default__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tinymce/icons/default */ "./node_modules/tinymce/icons/default/index.js");
/* harmony import */ var tinymce_icons_default__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(tinymce_icons_default__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var tinymce_skins_ui_oxide_skin_min_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! tinymce/skins/ui/oxide/skin.min.css */ "./node_modules/tinymce/skins/ui/oxide/skin.min.css");
/* harmony import */ var tinymce_plugins_advlist__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! tinymce/plugins/advlist */ "./node_modules/tinymce/plugins/advlist/index.js");
/* harmony import */ var tinymce_plugins_advlist__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_advlist__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var tinymce_plugins_anchor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! tinymce/plugins/anchor */ "./node_modules/tinymce/plugins/anchor/index.js");
/* harmony import */ var tinymce_plugins_anchor__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_anchor__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var tinymce_plugins_autolink__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! tinymce/plugins/autolink */ "./node_modules/tinymce/plugins/autolink/index.js");
/* harmony import */ var tinymce_plugins_autolink__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_autolink__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var tinymce_plugins_autoresize__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! tinymce/plugins/autoresize */ "./node_modules/tinymce/plugins/autoresize/index.js");
/* harmony import */ var tinymce_plugins_autoresize__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_autoresize__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var tinymce_plugins_charmap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! tinymce/plugins/charmap */ "./node_modules/tinymce/plugins/charmap/index.js");
/* harmony import */ var tinymce_plugins_charmap__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_charmap__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var tinymce_plugins_code__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! tinymce/plugins/code */ "./node_modules/tinymce/plugins/code/index.js");
/* harmony import */ var tinymce_plugins_code__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_code__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var tinymce_plugins_directionality__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! tinymce/plugins/directionality */ "./node_modules/tinymce/plugins/directionality/index.js");
/* harmony import */ var tinymce_plugins_directionality__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_directionality__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var tinymce_plugins_fullscreen__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! tinymce/plugins/fullscreen */ "./node_modules/tinymce/plugins/fullscreen/index.js");
/* harmony import */ var tinymce_plugins_fullscreen__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_fullscreen__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var tinymce_plugins_help__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! tinymce/plugins/help */ "./node_modules/tinymce/plugins/help/index.js");
/* harmony import */ var tinymce_plugins_help__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_help__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var tinymce_plugins_image__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! tinymce/plugins/image */ "./node_modules/tinymce/plugins/image/index.js");
/* harmony import */ var tinymce_plugins_image__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_image__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var tinymce_plugins_insertdatetime__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! tinymce/plugins/insertdatetime */ "./node_modules/tinymce/plugins/insertdatetime/index.js");
/* harmony import */ var tinymce_plugins_insertdatetime__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_insertdatetime__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var tinymce_plugins_link__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! tinymce/plugins/link */ "./node_modules/tinymce/plugins/link/index.js");
/* harmony import */ var tinymce_plugins_link__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_link__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var tinymce_plugins_lists__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! tinymce/plugins/lists */ "./node_modules/tinymce/plugins/lists/index.js");
/* harmony import */ var tinymce_plugins_lists__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_lists__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var tinymce_plugins_media__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! tinymce/plugins/media */ "./node_modules/tinymce/plugins/media/index.js");
/* harmony import */ var tinymce_plugins_media__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_media__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var tinymce_plugins_preview__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! tinymce/plugins/preview */ "./node_modules/tinymce/plugins/preview/index.js");
/* harmony import */ var tinymce_plugins_preview__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_preview__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var tinymce_plugins_quickbars__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! tinymce/plugins/quickbars */ "./node_modules/tinymce/plugins/quickbars/index.js");
/* harmony import */ var tinymce_plugins_quickbars__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_quickbars__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var tinymce_plugins_searchreplace__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! tinymce/plugins/searchreplace */ "./node_modules/tinymce/plugins/searchreplace/index.js");
/* harmony import */ var tinymce_plugins_searchreplace__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_searchreplace__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var tinymce_plugins_table__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! tinymce/plugins/table */ "./node_modules/tinymce/plugins/table/index.js");
/* harmony import */ var tinymce_plugins_table__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_table__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var tinymce_plugins_visualblocks__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! tinymce/plugins/visualblocks */ "./node_modules/tinymce/plugins/visualblocks/index.js");
/* harmony import */ var tinymce_plugins_visualblocks__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_visualblocks__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var tinymce_plugins_wordcount__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! tinymce/plugins/wordcount */ "./node_modules/tinymce/plugins/wordcount/index.js");
/* harmony import */ var tinymce_plugins_wordcount__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(tinymce_plugins_wordcount__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var _tinymce_tinymce_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @tinymce/tinymce-react */ "./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/index.js");
/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../account */ "./src/store/account/index.ts");
/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../i18n */ "./src/store/i18n/index.ts");


var _excluded = ["onEditorChange", "onFileSelect", "inline", "value", "initialValue"];


/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */



// TinyMCE so the global var exists


// Theme

// Toolbar icons

// Editor styles


// importing the plugin js.























var FileInput = styled_components__WEBPACK_IMPORTED_MODULE_33__["default"].input.withConfig({
  displayName: "composer__FileInput",
  componentId: "sc-o7p0p5-0"
})(["display:none;"]);
var Composer = function Composer(_ref) {
  var onEditorChange = _ref.onEditorChange,
    onFileSelect = _ref.onFileSelect,
    _ref$inline = _ref.inline,
    inline = _ref$inline === void 0 ? false : _ref$inline,
    value = _ref.value,
    initialValue = _ref.initialValue,
    rest = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__["default"])(_ref, _excluded);
  var _onEditorChange = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (newContent, editor) {
    onEditorChange === null || onEditorChange === void 0 ? void 0 : onEditorChange([editor.getContent({
      format: 'text'
    }), editor.getContent({
      format: 'html'
    })]);
  }, [onEditorChange]);
  var _useUserSettings = (0,_account__WEBPACK_IMPORTED_MODULE_31__.useUserSettings)(),
    prefs = _useUserSettings.prefs;
  var defaultStyle = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return {
      font: prefs === null || prefs === void 0 ? void 0 : prefs.zimbraPrefHtmlEditorDefaultFontFamily,
      fontSize: prefs === null || prefs === void 0 ? void 0 : prefs.zimbraPrefHtmlEditorDefaultFontSize,
      color: prefs === null || prefs === void 0 ? void 0 : prefs.zimbraPrefHtmlEditorDefaultFontColor
    };
  }, [prefs]);
  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);
  var onFileClick = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {
    if (inputRef.current) {
      inputRef.current.value = '';
      inputRef.current.click();
    }
  }, []);
  var t = (0,_i18n__WEBPACK_IMPORTED_MODULE_32__.getT)();
  var _useI18nStore$getStat = _i18n__WEBPACK_IMPORTED_MODULE_32__.useI18nStore.getState(),
    locale = _useI18nStore$getStat.locale;
  var inlineLabel = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return t('label.add_inline_image', 'Add inline image');
  }, [t]);
  var setupCallback = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function (editor) {
    if (onFileSelect) editor.ui.registry.addMenuButton('imageSelector', {
      icon: 'gallery',
      tooltip: t('label.select_image', 'Select image'),
      fetch: function fetch(callback) {
        var items = [{
          type: 'menuitem',
          text: inlineLabel,
          onAction: function onAction() {
            onFileClick();
          }
        }];
        callback(items);
      }
    });
  }, [inlineLabel, onFileClick, onFileSelect, t]);
  var editorInitConfig = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return {
      content_css: "".concat("/static/iris/carbonio-shell-ui/3427ceb3116605cee189699986293b7d6ddb8dde/", "/tinymce/skins/content/default/content.css"),
      language_url: "".concat("/static/iris/carbonio-shell-ui/3427ceb3116605cee189699986293b7d6ddb8dde/", "tinymce/langs/").concat(locale, ".js"),
      language: locale,
      setup: setupCallback,
      min_height: 350,
      auto_focus: true,
      menubar: false,
      statusbar: false,
      branding: false,
      resize: true,
      inline: inline,
      font_size_formats: '8pt 9pt 10pt 11pt 12pt 13pt 14pt 16pt 18pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt',
      object_resizing: 'img',
      style_formats: [{
        title: 'Headers',
        items: [{
          title: 'h1',
          block: 'h1'
        }, {
          title: 'h2',
          block: 'h2'
        }, {
          title: 'h3',
          block: 'h3'
        }, {
          title: 'h4',
          block: 'h4'
        }, {
          title: 'h5',
          block: 'h5'
        }, {
          title: 'h6',
          block: 'h6'
        }]
      }, {
        title: 'Blocks',
        items: [{
          title: 'p',
          block: 'p'
        }, {
          title: 'div',
          block: 'div'
        }, {
          title: 'pre',
          block: 'pre'
        }]
      }, {
        title: 'Containers',
        items: [{
          title: 'section',
          block: 'section',
          wrapper: true,
          merge_siblings: false
        }, {
          title: 'article',
          block: 'article',
          wrapper: true,
          merge_siblings: false
        }, {
          title: 'blockquote',
          block: 'blockquote',
          wrapper: true
        }, {
          title: 'hgroup',
          block: 'hgroup',
          wrapper: true
        }, {
          title: 'aside',
          block: 'aside',
          wrapper: true
        }, {
          title: 'figure',
          block: 'figure',
          wrapper: true
        }]
      }],
      plugins: ['advlist', 'autolink', 'lists', 'link', 'image', 'charmap', 'preview', 'anchor', 'searchreplace', 'code', 'fullscreen', 'insertdatetime', 'media', 'table', 'code', 'help', 'quickbars', 'directionality', 'autoresize', 'visualblocks'],
      toolbar: inline ? false : ['fontfamily fontsize styles visualblocks', 'bold italic underline strikethrough', 'removeformat code', 'alignleft aligncenter alignright alignjustify', 'forecolor backcolor', 'bullist numlist outdent indent', 'ltr rtl', 'insertfile image', 'imageSelector'].join(' | '),
      quickbars_insert_toolbar: inline ? 'bullist numlist' : '',
      quickbars_selection_toolbar: inline ? 'bold italic underline | forecolor backcolor | removeformat | quicklink' : 'quicklink',
      contextmenu: inline ? '' : '',
      toolbar_mode: 'wrap',
      content_style: "body  {  color: ".concat(defaultStyle === null || defaultStyle === void 0 ? void 0 : defaultStyle.color, "; font-size: ").concat(defaultStyle === null || defaultStyle === void 0 ? void 0 : defaultStyle.fontSize, "; font-family: ").concat(defaultStyle === null || defaultStyle === void 0 ? void 0 : defaultStyle.font, "; }"),
      visualblocks_default_state: false,
      end_container_on_empty_block: true,
      relative_urls: false,
      remove_script_host: false,
      newline_behavior: 'invert'
    };
  }, [defaultStyle === null || defaultStyle === void 0 ? void 0 : defaultStyle.color, defaultStyle === null || defaultStyle === void 0 ? void 0 : defaultStyle.font, defaultStyle === null || defaultStyle === void 0 ? void 0 : defaultStyle.fontSize, inline, locale, setupCallback]);
  var fileInputOnChange = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(function () {
    var _inputRef$current;
    onFileSelect === null || onFileSelect === void 0 ? void 0 : onFileSelect({
      editor: (tinymce_tinymce__WEBPACK_IMPORTED_MODULE_5___default()),
      files: inputRef === null || inputRef === void 0 ? void 0 : (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.files
    });
  }, [onFileSelect]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_34__.Container, {
    height: "100%",
    crossAlignment: "baseline",
    mainAlignment: "flex-start",
    style: {
      overflowY: 'hidden'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(FileInput, {
    type: "file",
    ref: inputRef,
    accept: "image/*",
    onChange: fileInputOnChange,
    multiple: true
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_tinymce_tinymce_react__WEBPACK_IMPORTED_MODULE_30__.Editor, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    initialValue: initialValue,
    value: value,
    init: editorInitConfig,
    onEditorChange: _onEditorChange
  }, rest)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Composer);

/***/ }),

/***/ "./src/store/integrations/getters.tsx":
/*!********************************************!*\
  !*** ./src/store/integrations/getters.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAction": () => (/* binding */ getAction),
/* harmony export */   "getActionFactory": () => (/* binding */ getActionFactory),
/* harmony export */   "getActions": () => (/* binding */ getActions),
/* harmony export */   "getActionsFactory": () => (/* binding */ getActionsFactory),
/* harmony export */   "getIntegratedComponent": () => (/* binding */ getIntegratedComponent),
/* harmony export */   "getIntegratedFunction": () => (/* binding */ getIntegratedFunction)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store */ "./src/store/integrations/store.ts");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

/* THIS FILE CONTAINS HOOKS, BUT ESLINT IS DUMB */




// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore

// eslint-disable-next-line @typescript-eslint/ban-types
var getIntegratedFunction = function getIntegratedFunction(id) {
  var _useIntegrationsStore;
  var integration = (_useIntegrationsStore = _store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore.getState().functions) === null || _useIntegrationsStore === void 0 ? void 0 : _useIntegrationsStore[id];
  // eslint-disable-next-line @typescript-eslint/no-empty-function
  return integration ? [integration, true] : [function () {}, false];
};
var getIntegratedComponent = function getIntegratedComponent(id) {
  var _useIntegrationsStore2;
  var Integration = (_useIntegrationsStore2 = _store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore.getState().components) === null || _useIntegrationsStore2 === void 0 ? void 0 : _useIntegrationsStore2[id];
  if (Integration) {
    var C = function C(props) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__["default"], {
        pkg: Integration.app
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Integration.item, props));
    };
    return [C, true];
  }
  return [function () {
    return null;
  }, false];
};
var getActions = function getActions(target, type) {
  var factories = _store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore.getState().actions[type];
  return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.compact)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(factories, function (f) {
    try {
      var action = f(target);
      return action;
    } catch (e) {
      // eslint-disable-next-line no-console
      console.error(e);
      return undefined;
    }
  }));
};
var getActionsFactory = function getActionsFactory(type) {
  var factories = _store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore.getState().actions[type];
  return function (target) {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.compact)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(factories, function (f) {
      try {
        var action = f(target);
        return action;
      } catch (e) {
        // eslint-disable-next-line no-console
        console.error(e);
        return undefined;
      }
    }));
  };
};
var getAction = function getAction(type, id, target) {
  var _useIntegrationsStore3;
  var factory = (_useIntegrationsStore3 = _store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore.getState().actions[type]) === null || _useIntegrationsStore3 === void 0 ? void 0 : _useIntegrationsStore3[id];
  var action = factory === null || factory === void 0 ? void 0 : factory(target);
  return [action, !!action];
};
var getActionFactory = function getActionFactory(type, id) {
  var _useIntegrationsStore4;
  var factory = (_useIntegrationsStore4 = _store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore.getState().actions[type]) === null || _useIntegrationsStore4 === void 0 ? void 0 : _useIntegrationsStore4[id];
  return [factory, !!factory];
};

/***/ }),

/***/ "./src/store/integrations/hooks.tsx":
/*!******************************************!*\
  !*** ./src/store/integrations/hooks.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useAction": () => (/* binding */ useAction),
/* harmony export */   "useActionFactory": () => (/* binding */ useActionFactory),
/* harmony export */   "useActions": () => (/* binding */ useActions),
/* harmony export */   "useActionsFactory": () => (/* binding */ useActionsFactory),
/* harmony export */   "useIntegratedComponent": () => (/* binding */ useIntegratedComponent),
/* harmony export */   "useIntegratedFunction": () => (/* binding */ useIntegratedFunction)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store */ "./src/store/integrations/store.ts");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

/* THIS FILE CONTAINS HOOKS, BUT ESLINT IS DUMB */




// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore

// eslint-disable-next-line @typescript-eslint/ban-types
var useIntegratedFunction = function useIntegratedFunction(id) {
  var integration = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore)(function (s) {
    var _s$functions;
    return (_s$functions = s.functions) === null || _s$functions === void 0 ? void 0 : _s$functions[id];
  });
  // eslint-disable-next-line @typescript-eslint/no-empty-function
  return integration ? [integration, true] : [function () {}, false];
};
var useIntegratedComponent = function useIntegratedComponent(id) {
  var Integration = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore)(function (s) {
    var _s$components;
    return (_s$components = s.components) === null || _s$components === void 0 ? void 0 : _s$components[id];
  });
  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    if (Integration) {
      var C = function C(props) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_3__["default"], {
          pkg: Integration.app
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Integration.item, props));
      };
      return [C, true];
    }
    return [function () {
      return null;
    }, false];
  }, [Integration]);
};
var useActions = function useActions(target, type) {
  var factories = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore)(function (s) {
    return s.actions[type];
  });
  var actions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    var _compact;
    return (_compact = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.compact)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(factories, function (f) {
      try {
        var action = f(target);
        return action;
      } catch (e) {
        // eslint-disable-next-line no-console
        console.error(e);
        return undefined;
      }
    }))) !== null && _compact !== void 0 ? _compact : [];
  }, [factories, target]);
  return actions;
};
var useActionsFactory = function useActionsFactory(type) {
  var factories = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore)(function (s) {
    return s.actions[type];
  });
  var combinedFactory = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (target) {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.compact)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(factories, function (f) {
      try {
        var action = f(target);
        return action;
      } catch (e) {
        // eslint-disable-next-line no-console
        console.error(e);
        return undefined;
      }
    }));
  }, [factories]);
  return combinedFactory;
};
var useAction = function useAction(type, id, target) {
  var factory = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore)(function (s) {
    return s.actions[type][id];
  });
  var action = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {
    try {
      return factory === null || factory === void 0 ? void 0 : factory(target);
    } catch (e) {
      return undefined;
    }
  }, [factory, target]);
  return [action, !!action];
};
var useActionFactory = function useActionFactory(type, id) {
  var factory = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useIntegrationsStore)(function (s) {
    return s.actions[type][id];
  });
  return [factory, !!factory];
};

/***/ }),

/***/ "./src/store/integrations/store.ts":
/*!*****************************************!*\
  !*** ./src/store/integrations/store.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useIntegrationsStore": () => (/* binding */ useIntegrationsStore)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.define-properties.js */ "./node_modules/core-js/modules/es.object.define-properties.js");
/* harmony import */ var core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.define-property.js */ "./node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! immer */ "./node_modules/immer/dist/immer.esm.mjs");
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _composer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./composer */ "./src/store/integrations/composer.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../constants */ "./src/constants/index.ts");











function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useIntegrationsStore = (0,zustand__WEBPACK_IMPORTED_MODULE_14__.create)()(function (set) {
  return {
    actions: {},
    components: {
      composer: {
        item: _composer__WEBPACK_IMPORTED_MODULE_12__["default"],
        app: _constants__WEBPACK_IMPORTED_MODULE_13__.SHELL_APP_ID
      }
    },
    functions: {},
    registerActions: function registerActions() {
      for (var _len = arguments.length, items = new Array(_len), _key = 0; _key < _len; _key++) {
        items[_key] = arguments[_key];
      }
      return set((0,immer__WEBPACK_IMPORTED_MODULE_15__["default"])(function (state) {
        (0,lodash__WEBPACK_IMPORTED_MODULE_11__.forEach)(items, function (_ref) {
          var id = _ref.id,
            action = _ref.action,
            type = _ref.type;
          if (!state.actions[type]) state.actions[type] = {};
          state.actions[type][id] = action;
        });
      }));
    },
    registerComponents: function registerComponents(app) {
      return function () {
        for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          items[_key2] = arguments[_key2];
        }
        return set((0,immer__WEBPACK_IMPORTED_MODULE_15__["default"])(function (state) {
          (0,lodash__WEBPACK_IMPORTED_MODULE_11__.forEach)(items, function (_ref2) {
            var id = _ref2.id,
              component = _ref2.component;
            state.components[id] = {
              app: app,
              item: component
            };
          });
        }));
      };
    },
    registerFunctions: function registerFunctions() {
      for (var _len3 = arguments.length, items = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        items[_key3] = arguments[_key3];
      }
      return set((0,immer__WEBPACK_IMPORTED_MODULE_15__["default"])(function (state) {
        (0,lodash__WEBPACK_IMPORTED_MODULE_11__.forEach)(items, function (_ref3) {
          var id = _ref3.id,
            fn = _ref3.fn;
          state.functions[id] = fn;
        });
      }));
    },
    removeActions: function removeActions() {
      for (var _len4 = arguments.length, ids = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        ids[_key4] = arguments[_key4];
      }
      return set((0,immer__WEBPACK_IMPORTED_MODULE_15__["default"])(function (state) {
        (0,lodash__WEBPACK_IMPORTED_MODULE_11__.forEach)(state.actions, function (actionTypeMap, type) {
          (0,lodash__WEBPACK_IMPORTED_MODULE_11__.forEach)(actionTypeMap, function (actionFactory, actionFactoryId) {
            if ((0,lodash__WEBPACK_IMPORTED_MODULE_11__.includes)(ids, actionFactoryId)) {
              delete state.actions[type][actionFactoryId];
            }
          });
        });
      }));
    },
    removeComponents: function removeComponents() {
      for (var _len5 = arguments.length, ids = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
        ids[_key5] = arguments[_key5];
      }
      return set(function (s) {
        return _objectSpread(_objectSpread({}, s), {}, {
          components: (0,lodash__WEBPACK_IMPORTED_MODULE_11__.omit)(s.components, ids)
        });
      });
    },
    removeFunctions: function removeFunctions() {
      for (var _len6 = arguments.length, ids = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        ids[_key6] = arguments[_key6];
      }
      return set(function (s) {
        return _objectSpread(_objectSpread({}, s), {}, {
          functions: (0,lodash__WEBPACK_IMPORTED_MODULE_11__.omit)(s.functions, ids)
        });
      });
    }
  };
});

/***/ }),

/***/ "./src/store/login/getters.ts":
/*!************************************!*\
  !*** ./src/store/login/getters.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getClientTitle": () => (/* binding */ getClientTitle),
/* harmony export */   "getFavicon": () => (/* binding */ getFavicon)
/* harmony export */ });
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ "./src/store/login/store.ts");
/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

function getFavicon() {
  return _store__WEBPACK_IMPORTED_MODULE_0__.useLoginConfigStore.getState().carbonioWebUiFavicon;
}
function getClientTitle() {
  return _store__WEBPACK_IMPORTED_MODULE_0__.useLoginConfigStore.getState().carbonioWebUiTitle;
}

/***/ }),

/***/ "./src/store/login/hooks.ts":
/*!**********************************!*\
  !*** ./src/store/login/hooks.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useLogo": () => (/* binding */ useLogo)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/login/store.ts");
/* harmony import */ var _dark_mode_use_dark_mode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dark-mode/use-dark-mode */ "./src/dark-mode/use-dark-mode.ts");
/* harmony import */ var _assets_carbonio_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../assets/carbonio.svg */ "./assets/carbonio.svg");
/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




function useLogo() {
  var _useLoginConfigStore = (0,_store__WEBPACK_IMPORTED_MODULE_1__.useLoginConfigStore)(),
    carbonioWebUiAppLogo = _useLoginConfigStore.carbonioWebUiAppLogo,
    carbonioWebUiDarkAppLogo = _useLoginConfigStore.carbonioWebUiDarkAppLogo;
  var _useDarkMode = (0,_dark_mode_use_dark_mode__WEBPACK_IMPORTED_MODULE_2__.useDarkMode)(),
    darkModeEnabled = _useDarkMode.darkModeEnabled;
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    if (darkModeEnabled) {
      return carbonioWebUiDarkAppLogo || carbonioWebUiAppLogo || _assets_carbonio_svg__WEBPACK_IMPORTED_MODULE_3__["default"];
    }
    return carbonioWebUiAppLogo || carbonioWebUiDarkAppLogo || _assets_carbonio_svg__WEBPACK_IMPORTED_MODULE_3__["default"];
  }, [carbonioWebUiDarkAppLogo, carbonioWebUiAppLogo, darkModeEnabled]);
}

/***/ }),

/***/ "./src/store/login/store.ts":
/*!**********************************!*\
  !*** ./src/store/login/store.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useLoginConfigStore": () => (/* binding */ useLoginConfigStore)
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useLoginConfigStore = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)()(function () {
  return {
    loaded: false,
    // setup defaults for fields which does not depend on dark mode
    carbonioWebUiTitle: 'Carbonio Client',
    // default to png because this icon is used also in notification, and svg are not supported there
    carbonioWebUiFavicon: "".concat("/static/iris/carbonio-shell-ui/3427ceb3116605cee189699986293b7d6ddb8dde/", "favicon.png")
  };
});

/***/ }),

/***/ "./src/store/network/hooks.ts":
/*!************************************!*\
  !*** ./src/store/network/hooks.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useNotify": () => (/* binding */ useNotify),
/* harmony export */   "useRefresh": () => (/* binding */ useRefresh)
/* harmony export */ });
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ "./src/store/network/store.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


var useNotify = function useNotify() {
  var notify = (0,_store__WEBPACK_IMPORTED_MODULE_0__.useNetworkStore)(function (s) {
    var _s$notify;
    return (_s$notify = s.notify) !== null && _s$notify !== void 0 ? _s$notify : [];
  });
  return notify;
};
var useRefresh = function useRefresh() {
  return (0,_store__WEBPACK_IMPORTED_MODULE_0__.useNetworkStore)(function (s) {
    var _s$refresh;
    return (_s$refresh = s.refresh) !== null && _s$refresh !== void 0 ? _s$refresh : {};
  });
};

/***/ }),

/***/ "./src/store/network/index.ts":
/*!************************************!*\
  !*** ./src/store/network/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useNetworkStore": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_0__.useNetworkStore),
/* harmony export */   "useNotify": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useNotify),
/* harmony export */   "useRefresh": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_1__.useRefresh)
/* harmony export */ });
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ "./src/store/network/store.ts");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hooks */ "./src/store/network/hooks.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




/***/ }),

/***/ "./src/store/network/store.ts":
/*!************************************!*\
  !*** ./src/store/network/store.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useNetworkStore": () => (/* binding */ useNetworkStore)
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useNetworkStore = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)()(function () {
  return {
    pollingInterval: 30000,
    seq: 0
  };
});

/***/ }),

/***/ "./src/store/network/utils.ts":
/*!************************************!*\
  !*** ./src/store/network/utils.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPollingInterval": () => (/* binding */ getPollingInterval),
/* harmony export */   "handleSync": () => (/* binding */ handleSync),
/* harmony export */   "parsePollingInterval": () => (/* binding */ parsePollingInterval)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.parse-int.js */ "./node_modules/core-js/modules/es.parse-int.js");
/* harmony import */ var core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_number_is_nan_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.number.is-nan.js */ "./node_modules/core-js/modules/es.number.is-nan.js");
/* harmony import */ var core_js_modules_es_number_is_nan_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_is_nan_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "./node_modules/core-js/modules/es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _workers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../workers */ "./src/workers/index.ts");
/* harmony import */ var _folder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../folder */ "./src/store/folder/index.ts");
/* harmony import */ var _tags__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tags */ "./src/store/tags/index.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./store */ "./src/store/network/store.ts");
/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../account */ "./src/store/account/index.ts");







/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */








/**
 * Polling interval to use if the long polling delay
 * is not allowed for the user
 */
var POLLING_NOWAIT_INTERVAL = 10000;

/**
 * Polling interval to use if a previous request failed
 * with a 500 error
 */
var POLLING_RETRY_INTERVAL = 60000;
var parsePollingInterval = function parsePollingInterval(settings) {
  var _settings$prefs$zimbr, _settings$prefs;
  var pollingPref = (_settings$prefs$zimbr = (_settings$prefs = settings.prefs) === null || _settings$prefs === void 0 ? void 0 : _settings$prefs.zimbraPrefMailPollingInterval) !== null && _settings$prefs$zimbr !== void 0 ? _settings$prefs$zimbr : '';
  if (pollingPref === '500') {
    return 500;
  }
  var pollingValue = parseInt(pollingPref, 10);
  if (Number.isNaN(pollingValue)) {
    return 30000;
  }
  if (pollingPref.includes('m')) {
    return pollingValue * 60 * 1000;
  }
  return pollingValue * 1000;
};

/**
 * Return the polling interval for the next NoOp request.
 * The interval length depends on the user settings, but it can be
 * overridden by the server response/errors
 * @param res
 */
var getPollingInterval = function getPollingInterval(res) {
  var _res$Body, _res$Body2;
  var _useNetworkStore$getS = _store__WEBPACK_IMPORTED_MODULE_11__.useNetworkStore.getState(),
    pollingInterval = _useNetworkStore$getS.pollingInterval;
  var _useAccountStore$getS = _account__WEBPACK_IMPORTED_MODULE_12__.useAccountStore.getState(),
    settings = _useAccountStore$getS.settings;
  var waitDisallowed = res === null || res === void 0 ? void 0 : (_res$Body = res.Body) === null || _res$Body === void 0 ? void 0 : _res$Body.waitDisallowed;
  var fault = res === null || res === void 0 ? void 0 : (_res$Body2 = res.Body) === null || _res$Body2 === void 0 ? void 0 : _res$Body2.Fault;
  if (fault) {
    return POLLING_RETRY_INTERVAL;
  }
  if (waitDisallowed) {
    return POLLING_NOWAIT_INTERVAL;
  }
  if (!fault) {
    return parsePollingInterval(settings);
  }
  return pollingInterval;
};
var handleSync = function handleSync(_ref) {
  var refresh = _ref.refresh,
    notify = _ref.notify;
  return new Promise(function (r) {
    var _useNetworkStore$getS2 = _store__WEBPACK_IMPORTED_MODULE_11__.useNetworkStore.getState(),
      seq = _useNetworkStore$getS2.seq;
    if (refresh) {
      var _refresh$folder;
      _workers__WEBPACK_IMPORTED_MODULE_8__.tagWorker.postMessage({
        op: 'refresh',
        tags: refresh.tags
      });
      _workers__WEBPACK_IMPORTED_MODULE_8__.folderWorker.postMessage({
        op: 'refresh',
        folder: (_refresh$folder = refresh.folder) !== null && _refresh$folder !== void 0 ? _refresh$folder : []
      });
    }
    if (notify !== null && notify !== void 0 && notify.length) {
      (0,lodash__WEBPACK_IMPORTED_MODULE_7__.forEach)(notify, function (item) {
        if (item.seq > seq) {
          _workers__WEBPACK_IMPORTED_MODULE_8__.tagWorker.postMessage({
            op: 'notify',
            notify: item,
            state: _tags__WEBPACK_IMPORTED_MODULE_10__.useTagStore.getState().tags
          });
          _workers__WEBPACK_IMPORTED_MODULE_8__.folderWorker.postMessage({
            op: 'notify',
            notify: item,
            state: _folder__WEBPACK_IMPORTED_MODULE_9__.useFolderStore.getState().folders
          });
        }
      });
    }
    r();
  });
};
// export const noOp = (): void => {
// 	// eslint-disable-next-line @typescript-eslint/no-use-before-define
// 	getSoapFetch(SHELL_APP_ID)(
// 		'NoOp',
// 		useNetworkStore.getState().pollingInterval === 500
// 			? { _jsns: 'urn:zimbraMail', limitToOneBlocked: 1, wait: 1 }
// 			: { _jsns: 'urn:zimbraMail' }
// 	);
// };
// export const handleSoapContext = ({ notify, refresh, session, change }: SoapContext): void =>
// 	useNetworkStore.setState({
// 		session,
// 		change,
// 		refresh,
// 		seq: maxBy(notify, 'seq'),
// 		noOpTimeout: setTimeout(() => noOp(), pollingInterval),
// 		notify: map(notify, (notifyItem) => ({
// 			...notifyItem,
// 			deleted: notifyItem.deleted?.id?.split(',')
// 		}))
// 	});
// // handleTagSync(_context);
// // useNetworkStore.setState({
// // 	noOpTimeout: setTimeout(() => noOp(), pollingInterval),
// // 	,
// // 	...res?.Header?.context
// // });

/***/ }),

/***/ "./src/store/tags/hooks.ts":
/*!*********************************!*\
  !*** ./src/store/tags/hooks.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTags": () => (/* binding */ getTags),
/* harmony export */   "useTags": () => (/* binding */ useTags)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/tags/store.ts");
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




/* eslint-disable react-hooks/rules-of-hooks */
/* THIS FILE CONTAINS HOOKS, BUT ESLINT IS DUMB */

var useTags = function useTags(ids) {
  return (0,_store__WEBPACK_IMPORTED_MODULE_1__.useTagStore)(function (s) {
    return ids ? (0,lodash__WEBPACK_IMPORTED_MODULE_0__.pick)(s.tags, ids) : s.tags;
  });
};
var getTags = function getTags(ids) {
  return ids ? (0,lodash__WEBPACK_IMPORTED_MODULE_0__.pick)(_store__WEBPACK_IMPORTED_MODULE_1__.useTagStore.getState().tags, ids) : _store__WEBPACK_IMPORTED_MODULE_1__.useTagStore.getState().tags;
};

/***/ }),

/***/ "./src/store/tags/index.ts":
/*!*********************************!*\
  !*** ./src/store/tags/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTags": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.getTags),
/* harmony export */   "useTagStore": () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.useTagStore),
/* harmony export */   "useTags": () => (/* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_0__.useTags)
/* harmony export */ });
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hooks */ "./src/store/tags/hooks.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./src/store/tags/store.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




/***/ }),

/***/ "./src/store/tags/store.ts":
/*!*********************************!*\
  !*** ./src/store/tags/store.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useTagStore": () => (/* binding */ useTagStore)
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/* harmony import */ var _workers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../workers */ "./src/workers/index.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useTagStore = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)()(function () {
  return {
    tags: {}
  };
});
_workers__WEBPACK_IMPORTED_MODULE_0__.tagWorker.onmessage = function (_ref) {
  var data = _ref.data;
  useTagStore.setState(data);
};

/***/ }),

/***/ "./src/ui-extras/app-link.tsx":
/*!************************************!*\
  !*** ./src/ui-extras/app-link.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppLink": () => (/* binding */ AppLink)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");


var _excluded = ["to", "route"];
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var AppLink = function AppLink(_ref) {
  var to = _ref.to,
    route = _ref.route,
    rest = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__["default"])(_ref, _excluded);
  var _to = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return (0,_history_hooks__WEBPACK_IMPORTED_MODULE_3__.parseParams)({
      path: to,
      route: route
    });
  }, [route, to]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.Link, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    style: {
      textDecoration: 'none'
    },
    to: _to
  }, rest));
};

/***/ }),

/***/ "./src/ui-extras/nav-guard.tsx":
/*!*************************************!*\
  !*** ./src/ui-extras/nav-guard.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RouteLeavingGuard": () => (/* binding */ RouteLeavingGuard)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");




/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */






var RouteLeavingGuard = function RouteLeavingGuard(_ref) {
  var children = _ref.children,
    when = _ref.when,
    onSave = _ref.onSave,
    _ref$dataHasError = _ref.dataHasError,
    dataHasError = _ref$dataHasError === void 0 ? false : _ref$dataHasError;
  var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.useHistory)();
  var lastLocationInitial = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(function () {
    return history.location;
  }, [history]);
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),
    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
    modalVisible = _useState2[0],
    setModalVisible = _useState2[1];
  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(lastLocationInitial),
    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
    lastLocation = _useState4[0],
    setLastLocation = _useState4[1];
  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),
    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState5, 2),
    confirmedNavigation = _useState6[0],
    setConfirmedNavigation = _useState6[1];
  var _useTranslation = (0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.useTranslation)(),
    _useTranslation2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useTranslation, 1),
    t = _useTranslation2[0];
  var cancel = function cancel() {
    setModalVisible(false);
    setConfirmedNavigation(false);
  };
  var handleBlockedNavigation = function handleBlockedNavigation(nextLocation) {
    if (!confirmedNavigation && "".concat(nextLocation.pathname).concat(nextLocation.search || '') !== "".concat(history.location.pathname).concat(history.location.search)) {
      setModalVisible(true);
      setLastLocation(nextLocation);
      return false;
    }
    return true;
  };
  var onConfirm = function onConfirm() {
    onSave().then(function (results) {
      var rejected = (0,lodash__WEBPACK_IMPORTED_MODULE_5__.filter)(results, function (result) {
        return result.status === 'rejected';
      });
      if (rejected.length > 0) {
        console.error(rejected);
        cancel();
      } else {
        setModalVisible(false);
        setConfirmedNavigation(true);
      }
    })["catch"](function (reason) {
      console.error(reason);
      cancel();
    });
  };
  var onSecondaryAction = function onSecondaryAction() {
    setModalVisible(false);
    setConfirmedNavigation(true);
  };
  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function () {
    if (confirmedNavigation && lastLocation) {
      // Navigate to the previous blocked location with your navigate function
      history.push(lastLocation);
    }
  }, [confirmedNavigation, history, lastLocation]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement((react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.Prompt, {
    when: when,
    message: handleBlockedNavigation
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8__.Modal, {
    showCloseIcon: true,
    closeIconTooltip: t('label.close', 'Close'),
    open: modalVisible,
    title: dataHasError ? t('label.cannot_save_changes', 'Some changes cannot be saved') : t('label.unsaved_changes', 'You have unsaved changes'),
    onClose: cancel,
    onConfirm: dataHasError ? onSecondaryAction : onConfirm,
    confirmLabel: dataHasError ? t('label.leave_anyway', 'Leave anyway') : t('label.save_and_leave', 'Save and leave'),
    onSecondaryAction: dataHasError ? cancel : onSecondaryAction,
    secondaryActionLabel: dataHasError ? t('label.cancel', 'Cancel') : t('label.leave_anyway', 'Leave anyway'),
    optionalFooter: !dataHasError ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_8__.Button, {
      color: "secondary",
      type: "outlined",
      label: t('label.cancel', 'Cancel'),
      onClick: cancel
    }) : undefined
  }, children));
};

/***/ }),

/***/ "./src/ui-extras/spinner.tsx":
/*!***********************************!*\
  !*** ./src/ui-extras/spinner.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Spinner": () => (/* binding */ Spinner)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/*
 * SPDX-FileCopyrightText: 2021 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */




var Spinner = function Spinner() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Container, {
    width: "fill",
    height: "fill",
    mainAlignment: "center",
    crossAlignment: "center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_2__.Button, {
    type: "ghost",
    label: "Button",
    color: "primary",
    loading: true,
    onClick: lodash__WEBPACK_IMPORTED_MODULE_1__.noop
  }));
};

/***/ }),

/***/ "./src/utility-bar/bar.tsx":
/*!*********************************!*\
  !*** ./src/utility-bar/bar.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShellUtilityBar": () => (/* binding */ ShellUtilityBar)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _network_logout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../network/logout */ "./src/network/logout.ts");
/* harmony import */ var _store_account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/account */ "./src/store/account/index.ts");
/* harmony import */ var _store_boards__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/boards */ "./src/store/boards/index.ts");
/* harmony import */ var _store_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../store/i18n */ "./src/store/i18n/index.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./store */ "./src/utility-bar/store.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils */ "./src/utility-bar/utils.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants */ "./src/constants/index.ts");
/* harmony import */ var _network_fetch__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../network/fetch */ "./src/network/fetch.ts");

/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */











var UtilityBarItem = function UtilityBarItem(_ref) {
  var view = _ref.view;
  var _useUtilityBarStore = (0,_store__WEBPACK_IMPORTED_MODULE_7__.useUtilityBarStore)(),
    mode = _useUtilityBarStore.mode,
    setMode = _useUtilityBarStore.setMode,
    current = _useUtilityBarStore.current,
    setCurrent = _useUtilityBarStore.setCurrent;
  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {
    // eslint-disable-next-line no-nested-ternary
    setMode(current !== view.id ? 'open' : mode !== 'open' ? 'open' : 'closed');
    setCurrent(view.id);
  }, [current, mode, setCurrent, setMode, view.id]);
  if (typeof view.button === 'string') {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {
      label: view.label,
      placement: "bottom-end"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.IconButton, {
      icon: view.button,
      iconColor: current === view.id ? 'primary' : 'text',
      onClick: onClick,
      size: "large"
    }));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(view.button, {
    mode: mode,
    setMode: setMode
  });
};
var ShellUtilityBar = function ShellUtilityBar() {
  var _account$displayName2;
  var views = (0,_utils__WEBPACK_IMPORTED_MODULE_8__.useUtilityViews)();
  var t = (0,_store_i18n__WEBPACK_IMPORTED_MODULE_6__.getT)();
  var account = (0,_store_account__WEBPACK_IMPORTED_MODULE_4__.useUserAccount)();
  var accountItems = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    var _account$displayName, _account$name;
    return [{
      id: 'account',
      label: (_account$displayName = account === null || account === void 0 ? void 0 : account.displayName) !== null && _account$displayName !== void 0 ? _account$displayName : 'Account',
      disabled: true
    }, {
      id: 'email',
      label: (_account$name = account === null || account === void 0 ? void 0 : account.name) !== null && _account$name !== void 0 ? _account$name : '',
      disabled: true
    }, {
      type: 'divider',
      id: 'divider',
      label: 'divider'
    }, {
      id: 'feedback',
      label: t('label.feedback', 'Feedback'),
      onClick: function onClick() {
        (0,_store_boards__WEBPACK_IMPORTED_MODULE_5__.addBoard)(_constants__WEBPACK_IMPORTED_MODULE_9__.SHELL_APP_ID)({
          url: 'feedback',
          title: t('label.feedback', 'Feedback'),
          icon: 'MessageSquareOutline'
        });
      },
      icon: 'MessageSquareOutline'
    }, {
      id: 'update',
      label: t('label.update_view', 'Update view'),
      onClick: _network_fetch__WEBPACK_IMPORTED_MODULE_10__.fetchNoOp,
      icon: 'Refresh'
    }, {
      id: 'docs',
      label: t('label.documentation', 'Documentation'),
      onClick: lodash__WEBPACK_IMPORTED_MODULE_1__.noop,
      disabled: true,
      icon: 'InfoOutline'
    }, {
      id: 'logout',
      label: t('label.logout', 'Logout'),
      onClick: _network_logout__WEBPACK_IMPORTED_MODULE_3__.logout,
      icon: 'LogOut'
    }];
  }, [account, t]);
  var viewItems = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.map)(views, function (view) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(UtilityBarItem, {
        view: view,
        key: view.id
      });
    });
  }, [views]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Container, {
    orientation: "horizontal",
    width: "fit"
  }, viewItems, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {
    label: (_account$displayName2 = account === null || account === void 0 ? void 0 : account.displayName) !== null && _account$displayName2 !== void 0 ? _account$displayName2 : account === null || account === void 0 ? void 0 : account.name,
    placement: "bottom-end"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.Dropdown, {
    items: accountItems,
    maxWidth: "18.75rem",
    disableAutoFocus: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_11__.IconButton, {
    icon: "PersonOutline",
    size: "large",
    onClick: lodash__WEBPACK_IMPORTED_MODULE_1__.noop
  }))));
};

/***/ }),

/***/ "./src/utility-bar/panel.tsx":
/*!***********************************!*\
  !*** ./src/utility-bar/panel.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShellUtilityPanel": () => (/* binding */ ShellUtilityPanel)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zextras/carbonio-design-system */ "./node_modules/@zextras/carbonio-design-system/dist/zapp-ui.bundle.js");
/* harmony import */ var _zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../boot/app/app-context-provider */ "./src/boot/app/app-context-provider.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./src/utility-bar/utils.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./store */ "./src/utility-bar/store.ts");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */







var Panel = (0,styled_components__WEBPACK_IMPORTED_MODULE_5__["default"])(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Container).withConfig({
  displayName: "panel__Panel",
  componentId: "sc-1czvuxd-0"
})(["width:", "rem;border-radius:0;height:100%;position:absolute;right:0;top:0;bottom:0;transition:width 0.2s;border-left:0.0625rem solid ", ";"], function (_ref) {
  var mode = _ref.mode;
  return mode !== 'closed' ? 16 : 3;
}, function (_ref2) {
  var theme = _ref2.theme;
  return theme.palette.gray2.regular;
});
var Spacer = styled_components__WEBPACK_IMPORTED_MODULE_5__["default"].div.withConfig({
  displayName: "panel__Spacer",
  componentId: "sc-1czvuxd-1"
})(["position:relative;width:", "rem;height:100%;transition:width 0.2s;"], function (_ref3) {
  var mode = _ref3.mode;
  return mode === 'open' ? 16 : 3;
});
var ShellUtilityPanel = function ShellUtilityPanel() {
  var _useUtilityBarStore = (0,_store__WEBPACK_IMPORTED_MODULE_4__.useUtilityBarStore)(),
    mode = _useUtilityBarStore.mode,
    setMode = _useUtilityBarStore.setMode,
    current = _useUtilityBarStore.current,
    setCurrent = _useUtilityBarStore.setCurrent;
  var views = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.useUtilityViews)();
  var currentPanel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.find)(views, function (view) {
      return view.id === current;
    });
  }, [current, views]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (!(current && currentPanel)) {
      var _views$;
      setCurrent((_views$ = views[0]) === null || _views$ === void 0 ? void 0 : _views$.id);
    }
  }, [current, currentPanel, setCurrent, views]);
  return currentPanel ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_zextras_carbonio_design_system__WEBPACK_IMPORTED_MODULE_6__.Responsive, {
    mode: "desktop"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Spacer, {
    mode: mode
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Panel, {
    mode: mode,
    mainAlignment: "flex-start"
  }, currentPanel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_boot_app_app_context_provider__WEBPACK_IMPORTED_MODULE_2__["default"], {
    pkg: currentPanel === null || currentPanel === void 0 ? void 0 : currentPanel.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(currentPanel.component, {
    mode: mode,
    setMode: setMode
  }))))) : null;
};

/***/ }),

/***/ "./src/utility-bar/store.ts":
/*!**********************************!*\
  !*** ./src/utility-bar/store.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useUtilityBarStore": () => (/* binding */ useUtilityBarStore)
/* harmony export */ });
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ "./node_modules/zustand/esm/index.mjs");
/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

// extra currying as suggested in https://github.com/pmndrs/zustand/blob/main/docs/guides/typescript.md#basic-usage
var useUtilityBarStore = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)()(function (set) {
  return {
    mode: 'closed',
    current: undefined,
    secondaryBarState: true,
    setMode: function setMode(mode) {
      return set(function (s) {
        return {
          mode: mode,
          secondaryBarState: mode === 'open' ? false : s.secondaryBarState
        };
      });
    },
    setCurrent: function setCurrent(current) {
      return set({
        current: current
      });
    },
    setSecondaryBarState: function setSecondaryBarState(secondaryBarState) {
      return set({
        secondaryBarState: secondaryBarState
      });
    }
  };
});

/***/ }),

/***/ "./src/utility-bar/utils.ts":
/*!**********************************!*\
  !*** ./src/utility-bar/utils.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkList": () => (/* binding */ checkList),
/* harmony export */   "checkRoute": () => (/* binding */ checkRoute),
/* harmony export */   "useUtilityViews": () => (/* binding */ useUtilityViews)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ "./node_modules/core-js/modules/es.object.values.js");
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _history_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../history/hooks */ "./src/history/hooks.ts");
/* harmony import */ var _store_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/app */ "./src/store/app/index.ts");

/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */





var checkList = function checkList(l1, l2) {
  return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.intersection)(l1, l2).length > 0;
};
var checkRoute = function checkRoute(view, activeRoute) {
  var _omit;
  var activeRouteValues = Object.values((_omit = (0,lodash__WEBPACK_IMPORTED_MODULE_1__.omit)(activeRoute, 'standalone')) !== null && _omit !== void 0 ? _omit : {});
  if (view.blacklistRoutes) return !checkList(activeRouteValues, view.blacklistRoutes);
  if (view.whitelistRoutes) return checkList(activeRouteValues, view.whitelistRoutes);
  return true;
};
var useUtilityViews = function useUtilityViews() {
  var utilityViews = (0,_store_app__WEBPACK_IMPORTED_MODULE_4__.useAppStore)(function (s) {
    return s.views.utilityBar;
  });
  var activeRoute = (0,_history_hooks__WEBPACK_IMPORTED_MODULE_3__.useCurrentRoute)();
  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_1__.filter)(utilityViews, function (v) {
      return checkRoute(v, activeRoute);
    });
  }, [activeRoute, utilityViews]);
};

/***/ }),

/***/ "./src/utils/utils.ts":
/*!****************************!*\
  !*** ./src/utils/utils.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createExportForTestOnly": () => (/* binding */ createExportForTestOnly),
/* harmony export */   "setElementSizeAndPosition": () => (/* binding */ setElementSizeAndPosition),
/* harmony export */   "setGlobalCursor": () => (/* binding */ setGlobalCursor),
/* harmony export */   "stopPropagation": () => (/* binding */ stopPropagation),
/* harmony export */   "testFolderIsChecked": () => (/* binding */ testFolderIsChecked)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.starts-with.js */ "./node_modules/core-js/modules/es.string.starts-with.js");
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);





/*
 * SPDX-FileCopyrightText: 2023 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */


var testFolderIsChecked = function testFolderIsChecked(_ref) {
  var string = _ref.string;
  return /#/.test(string || '');
};
function setGlobalCursor(cursor) {
  var _document$body$classL;
  // remove previously set cursor
  var cursors = [];
  document.body.classList.forEach(function (item) {
    if (item.startsWith('global-cursor-')) {
      cursors.push(item);
    }
  });
  (_document$body$classL = document.body.classList).remove.apply(_document$body$classL, cursors);
  if (cursor) {
    document.body.classList.add("global-cursor-".concat(cursor));
  }
}
function setElementSizeAndPosition(element, key, value) {
  // eslint-disable-next-line no-param-reassign
  element.style[key] = value !== undefined ? "".concat(value, "px") : '';
}
function stopPropagation(event) {
  event.stopPropagation();
}
function createExportForTestOnly(objToExport) {
  return  false ? 0 : (0,lodash__WEBPACK_IMPORTED_MODULE_5__.reduce)(objToExport, function (accumulator, value, key) {
    accumulator[key] = undefined;
    return accumulator;
  }, {});
}

/***/ }),

/***/ "./src/workers/index.ts":
/*!******************************!*\
  !*** ./src/workers/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "folderWorker": () => (/* binding */ folderWorker),
/* harmony export */   "tagWorker": () => (/* binding */ tagWorker)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.url.js */ "./node_modules/core-js/modules/web.url.js");
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/web.url-search-params.js */ "./node_modules/core-js/modules/web.url-search-params.js");
/* harmony import */ var core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5__);






/*
 * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
var tagWorker = new Worker(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u("src_workers_tag_ts"), __webpack_require__.b));
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
var folderWorker = new Worker(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u("node_modules_core-js_internals_add-to-unscopables_js-src_workers_folder_ts"), __webpack_require__.b));

/***/ }),

/***/ "./node_modules/date-fns/locale lazy recursive \\.[/\\\\](de%7Cen-US%7Ces%7Cfr%7Chi%7Cit%7Cja%7Cnl%7Cpl%7Cpt%7Cpt-BR%7Cro%7Cru%7Cth%7Ctr%7Cvi%7Czh-CN)[/\\\\]index\\.js$":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/date-fns/locale/ lazy \.[/\\](de%7Cen-US%7Ces%7Cfr%7Chi%7Cit%7Cja%7Cnl%7Cpl%7Cpt%7Cpt-BR%7Cro%7Cru%7Cth%7Ctr%7Cvi%7Czh-CN)[/\\]index\.js$ namespace object ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./de/index.js": [
		"./node_modules/date-fns/locale/de/index.js",
		"vendors-node_modules_date-fns_locale_de_index_js"
	],
	"./en-US/index.js": [
		"./node_modules/date-fns/locale/en-US/index.js",
		"vendors-node_modules_date-fns_locale_en-US_index_js"
	],
	"./es/index.js": [
		"./node_modules/date-fns/locale/es/index.js",
		"vendors-node_modules_date-fns_locale_es_index_js"
	],
	"./fr/index.js": [
		"./node_modules/date-fns/locale/fr/index.js",
		"vendors-node_modules_date-fns_locale_fr_index_js"
	],
	"./hi/index.js": [
		"./node_modules/date-fns/locale/hi/index.js",
		"vendors-node_modules_date-fns_locale_hi_index_js"
	],
	"./it/index.js": [
		"./node_modules/date-fns/locale/it/index.js",
		"vendors-node_modules_date-fns__lib_isSameUTCWeek_index_js-node_modules_date-fns_locale__lib_b-41ea83",
		"vendors-node_modules_date-fns_locale_it_index_js"
	],
	"./ja/index.js": [
		"./node_modules/date-fns/locale/ja/index.js",
		"vendors-node_modules_date-fns_locale_ja_index_js"
	],
	"./nl/index.js": [
		"./node_modules/date-fns/locale/nl/index.js",
		"vendors-node_modules_date-fns_locale_nl_index_js"
	],
	"./pl/index.js": [
		"./node_modules/date-fns/locale/pl/index.js",
		"vendors-node_modules_date-fns__lib_isSameUTCWeek_index_js-node_modules_date-fns_locale__lib_b-41ea83",
		"vendors-node_modules_date-fns_locale_pl_index_js"
	],
	"./pt-BR/index.js": [
		"./node_modules/date-fns/locale/pt-BR/index.js",
		"vendors-node_modules_date-fns_locale_pt-BR_index_js"
	],
	"./pt/index.js": [
		"./node_modules/date-fns/locale/pt/index.js",
		"vendors-node_modules_date-fns_locale_pt_index_js"
	],
	"./ro/index.js": [
		"./node_modules/date-fns/locale/ro/index.js",
		"vendors-node_modules_date-fns_locale_ro_index_js"
	],
	"./ru/index.js": [
		"./node_modules/date-fns/locale/ru/index.js",
		"vendors-node_modules_date-fns__lib_isSameUTCWeek_index_js-node_modules_date-fns_locale__lib_b-41ea83",
		"vendors-node_modules_date-fns_locale_ru_index_js"
	],
	"./th/index.js": [
		"./node_modules/date-fns/locale/th/index.js",
		"vendors-node_modules_date-fns_locale_th_index_js"
	],
	"./tr/index.js": [
		"./node_modules/date-fns/locale/tr/index.js",
		"vendors-node_modules_date-fns_locale_tr_index_js"
	],
	"./vi/index.js": [
		"./node_modules/date-fns/locale/vi/index.js",
		"vendors-node_modules_date-fns_locale_vi_index_js"
	],
	"./zh-CN/index.js": [
		"./node_modules/date-fns/locale/zh-CN/index.js",
		"vendors-node_modules_date-fns__lib_isSameUTCWeek_index_js-node_modules_date-fns_locale__lib_b-41ea83",
		"vendors-node_modules_date-fns_locale_zh-CN_index_js"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(() => {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {
		return __webpack_require__.t(id, 7 | 16);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = "./node_modules/date-fns/locale lazy recursive \\.[/\\\\](de%7Cen-US%7Ces%7Cfr%7Chi%7Cit%7Cja%7Cnl%7Cpl%7Cpt%7Cpt-BR%7Cro%7Cru%7Cth%7Ctr%7Cvi%7Czh-CN)[/\\\\]index\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/shell/boards/board-tab.css":
/*!****************************************!*\
  !*** ./src/shell/boards/board-tab.css ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!***************************************************!*\
  !*** ./node_modules/moment/locale/ sync ^\.\/.*$ ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn-bd": "./node_modules/moment/locale/bn-bd.js",
	"./bn-bd.js": "./node_modules/moment/locale/bn-bd.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-in": "./node_modules/moment/locale/en-in.js",
	"./en-in.js": "./node_modules/moment/locale/en-in.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./en-sg": "./node_modules/moment/locale/en-sg.js",
	"./en-sg.js": "./node_modules/moment/locale/en-sg.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-mx": "./node_modules/moment/locale/es-mx.js",
	"./es-mx.js": "./node_modules/moment/locale/es-mx.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fil": "./node_modules/moment/locale/fil.js",
	"./fil.js": "./node_modules/moment/locale/fil.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-deva": "./node_modules/moment/locale/gom-deva.js",
	"./gom-deva.js": "./node_modules/moment/locale/gom-deva.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./oc-lnc": "./node_modules/moment/locale/oc-lnc.js",
	"./oc-lnc.js": "./node_modules/moment/locale/oc-lnc.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tk": "./node_modules/moment/locale/tk.js",
	"./tk.js": "./node_modules/moment/locale/tk.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-mo": "./node_modules/moment/locale/zh-mo.js",
	"./zh-mo.js": "./node_modules/moment/locale/zh-mo.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./assets/notification.mp3":
/*!*********************************!*\
  !*** ./assets/notification.mp3 ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "20d012c938e8d0dcc703.mp3";

/***/ }),

/***/ "?4a14":
/*!************************!*\
  !*** canvas (ignored) ***!
  \************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?fe90":
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?d446":
/*!**********************!*\
  !*** http (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?4c38":
/*!***********************!*\
  !*** https (ignored) ***!
  \***********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?9f5f":
/*!*********************!*\
  !*** url (ignored) ***!
  \*********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?afbb":
/*!**********************!*\
  !*** zlib (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ })

}]);
//# sourceMappingURL=src_boot_bootstrapper_tsx-node_modules_moment_locale_sync_recursive_.bf050fbf.chunk.js.map