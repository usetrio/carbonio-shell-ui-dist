(self.webpackChunk_zextras_carbonio_shell_ui=self.webpackChunk_zextras_carbonio_shell_ui||[]).push([[883],{15178:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DefaultViewsRegister:()=>zl,default:()=>Cl});var a={};n.r(a),n.d(a,{ACCOUNTS_APP_ID:()=>E,ACTION_TYPES:()=>_,BASENAME:()=>C,BASE_FONT_SIZE:()=>N,BOARD_CONTAINER_ZINDEX:()=>Y,BOARD_HEADER_HEIGHT:()=>q,BOARD_MIN_VISIBILITY:()=>X,BOARD_TAB_WIDTH:()=>K,DARK_READER_PROP_KEY:()=>L,DARK_READER_VALUES:()=>j,DELEGATED_SEND_SAVE_TARGET:()=>J,EMAIL_VALIDATION_REGEX:()=>A,FOLDERS:()=>h,FOLDER_VIEW:()=>x,HEADER_BAR_HEIGHT:()=>H,IS_STANDALONE:()=>z,LOCAL_STORAGE_BOARD_SIZE:()=>D,LOCAL_STORAGE_LAST_PRIMARY_KEY:()=>R,LOCAL_STORAGE_SEARCH_KEY:()=>I,LOCAL_STORAGE_SETTINGS_KEY:()=>M,LOGIN_V3_CONFIG_PATH:()=>Z,PRIMARY_BAR_WIDTH:()=>W,ROOT_NAME:()=>T,ResultLabelType:()=>U,SCALING_LIMIT:()=>V,SCALING_OPTIONS:()=>B,SEARCH_APP_ID:()=>O,SENTRY_FEEDBACK_DNS:()=>G,SENTRY_SHELL_DSN:()=>F,SETTINGS_APP_ID:()=>w,SHELL_APP_ID:()=>y,ZIMBRA_STANDARD_COLORS:()=>g,darkReaderDynamicThemeFixes:()=>k});var r=n(32259),i=n(77262),o=n.n(i),l=n(1969),u=n(85387),c=n(71150),s=n(9873),d=n(80153);const f=function(e){var t=e.children,n=(0,i.useCallback)((function(e){console.error(e)}),[]);return o().createElement(l.Catcher,{onError:n},t)};n(58085);var m,p,v,b,g=[{zValue:0,hex:"#000000",zLabel:"black"},{zValue:1,hex:"#2b73d2",zLabel:"blue"},{zValue:2,hex:"#29B6F6",zLabel:"cyan"},{zValue:3,hex:"#66BB6A",zLabel:"green"},{zValue:4,hex:"#7e57c2",zLabel:"purple"},{zValue:5,hex:"#ef5350",zLabel:"red"},{zValue:6,hex:"#ffc107",zLabel:"yellow"},{zValue:7,hex:"#edaeab",zLabel:"pink"},{zValue:8,hex:"#828282",zLabel:"gray"},{zValue:9,hex:"#FF7043",zLabel:"orange"}],h={USER_ROOT:"1",INBOX:"2",TRASH:"3",SPAM:"4",SENT:"5",DRAFTS:"6",CONTACTS:"7",TAGS:"8",CONVERSATIONS:"9",CALENDAR:"10",ROOT:"11",NOTEBOOK:"12",AUTO_CONTACTS:"13",IM_LOGS:"14",TASKS:"15",BRIEFCASE:"16",LAST_SYSTEM_FOLDER_POSITION:"16.1"},y="carbonio-shell-ui",w="settings",E="accounts",O="search",_={CONVERSATION:"conversation",CONVERSATION_lIST:"conversation_list",MESSAGE:"message",MESSAGE_lIST:"message_list",CONTACT:"contact",CONTACT_lIST:"contact_list",INVITE:"invite",INVITE_lIST:"invite_list",APPOINTMENT:"appointment",APPOINTMENT_lIST:"appointment_list",FOLDER:"folder",FOLDER_lIST:"folder_list",CALENDAR:"calendar",CALENDAR_lIST:"calendar_list",NEW:"new"},k={ignoreImageAnalysis:[".no-dr-invert *"],invert:[],css:"\n\t\t.tox, .force-white-bg, .tox-swatches-menu, .tox .tox-edit-area__iframe {\n\t\t\tbackground-color: #fff !important;\n\t\t\tbackground: #fff !important;\n\t\t}\n\t",ignoreInlineStyle:[".tox-menu *"],disableStyleSheetsProxy:!1},S="/carbonio/",P="".concat(S,"standalone"),z=window.location.pathname.startsWith(P),C=z?P:S,A=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,T="USER_ROOT",j=["auto","enabled","disabled"],x={search_folder:"search folder",tag:"tag",conversation:"conversation",message:"message",contact:"contact",document:"document",appointment:"appointment",virtual_conversation:"virtual conversation",remote_folder:"remote folder",wiki:"wiki",task:"task",chat:"chat"},M="settings",R="config",I="search_suggestions",D="board_size",B=[{value:75,label:"xs"},{value:87.5,label:"s"},{value:100,label:"m"},{value:112.5,label:"l"},{value:125,label:"xl"}],N=100,V={WIDTH:1400,HEIGHT:900,DPR:2},Z="/zx/login/v3/config",L="zappDarkreaderMode",F="https://0ce2448c05b94f0182c47ae52c7ff52c@feedback.zextras.tools/6",G="https://1b6b3e2bbdc64a73bf45c72b725c56b4@feedback.zextras.tools/8",U=function(e){return e.NORMAL="normal",e.WARNING="warning",e.ERROR="error",e}({}),H="3.75rem",W="3.0625rem",q="3rem",K="calc(3rem + 15ch)",Y=10,X={top:50,left:30},J=["owner","sender","both","none"],$=n(59857),Q=n(73526),ee=(n(582),n(12668),n(58643),n(44075),n(65464),n(18804),n(95581),n(19855),n(23889),n(56647),n(72304),n(45178),n(69301),n(45079)),te=n(35773),ne=n(12902),ae=n(30270),re=(n(83959),n(33921),(0,ae.Ue)()((function(){return{authenticated:!1,account:void 0,version:"",settings:{prefs:{},attrs:{},props:[]},usedQuota:0,lastNotificationTime:Date.now()}}))),ie=function(){return re((function(e){return e.account}))},oe=function(){var e=re((function(e){return e.account}));return(0,i.useMemo)((function(){return e?[e]:[]}),[e])},le=function(){return re((function(e){var t,n;return null!==(t=null===(n=e.account)||void 0===n?void 0:n.rights)&&void 0!==t?t:{targets:[]}}))},ue=function(e){var t=le().targets;return(0,i.useMemo)((function(){var n,a;return null!==(n=null===(a=(0,d.find)(t,["right",e]))||void 0===a?void 0:a.target)&&void 0!==n?n:[]}),[e,t])},ce=function(){return re((function(e){return e.settings}))},se=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return re((function(e){return(0,d.get)(e.settings,(0,d.join)(t,"."))}))},de=function(){return re.getState().account},fe=function(){return[re.getState().account]},me=function(){return re.getState().settings},pe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,d.get)(re.getState().settings,(0,d.join)(t,"."))},ve=function(){var e,t;return null!==(e=null===(t=re.getState().account)||void 0===t?void 0:t.rights)&&void 0!==e?e:{targets:[]}},be=function(e){var t,n;return null!==(t=null===(n=(0,d.find)(ve().targets,["right",e]))||void 0===n?void 0:n.target)&&void 0!==t?t:[]};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=re.getState().settings,we=null!==(m=null!==(p=null==ye||null===(v=ye.prefs)||void 0===v?void 0:v.zimbraPrefLocale)&&void 0!==p?p:null==ye||null===(b=ye.attrs)||void 0===b?void 0:b.zimbraLocale)&&void 0!==m?m:"en",Ee=ee.ZP.createInstance({lng:we}),Oe={returnEmptyString:!0,returnNull:!1,compatibilityJSON:"v3",lng:we,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},missingKeyHandler:function(e,t,n){console.warn("Missing translation with key '".concat(n,"'"))},backend:{loadPath:"".concat("/static/iris/carbonio-shell-ui/bf4cd0a881836a36fe0c4df29fc576e24ffe9534/","/i18n/{{lng}}.json")}},_e=(0,ae.Ue)()((function(e){return{instances:{},defaultI18n:Ee,locale:"en",setters:{setLocale:function(t){e((0,ne.ZP)((function(e){e.locale=t,(0,d.forEach)(e.instances,(function(e){return e.changeLanguage(t)}))})))}},getters:{getLocale:function(e){return e.locale}},actions:{addI18n:function(t,n){var a=function(e){return[].concat((0,Q.Z)(e),[{commit:"",description:"",js_entrypoint:"",name:y,priority:-1,version:"",type:"shell",attrKey:"",icon:"",display:"Shell"}])}(t);e((0,ne.ZP)((function(e){e.instances=(0,d.reduce)(a,(function(e,t){var a=ee.ZP.createInstance();return a.use(te.Z).init(he(he({},Oe),{},{lng:n,backend:{loadPath:t.name===y?"".concat("/static/iris/carbonio-shell-ui/bf4cd0a881836a36fe0c4df29fc576e24ffe9534/","/i18n/{{lng}}.json"):"".concat((0,d.dropRight)(t.js_entrypoint.split("/")).join("/"),"/i18n/{{lng}}.json")}})),e[t.name]=a,e}),{}),e.defaultI18n.t=e.instances[y].t,e.locale=n})))}}}}));Ee.use(te.Z).use(u.initReactI18next).init(Oe);var ke=function(e){var t,n,a=_e.getState(),r=a.instances,i=a.defaultI18n;return null!==(t=null===(n=r[e])||void 0===n?void 0:n.t)&&void 0!==t?t:i.t},Se=function(){var e,t,n=_e.getState(),a=n.instances,r=n.defaultI18n;return null!==(e=null===(t=a[y])||void 0===t?void 0:t.t)&&void 0!==e?e:r.t};const Pe=function(e){var t,n,a=e.pkg,r=e.children,i=_e.getState(),l=i.instances,c=i.defaultI18n,s=null!==(t=null!==(n=l[a])&&void 0!==n?n:l[y])&&void 0!==t?t:c;return o().createElement(u.I18nextProvider,{i18n:s},o().createElement(f,null,r))};n(90673),n(16492),n(77906);var ze=function(){return o().createElement("p",null,"Missing Component")},Ce=function(e){var t,n,a,r;return{show:null!==(t=e.show)&&void 0!==t&&t,count:null!==(n=e.count)&&void 0!==n?n:0,showCount:null!==(a=e.showCount)&&void 0!==a&&a,color:null!==(r=e.color)&&void 0!==r?r:"primary"}};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(e,t){return(0,d.filter)(e,(function(e){return e.id!==t}))},xe="standalone",Me=(0,ae.Ue)()((function(e,t){return{standalone:!1,apps:{},appContexts:{},shell:{commit:"",description:"",js_entrypoint:"",name:y,priority:-1,version:"",type:"shell",attrKey:"",icon:"",display:"Shell"},entryPoints:{},routes:{},views:{primaryBar:[],secondaryBar:[],appView:[],board:[],utilityBar:[],settings:[],search:[],primaryBarAccessories:[],secondaryBarAccessories:[]},setters:{addApps:function(t){e((function(e){var n;return{apps:(0,d.reduce)(t,(function(e,t){return t.name&&t.name!==y?Te(Te({},e),{},(0,$.Z)({},t.name,function(e){var t,n,a,r,i,o,l,u,c;return{commit:null!==(t=e.commit)&&void 0!==t?t:"",description:null!==(n=e.description)&&void 0!==n?n:"A carbonio Module",js_entrypoint:null!==(a=e.js_entrypoint)&&void 0!==a?a:"",name:null!==(r=e.name)&&void 0!==r?r:"module",priority:null!==(i=e.priority)&&void 0!==i?i:99,version:null!==(o=e.version)&&void 0!==o?o:"",type:null!==(l=e.type)&&void 0!==l?l:"carbonio",attrKey:e.attrKey,icon:null!==(u=e.icon)&&void 0!==u?u:"Cube",display:null!==(c=e.display)&&void 0!==c?c:"Module",sentryDsn:e.sentryDsn}}(t))):e}),{}),shell:Te(Te({},e.shell),null!==(n=(0,d.find)(t,(function(e){return e.name===y})))&&void 0!==n?n:{}),appContexts:(0,d.reduce)(t,(function(e,t){return t.name?Te(Te({},e),{},(0,$.Z)({},t.name,{})):e}),{})}}))},setAppContext:function(t){return function(n){e((0,ne.ZP)((function(e){e.appContexts[t]=(0,d.merge)(e.appContexts[t],n)})))}},addRoute:function(n){var a=t().standalone;return a&&n.route!==a?xe:(e((0,ne.ZP)((function(e){e.routes[n.id]=n,n.primaryBar&&(e.views.primaryBar=(0,d.sortBy)((0,d.unionWith)([{app:n.app,id:n.id,route:n.route,component:n.primaryBar,badge:n.badge,position:n.position,visible:n.visible,label:n.label}],e.views.primaryBar,(function(e,t){return e.id===t.id})),"position")),n.secondaryBar&&(e.views.secondaryBar=(0,d.unionWith)([{app:n.app,id:n.id,route:n.route,component:n.secondaryBar}],e.views.secondaryBar,(function(e,t){return e.id===t.id}))),n.appView&&(e.views.appView=(0,d.unionWith)([{app:n.app,id:n.id,route:n.route,component:n.appView}],e.views.appView,(function(e,t){return e.id===t.id}))),n.app&&(e.apps[n.app].display=n.label)}))),n.id)},setRouteVisibility:function(t,n){e((0,ne.ZP)((function(e){var a=(0,d.findIndex)(e.views.primaryBar,(function(e){return e.id===t}));a>=0&&(e.views.primaryBar[a].visible=n)})))},removeRoute:function(t){e((0,ne.ZP)((function(e){e.routes=(0,d.omit)(e.routes,[t]),e.views.primaryBar=je(e.views.primaryBar,t),e.views.secondaryBar=je(e.views.secondaryBar,t),e.views.appView=je(e.views.appView,t)})))},addBoardView:function(t){return e((0,ne.ZP)((function(e){e.views.board=(0,d.unionBy)([t],e.views.board,"id")}))),t.id},removeBoardView:function(t){e((0,ne.ZP)((function(e){e.views.board=je(e.views.board,t)})))},addSettingsView:function(n){var a=t().standalone;return a&&n.route!==a?xe:(e((0,ne.ZP)((function(e){e.views.settings=(0,d.sortBy)((0,d.unionBy)([n],e.views.settings,"id"),"position")}))),n.id)},removeSettingsView:function(t){e((0,ne.ZP)((function(e){e.views.settings=je(e.views.settings,t)})))},addSearchView:function(n){var a=t().standalone;return a&&n.route!==a?xe:(e((0,ne.ZP)((function(e){e.views.search=(0,d.sortBy)((0,d.unionBy)([n],e.views.search,"id"),"position")}))),n.id)},removeSearchView:function(t){e((0,ne.ZP)((function(e){e.views.search=je(e.views.search,t)})))},addUtilityView:function(t){return e((0,ne.ZP)((function(e){e.views.utilityBar=(0,d.sortBy)((0,d.unionBy)([t],e.views.utilityBar,"id"),"position")}))),t.id},removeUtilityView:function(t){e((0,ne.ZP)((function(e){e.views.utilityBar=je(e.views.utilityBar,t)})))},addPrimaryAccessoryView:function(t){return e((0,ne.ZP)((function(e){e.views.primaryBarAccessories=(0,d.unionBy)([t],e.views.primaryBarAccessories,"id")}))),t.id},removePrimaryAccessoryView:function(t){e((0,ne.ZP)((function(e){e.views.primaryBarAccessories=je(e.views.primaryBarAccessories,t)})))},addSecondaryAccessoryView:function(t){return e((0,ne.ZP)((function(e){e.views.secondaryBarAccessories=(0,d.unionBy)([t],e.views.secondaryBarAccessories,"id")}))),t.id},removeSecondaryAccessoryView:function(t){e((0,ne.ZP)((function(e){e.views.secondaryBarAccessories=je(e.views.secondaryBarAccessories,t)})))},updatePrimaryBadge:function(t,n){e((0,ne.ZP)((function(e){var a=(0,d.findIndex)(e.views.primaryBar,(function(e){return e.id===n}));a>=0&&(e.views.primaryBar[a].badge=Te(Te({},e.views.primaryBar[a].badge),t))})))},updateUtilityBadge:function(t,n){e((0,ne.ZP)((function(e){var a=(0,d.findIndex)(e.views.utilityBar,(function(e){return e.id===n}));a>=0&&(e.views.utilityBar[a].badge=Te(Te({},e.views.utilityBar[a].badge),t))})))}}}})),Re=function(e){return function(){return Me((function(t){return t.apps[e]}))}},Ie=function(){var e=Me((function(e){return e.apps}));return(0,i.useMemo)((function(){return(0,d.sortBy)(e,(function(e){return e.priority}))}),[e])},De=function(e){return function(){return Me.getState().apps[e]}},Be=function(e){return function(){return Me.getState().appContexts[e]}},Ne=function(){return Me.getState().routes},Ve=function(){return Me((function(e){return e.routes}))},Ze=function(e){var t=e.children,n=e.appId;return o().createElement("div",{key:n,id:n},o().createElement(Pe,{key:n,pkg:n},o().createElement(i.Suspense,{fallback:""},t)))};const Le=function(){var e=Me((function(e){return e.entryPoints})),t=(0,i.useMemo)((function(){return(0,d.map)(e,(function(e,t){return o().createElement(Ze,{key:t,appId:t},o().createElement(e,null))}))}),[e]);return o().createElement("div",{"data-testid":"app-mounter",key:"app-mounter",hidden:!0,style:{height:0,overflow:"hidden"}},t)};var Fe=n(62835),Ge=n(43085),Ue=n(78096),He=n(53126),We=n(47126),qe=n(47201),Ke=n(92567),Ye=(0,ae.Ue)()((function(e){var t;return{clients:(t={},(0,$.Z)(t,y,new Ue.Xb(new He.R({transport:We.f,stackParser:qe.Dt,integrations:Ke.SS,dsn:F,release:"0",maxValueLength:500}))),(0,$.Z)(t,"feedbacks",new Ue.Xb(new He.R({transport:We.f,stackParser:qe.Dt,integrations:Ke.SS,dsn:G,release:"0",maxValueLength:500}))),t),setClients:function(t){e((function(e){return{clients:(0,d.reduce)(t,(function(t,n){return n.sentryDsn&&(e.clients[n.name]=new Ue.Xb(new He.R({transport:We.f,stackParser:qe.Dt,integrations:Ke.SS,dsn:n.sentryDsn,release:n.version,maxValueLength:500}))),t}),e.clients)}}))}}}));function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=function(e){return function(t,n){var a,r=null===(a=Ye.getState().clients[e])||void 0===a?void 0:a.captureException(t,Je({},n));return r&&console.info("Reported event ",r),r}};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(88444),n(35634);var tt=(0,ae.Ue)()((function(){return{orderedBoards:[],boards:{},expanded:!1,minimized:!1}})),nt=function(e){return function(t,n){var a,r=null!==(a=t.id)&&void 0!==a?a:(0,d.uniqueId)("board-");return tt.setState((0,ne.ZP)((function(a){var i,o,l;a.boards[r]=et(et({},t),{},{app:e,id:r,icon:null!==(i=null!==(o=t.icon)&&void 0!==o?o:null===(l=De(e)())||void 0===l?void 0:l.icon)&&void 0!==i?i:"CubeOutline",url:(0,d.trimStart)(t.url,"/")}),a.current=r,a.minimized=!1,a.expanded=null!=n?n:a.expanded,a.orderedBoards.unshift(r)}))),tt.getState().boards[r]}},at=function(e){tt.setState((0,ne.ZP)((function(t){var n,a;null===(n=t.boards[e])||void 0===n||null===(a=n.onClose)||void 0===a||a.call(n,t.boards[e]),delete t.boards[e];var r=t.orderedBoards.findIndex((function(t){return t===e}));t.current===e&&(t.current=t.orderedBoards[r+1]||t.orderedBoards[r-1]),-1!==r&&t.orderedBoards.splice(r,1)})))},rt=function(){tt.setState((0,ne.ZP)((function(e){(0,d.forEach)(e.boards,(function(t){var n;null==t||null===(n=t.onClose)||void 0===n||n.call(t,t),delete e.boards[t.id]})),e.orderedBoards=[]})))},it=function(){tt.setState((0,ne.ZP)((function(e){var t=e.current;if(t){var n,a;null===(n=e.boards[t])||void 0===n||null===(a=n.onGoToPanel)||void 0===a||a.call(n,e.boards[t]),delete e.boards[t];var r=e.orderedBoards.findIndex((function(e){return e===t}));-1!==r&&e.orderedBoards.splice(r,1)}})))},ot=function(){tt.setState({minimized:!0})},lt=function(){tt.setState({minimized:!1})},ut=function(){tt.setState({expanded:!0})},ct=function(){tt.setState({expanded:!1})},st=function(e){tt.setState({current:e})},dt=function(e,t){tt.setState((0,ne.ZP)((function(n){n.boards[e]&&(n.boards[e]=et(et({},n.boards[e]),t))})))},ft=function(e,t){tt.setState((0,ne.ZP)((function(n){n.boards[e]&&(n.boards[e].context=t)})))},mt=function(e){return tt((function(t){return t.boards[e]}))},pt=function(e){return tt.getState().boards[e]},vt=function(e){return tt((function(t){return t.boards[e].context}))},bt=function(e){return tt.getState().boards[e].context},gt=(0,i.createContext)(),ht=(0,i.createContext)(),yt=function(e){var t=e.children,n=e.id,a=mt(n),r=(0,i.useMemo)((function(){return{getBoardContext:function(){return bt(n)},getBoard:function(){return pt(n)},closeBoard:function(){return at(n)},updateBoard:function(e){return dt(n,e)},setCurrentBoard:function(){return st(n)}}}),[n]);return o().createElement(ht.Provider,{value:r},o().createElement(gt.Provider,{value:a},t))},wt=function(){return(0,i.useContext)(ht)},Et=function(){return(0,i.useContext)(gt)};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=Ge.default.textarea.withConfig({displayName:"feedback__TextArea",componentId:"sc-s79wog-0"})(["width:100%;min-height:8rem;box-sizing:border-box;outline:none;border:none;background:",";resize:none;transition:height 0.4s ease;color:",";font-family:",";font-size:",";&:focus{background:",";outline:none;}"],(function(e){return e.theme.palette.gray5.regular}),(function(e){return e.theme.palette.text.regular}),(function(e){return e.theme.fonts.default}),(function(e){var t=e.theme,n=e.size;return t.sizes.font[null!=n?n:"medium"]}),(function(e){return e.theme.palette.gray4.regular})),St=(0,Ge.default)(l.Container).withConfig({displayName:"feedback__TextContainer",componentId:"sc-s79wog-1"})(["text-align:justify;align-items:flex-start;width:80%;"]),Pt=(0,Ge.default)(l.Container).withConfig({displayName:"feedback__ButtonContainer",componentId:"sc-s79wog-2"})(["width:20%;position:relative;"]),zt=(0,Ge.default)(l.Container).withConfig({displayName:"feedback__TAContainer",componentId:"sc-s79wog-3"})(["background:",";border-radius:0.125rem 0.125rem 0 0;padding:0.5rem;transition:height 0.4s ease;height:auto;max-height:50%;&:focus-within{background:",";outline:none;border-bottom:0.0625rem solid ",";}"],(function(e){return e.theme.palette.gray5.regular}),(function(e){return e.theme.palette.gray4.regular}),(function(e){return e.theme.palette.primary.regular})),Ct=(0,Ge.default)(l.Text).withConfig({displayName:"feedback__SubHeadingText",componentId:"sc-s79wog-4"})(["border-radius:0.125rem 0.125rem 0 0;font-size:0.875rem;font-weight:300;margin-top:0.625rem;line-height:",";"],(function(e){var t=e.lineHeight;return null!=t?t:"normal"})),At=(0,Ge.default)(l.Container).withConfig({displayName:"feedback__LabelContainer",componentId:"sc-s79wog-5"})(["border-bottom:0.0625rem solid ",";"],(function(e){var t=e.theme;return e.disabled?t.palette.error.regular:t.palette.gray2.regular})),Tt={message:"",level:"info",release:"unknown",extra:{app:"0",topic:"0"},user:{}};function jt(e,t){var n=t.type,a=t.payload;switch(n){case"set-user":return _t(_t({},e),{},{user:a});case"reset":return Tt;case"set-message":return _t(_t({},e),{},{message:a});case"select-app":return _t(_t({},e),{},{release:a.version,extra:_t(_t({},e.extra),{},{app:a.app})});case"select-topic":return _t(_t({},e),{},{extra:_t(_t({},e.extra),{},{topic:a})});default:return e}}var xt=function(e){var t=e.selected,n=e.label,a=e.open,r=e.focus,i=e.disabled;return o().createElement(At,{orientation:"horizontal",width:"fill",crossAlignment:"center",mainAlignment:"space-between",borderRadius:"half",background:"gray5",padding:{all:"small"},disabled:i},o().createElement(l.Row,{takeAvailableSpace:!0,mainAlignment:"unset"},o().createElement(l.Text,{size:"medium",color:a||r?"primary":"secondary"},t.length>0?t[0].label:n)),o().createElement(l.Icon,{size:"large",icon:a?"ChevronUpOutline":"ChevronDownOutline",color:a||r?"primary":"secondary",style:{alignSelf:"center"}}))},Mt=function(e){var t=e.selected,n=e.label,a=e.open,r=e.focus,i=e.showErr;return o().createElement(At,{disabled:i,orientation:"horizontal",width:"fill",crossAlignment:"center",mainAlignment:"space-between",borderRadius:"half",background:"gray5",padding:{all:"small"}},o().createElement(l.Row,{takeAvailableSpace:!0,mainAlignment:"unset"},i?o().createElement(l.Text,{size:"medium",color:a&&i||r?"primary":"error"},t.length>0?t[0].label:n):o().createElement(l.Text,{size:"medium",color:a||r?"primary":"secondary"},t.length>0?t[0].label:n)),i?o().createElement(l.Icon,{size:"large",icon:a?"ChevronUpOutline":"ChevronDownOutline",color:a&&i||r?"primary":"error",style:{alignSelf:"center"}}):o().createElement(l.Icon,{size:"large",icon:a?"ChevronUpOutline":"ChevronDownOutline",color:a||r?"primary":"secondary",style:{alignSelf:"center"}}))};n(83556);var Rt=(0,ae.Ue)()((function(e,t){return{query:[],searchDisabled:!1,tooltip:void 0,setSearchDisabled:function(t,n){return e({searchDisabled:t,tooltip:n})},updateQuery:function(n){return e({query:(0,d.isFunction)(n)?n(t().query):n})},updateModule:function(t){return e({module:t})}}})),It=function(){return Rt((function(e){return[e.query,e.updateQuery]}))},Dt=function(){return Rt((function(e){return[e.searchDisabled,e.setSearchDisabled]}))},Bt=function(e){var t=e.label,n=e.labelType,a=void 0===n?U.NORMAL:n,u=Se(),c=It(),s=(0,r.Z)(c,2),f=s[0],m=s[1],p=Dt(),v=(0,r.Z)(p,2)[1],b=(0,i.useCallback)((function(){m([]),v(!1)}),[m,v]),g=(0,i.useMemo)((function(){if(a===U.NORMAL)return o().createElement(o().Fragment,null);var e=function(e){return e===U.WARNING?["AlertTriangle","warning"]:e===U.ERROR?["CloseSquare","error"]:["",""]}(a),t=(0,r.Z)(e,2),n=t[0],i=t[1];return o().createElement(l.Padding,{right:"small"},o().createElement(l.Icon,{icon:n,size:"large",color:i}))}),[a]),h=(0,i.useMemo)((function(){return(0,d.map)(f,(function(e,t){return o().createElement(l.Padding,{key:"".concat(t).concat(e.label),all:"extrasmall"},o().createElement(l.Chip,(0,Fe.Z)({},e,{background:"gray2"})))}))}),[f]);return o().createElement(o().Fragment,null,o().createElement(l.Container,{orientation:"horizontal",mainAlignment:"flex-start",width:"100%",background:"gray5",height:"fit",minHeight:"3rem",maxHeight:"7.5rem",style:{overflow:"hidden"},padding:{horizontal:"large",vertical:"medium"}},o().createElement(l.Container,{width:"85%",orientation:"horizontal",wrap:"wrap",mainAlignment:"flex-start"},g,o().createElement(l.Text,{color:"secondary"},t),h),(null==f?void 0:f.length)>0&&o().createElement(l.Container,{width:"15%",mainAlignment:"flex-start",crossAlignment:"flex-start"},o().createElement(l.Button,{label:u("label.clear_search_query","CLEAR SEARCH"),icon:"CloseOutline",color:"primary",width:"fill",type:"ghost",onClick:b}))),o().createElement(l.Divider,{color:"gray3"}))},Nt=(n(32216),n(36941),n(10731),n(89117),n(89307),n(25994),n(33366),n(56818),n(750)),Vt=n.n(Nt);function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft="YYYYMMDDHHmmss[Z]";function Gt(e){return Vt().utc(e,Ft)}function Ut(e){return Gt(e).format(Ft)}var Ht=function(e){return new Date(new Date(e).setHours(0,0,0,0))},Wt=function(e){return new Date(new Date(e).setHours(23,59,59,0))},qt=function(e){return[{id:"zh_CN",name:"中文 (中国)",localName:e("locale.chinese_china","Chinese (China)"),label:e("locale.label_chinese",{value:"中文 (中国)",defaultValue:"Chinese (China) - {{value}}"}),value:"zh_CN",dateFnsLocale:"zh-CN"},{id:"nl",name:"Nederlands",localName:e("locale.dutch","Dutch"),label:e("locale.label_dutch",{value:"Nederlands",defaultValue:"Dutch - {{value}}"}),value:"nl"},{id:"en",name:"English",localName:e("locale.English","English"),label:e("locale.label_english",{value:"English",defaultValue:"English - {{value}}"}),value:"en",dateFnsLocale:"en-US"},{id:"de",name:"Deutsch",localName:e("locale.german","German"),label:e("locale.label_german",{value:"Deutsch",defaultValue:"German - {{value}}"}),value:"de"},{id:"hi",name:"हिंदी",localName:e("locale.hindi","Hindi"),label:e("locale.label_hindi",{value:"हिंदी",defaultValue:"Hindi - {{value}}"}),value:"hi"},{id:"it",name:"italiano",localName:e("locale.italian","Italian"),label:e("locale.label_italian",{value:"italiano",defaultValue:"Italian - {{value}}"}),value:"it"},{id:"ja",name:"日本語",localName:e("locale.japanese","Japanese"),label:e("locale.label_japanese",{value:"日本語",defaultValue:"Japanese - {{value}}"}),value:"ja"},{id:"pt",name:"português",localName:e("locale.portuguese","Portuguese"),label:e("locale.label_portuguese",{value:"português",defaultValue:"Portuguese - {{value}}"}),value:"pt"},{id:"pl",name:"polski",localName:e("locale.polish","Polish"),label:"Polish - polski",value:"pl"},{id:"pt_BR",name:"português (Brasil)",localName:e("locale.portuguese_brazil","Portuguese (Brazil)"),label:e("locale.label_portuguese_brazil",{value:"português (Brasil)",defaultValue:"Portuguese - {{value}}"}),value:"pt_BR",dateFnsLocale:"pt-BR"},{id:"ro",name:"română",localName:e("locale.romanian","Romanian"),label:e("locale.label_romanian",{value:"română",defaultValue:"Romanian - {{value}}"}),value:"ro"},{id:"ru",name:"русский",localName:e("locale.russian","Russian"),label:e("locale.label_russian",{value:"русский",defaultValue:"Russian - {{value}}"}),value:"ru"},{id:"es",name:"español",localName:e("locale.spanish","Spanish"),label:e("locale.label_spanish",{value:"español",defaultValue:"Spanish - {{value}}"}),value:"es"},{id:"th",name:"ไทย",localName:e("locale.thai","Thai"),label:e("locale.label_thai",{value:"ไทย",defaultValue:"Thai - {{value}}"}),value:"th"},{id:"tr",name:"Türkçe",localName:e("locale.turkish","Turkish"),label:e("locale.label_turkish",{value:"Türkçe",defaultValue:"Turkish - {{value}}"}),value:"tr"},{id:"fr",name:"français",localName:e("locale.french","French"),label:e("locale.label_french",{value:"français",defaultValue:"French - {{value}}"}),value:"fr"},{id:"vi",name:"Tiếng Việt",localName:e("locale.vietnamese","Vietnamese"),label:"Vietnamese - Tiếng Việt",value:"vi"}]},Kt=function(){if(window.screen.width<=V.WIDTH&&window.screen.height<=V.HEIGHT&&window.devicePixelRatio>=V.DPR){var e=B.findIndex((function(e){return e.value===N}));if(e>0)return B[e-1].value}return N};function Yt(e){return function(t,n){void 0===n?e("prefs",t,""):(0,d.isBoolean)(n)?e("prefs",t,n?"TRUE":"FALSE"):e("prefs",t,n)}}function Xt(e){return"DEFAULT"===e.name}var Jt=(0,Ge.default)(l.ListV2).withConfig({displayName:"accounts-list__List",componentId:"sc-bwoixl-0"})(["flex-shrink:0;"]);function $t(e,t){var n="New Persona ".concat(e);return t.includes(n)?$t(e+1,t):n}const Qt=function(e){var t=e.accountName,n=e.selectedIdentityId,a=e.identities,c=e.identitiesDefault,s=e.setSelectedIdentityId,f=e.removeIdentity,m=e.addIdentity,p=(0,u.useTranslation)(),v=(0,r.Z)(p,1)[0],b=(0,i.useContext)(l.ModalManagerContext),g=(0,i.useRef)(0),h=(0,i.useCallback)((function(){var e,t,n=$t(1,(0,d.map)([].concat((0,Q.Z)(c),(0,Q.Z)(a)),(function(e){var t;return(null===(t=e._attrs)||void 0===t?void 0:t.zimbraPrefIdentityName)||""})));m("".concat(g.current),{zimbraPrefIdentityName:n,zimbraPrefFromDisplay:null===(e=a[0]._attrs)||void 0===e?void 0:e.zimbraPrefFromDisplay,zimbraPrefFromAddress:null===(t=a[0]._attrs)||void 0===t?void 0:t.zimbraPrefFromAddress,zimbraPrefFromAddressType:"sendAs",zimbraPrefReplyToEnabled:"FALSE"}),g.current+=1,s(a.length)}),[c,a,m,s]),y=(0,i.useCallback)((function(){f(a[n].id),s(n-1)}),[a,f,n,s]),w=(0,i.useCallback)((function(){var e=b({title:v("label.permanent_delete_title","Are you sure to permanently delete this Persona?"),onConfirm:function(){y(),e()},confirmLabel:v("label.delete_permanently","Delete permanently"),confirmColor:"error",showCloseIcon:!0,onClose:function(){return e()},children:o().createElement(l.Padding,{all:"small"},o().createElement(l.Text,{overflow:"break-word"},v("messages.permanent_delete_body","If you permanently delete this Persona you will not be able to recover it. Continue?")))})}),[b,v,y]),E=(0,i.useMemo)((function(){return(0,d.map)(a,(function(e,a){return o().createElement(l.ListItem,{key:e.id,active:n===a},(function(){var n,r,i;return o().createElement(o().Fragment,null,o().createElement(l.Container,{role:"listitem","data-testid":"account-list-item-".concat(null===(n=e._attrs)||void 0===n?void 0:n.zimbraPrefIdentityId),onClick:function(){s(a)},orientation:"horizontal",mainAlignment:"flex-start",padding:{all:"small"}},o().createElement(l.Row,{width:"fill",mainAlignment:"space-between"},o().createElement(l.Container,{orientation:"horizontal",mainAlignment:"flex-start",width:"fit"},o().createElement(l.Padding,{right:"small"},o().createElement(l.Icon,{icon:"CheckmarkCircle2Outline",size:"large",color:"primary"})),o().createElement(l.Padding,{right:"small"},o().createElement(l.Text,{weight:"regular",size:"small"},null===(r=e._attrs)||void 0===r?void 0:r.zimbraPrefIdentityName)),o().createElement(l.Padding,{right:"small"},o().createElement(l.Text,{weight:"regular",size:"small",color:"secondary"},"(",Xt(e)?t:null===(i=e._attrs)||void 0===i?void 0:i.zimbraPrefFromAddress,")"))),o().createElement(l.Container,{width:"fit",mainAlignment:"flex-end"},o().createElement(l.Text,{weight:"regular",size:"small"},Xt(e)?v("label.primary","Primary"):v("label.persona","Persona"))))),o().createElement(l.Divider,null))}))}))}),[t,a,n,s,v]);return o().createElement(o().Fragment,null,o().createElement(l.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Padding,{horizontal:"medium",bottom:"large",width:"100%"},o().createElement(l.Text,{weight:"bold"},v("label.accounts_list","Accounts list"))),o().createElement(Jt,null,E)),o().createElement(l.Row,{padding:{horizontal:"large",bottom:"large"},width:"fill",mainAlignment:"flex-start",background:"gray6"},o().createElement(l.Padding,{right:"small"},o().createElement(l.Button,{label:v("label.add_persona","Add persona"),onClick:h,color:"primary",type:"outlined"})),o().createElement(l.Button,{label:v("label.delete","Delete"),onClick:w,color:"error",type:"outlined",disabled:Xt(a[n])})),o().createElement(l.Padding,{bottom:"large"}))};function en(e,t){(0,i.useImperativeHandle)(e,(function(){return{reset:t}}),[t])}const tn=function(e){var t=e.delegatedSendSaveTarget,n=e.updateDelegatedSendSaveTarget,a=e.resetRef,c=e.delegates,s=(0,u.useTranslation)(),f=(0,r.Z)(s,1)[0],m=(0,i.useState)("0"),p=(0,r.Z)(m,2),v=p[0],b=p[1],g=(0,i.useState)(t),h=(0,r.Z)(g,2),y=h[0],w=h[1],E=(0,i.useCallback)((function(e){if(t=e,!J.includes(t))throw new Error("invalid zimbraPrefDelegatedSendSaveTarget value");var t;w(e),n(e)}),[n]);return en(a,(0,i.useCallback)((function(){w(t),n(t)}),[t,n])),o().createElement(o().Fragment,null,o().createElement(l.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Padding,{horizontal:"medium",bottom:"large",width:"100%"},o().createElement(l.Text,{weight:"bold"},f("label.delegates","Delegates"))),o().createElement(l.List,{items:c,ItemComponent:function(e){var t=e.item,n=(0,i.useCallback)((function(){return b(t.id)}),[t.id]);return o().createElement(o().Fragment,null,o().createElement(l.Container,{onClick:n,orientation:"horizontal",mainAlignment:"flex-start",padding:{all:"small"}},o().createElement(l.Row,{width:"fill",mainAlignment:"space-between"},o().createElement(l.Container,{orientation:"horizontal",mainAlignment:"flex-start",width:"fit"},o().createElement(l.Padding,{right:"small"},o().createElement(l.Text,{weight:"regular",size:"small"},t.label)),o().createElement(l.Padding,{right:"small"},o().createElement(l.Text,{weight:"regular",size:"small",color:"secondary"},t.email))),o().createElement(l.Container,{width:"fit",mainAlignment:"flex-end"},o().createElement(l.Text,{weight:"regular",size:"small"},t.right))),o().createElement(l.Row,{width:"fit"})),o().createElement(l.Divider,null))},active:v,height:"fit"})),o().createElement(l.Row,{padding:{horizontal:"large"},width:"fill",mainAlignment:"flex-start",background:"gray6"},o().createElement(l.Padding,{right:"small"},o().createElement(l.Button,{label:f("label.add_delegate","Add delegate"),color:"primary",type:"outlined",disabled:!0,onClick:d.noop})),o().createElement(l.Padding,{right:"small"},o().createElement(l.Button,{label:f("label.edit_permissions","Edit permissions"),color:"primary",type:"outlined",disabled:!0,onClick:d.noop})),o().createElement(l.Button,{label:f("label.remove","remove"),color:"error",type:"outlined",disabled:!0,onClick:d.noop})),o().createElement(l.Container,{minWidth:"calc(min(100%, 32rem))",width:"100%",padding:{all:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.RadioGroup,{style:{width:"100%",justifyContent:"flex-start"},value:y,onChange:E},o().createElement(l.Radio,{width:"100%",label:f("label.save_to_my_sent_folder","Save a copy of sent messages to my Sent folder"),value:"owner"}),o().createElement(l.Radio,{label:f("label.save_delegate_folder","Save a copy of sent messages to delegate’s Sent folder"),value:"sender"}),o().createElement(l.Radio,{label:f("label.save_both_folders","Save a copy of sent messages to my Sent folder and delegate’s folder"),value:"both"}),o().createElement(l.Radio,{label:f("label.dont_save","Don’t save a copy of sent messages"),value:"none"})),o().createElement(l.Padding,{bottom:"large"})))},nn=function(e){var t=e.identityAttrs,n=e.updateIdentities,a=(0,u.useTranslation)(),c=(0,r.Z)(a,1)[0],s=(0,i.useState)(t.zimbraPrefIdentityName),d=(0,r.Z)(s,2),f=d[0],m=d[1],p=(0,i.useMemo)((function(){return c("label.persona_name","Persona Name")}),[c]);(0,i.useEffect)((function(){m(t.zimbraPrefIdentityName)}),[t.zimbraPrefIdentityName]);var v=(0,i.useCallback)((function(e){m(e.target.value),t.zimbraPrefIdentityId&&n(t.zimbraPrefIdentityId,"zimbraPrefIdentityName",e.target.value)}),[t.zimbraPrefIdentityId,n]);return o().createElement(o().Fragment,null,o().createElement(l.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Padding,{horizontal:"medium",width:"100%"},o().createElement(l.Text,{weight:"bold"},c("label.persona_settings","Persona Settings")))),o().createElement(l.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Row,{orientation:"vertical",mainAlignment:"flex-start",width:"fill"},o().createElement(l.Row,{orientation:"horizontal",width:"100%",mainAlignment:"flex-start"},o().createElement(l.Text,{color:"secondary"},c("label.use_personas_line1","Use personas to quickly change many settings when sending e-mail messages."))),o().createElement(l.Row,{orientation:"horizontal",width:"100%",mainAlignment:"flex-start"},o().createElement(l.Text,{color:"secondary"},c("label.use_personas_line2","For example, if you sometimes send e-mails in a particular role at work, create a persona for that."))))),o().createElement(l.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Row,{takeAvailableSpace:!0},o().createElement(l.Input,{label:p,value:f,onChange:v}))),o().createElement(l.Padding,{bottom:"large"}))},an=function(e){var t,n,a=e.account,c=e.identity,s=e.updateIdentities,d=(0,u.useTranslation)(),f=(0,r.Z)(d,1)[0],m=(0,i.useMemo)((function(){return f("label.email_address","E-mail address")}),[f]),p=(0,i.useState)(null==c||null===(t=c._attrs)||void 0===t?void 0:t.zimbraPrefIdentityName),v=(0,r.Z)(p,2),b=v[0],g=v[1];(0,i.useEffect)((function(){var e;return g(null===(e=c._attrs)||void 0===e?void 0:e.zimbraPrefIdentityName)}),[null===(n=c._attrs)||void 0===n?void 0:n.zimbraPrefIdentityName]);var h=(0,i.useMemo)((function(){return f("label.account_name","Account Name")}),[f]),y=(0,i.useCallback)((function(){return null}),[]),w=(0,i.useCallback)((function(e){g(e.target.value),s(c.id,"zimbraPrefIdentityName",e.target.value)}),[c.id,s]);return o().createElement(o().Fragment,null,o().createElement(l.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Padding,{horizontal:"medium",width:"100%"},o().createElement(l.Text,{weight:"bold"},f("primary_account.title","Primary Account Settings")))),o().createElement(l.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Row,{width:"50%",padding:{right:"small"}},o().createElement(l.Input,{label:m,value:a.name||" ",onChange:y})),o().createElement(l.Row,{width:"50%"},o().createElement(l.Input,{label:h,value:b,onChange:w}))),o().createElement(l.Padding,{bottom:"large"}))};n(80986);var rn={label:"",value:""};const on=function(e){var t=e.identityAttrs,n=e.updateIdentities,a=e.availableEmailAddresses,c=(0,u.useTranslation)(),s=(0,r.Z)(c,1)[0],f=(0,i.useMemo)((function(){return s("label.settings_sent_messages","Settings for Sent Messages")}),[s]),m=(0,i.useState)("TRUE"===t.zimbraPrefReplyToEnabled),p=(0,r.Z)(m,2),v=p[0],b=p[1],g=(0,i.useState)(t.zimbraPrefReplyToAddress||""),h=(0,r.Z)(g,2),y=h[0],w=h[1],E=(0,i.useState)(!1),O=(0,r.Z)(E,2),_=O[0],k=O[1],S=(0,i.useState)(t.zimbraPrefFromDisplay||""),P=(0,r.Z)(S,2),z=P[0],C=P[1],T=(0,i.useState)(t.zimbraPrefReplyToDisplay||""),j=(0,r.Z)(T,2),x=j[0],M=j[1],R=(0,i.useMemo)((function(){return a?a.map((function(e){return{value:e,label:e}})):[rn]}),[a]),I=(0,i.useState)((function(){var e;return null!==(e=(0,d.find)(R,(function(e){return e.value===t.zimbraPrefFromAddress})))&&void 0!==e?e:rn})),D=(0,r.Z)(I,2),B=D[0],N=D[1];(0,i.useEffect)((function(){b("TRUE"===t.zimbraPrefReplyToEnabled)}),[t.zimbraPrefReplyToEnabled]),(0,i.useEffect)((function(){C(t.zimbraPrefFromDisplay||"")}),[t.zimbraPrefFromDisplay]),(0,i.useEffect)((function(){var e;N(null!==(e=(0,d.find)(R,(function(e){return e.value===t.zimbraPrefFromAddress})))&&void 0!==e?e:rn)}),[R,t.zimbraPrefFromAddress]),(0,i.useEffect)((function(){var e;M(null!==(e=t.zimbraPrefReplyToDisplay)&&void 0!==e?e:"")}),[t.zimbraPrefReplyToDisplay]),(0,i.useEffect)((function(){w(t.zimbraPrefReplyToAddress||"")}),[t.zimbraPrefReplyToAddress]);var V=(0,i.useCallback)((function(){b((function(e){var a=!e;return t.zimbraPrefIdentityId&&n(t.zimbraPrefIdentityId,"zimbraPrefReplyToEnabled",e?"FALSE":"TRUE"),a}))}),[t.zimbraPrefIdentityId,n]),Z=(0,i.useMemo)((function(){return s("label.from_name",'From: "Name"')}),[s]),L=(0,i.useMemo)((function(){return s("label.address","Address")}),[s]),F=(0,i.useCallback)((function(e){e&&(null==B?void 0:B.value)!==e&&(N((0,d.filter)(R,(function(t){return t.value===e}))[0]),t.zimbraPrefIdentityId&&n(t.zimbraPrefIdentityId,"zimbraPrefFromAddress",e))}),[null==B?void 0:B.value,R,t.zimbraPrefIdentityId,n]),G=s("label.set_reply_to_field",'Set the "Reply-to" field of e-mail message to:'),U=(0,i.useMemo)((function(){return s("label.reply_to_field_example","e.g. Bob Smith")}),[s]),H=(0,i.useCallback)((function(e){M(e.target.value),t.zimbraPrefIdentityId&&n(t.zimbraPrefIdentityId,"zimbraPrefReplyToDisplay",e.target.value)}),[t.zimbraPrefIdentityId,n]),W=(0,i.useMemo)((function(){return s("label.choose_account","Choose an account")}),[s]),q=(0,i.useCallback)((function(e){w(e),t.zimbraPrefIdentityId&&n(t.zimbraPrefIdentityId,"zimbraPrefReplyToAddress",e)}),[n,t.zimbraPrefIdentityId]),K=(0,i.useMemo)((function(){var e;return[{id:"0",label:null!==(e=t.zimbraPrefFromAddress)&&void 0!==e?e:"",onClick:function(){var e;return q(null!==(e=t.zimbraPrefFromAddress)&&void 0!==e?e:"")}}]}),[t.zimbraPrefFromAddress,q]),Y=(0,i.useMemo)((function(){return v&&!A.test(y||"")}),[v,y]);return o().createElement(o().Fragment,null,o().createElement(l.Container,{minWidth:"calc(min(100%, 32rem))",width:"fill",padding:{all:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Padding,{horizontal:"medium",width:"100%"},o().createElement(l.Text,{weight:"bold"},f))),o().createElement(l.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Row,{width:"50%",padding:{right:"small"}},o().createElement(l.Input,{label:Z,value:z,onChange:function(e){C(e.target.value),t.zimbraPrefIdentityId&&n(t.zimbraPrefIdentityId,"zimbraPrefFromDisplay",e.target.value)}})),o().createElement(l.Row,{width:"50%"},o().createElement(l.Select,{label:L,selection:B,items:R,showCheckbox:!1,background:"gray5",onChange:F}))),o().createElement(l.Row,{width:"fill",background:"gray6",mainAlignment:"flex-start",padding:{horizontal:"large",bottom:"large"}},o().createElement(l.Checkbox,{label:G,value:v,onClick:V})),o().createElement(l.Row,{width:"fill",padding:{horizontal:"large",bottom:"large"},height:"fit",background:"gray6",mainAlignment:"flex-start"},o().createElement(l.Row,{width:"50%",padding:{right:"small"}},o().createElement(l.Input,{label:U,value:x,disabled:!v,onChange:H})),o().createElement(l.Row,{width:"50%"},o().createElement(l.Dropdown,{items:K,placement:"bottom-start",style:{flexGrow:"1"},onClose:function(){return k(!1)},onOpen:function(){return k(!0)},disabled:!v},o().createElement(l.Input,{label:W,value:y,onChange:function(e){return q(e.target.value)},hasError:Y,CustomIcon:function(){return o().createElement(l.Icon,{icon:_?"ArrowUp":"ArrowDown"})},disabled:!v})))),o().createElement(l.Padding,{bottom:"large"}))};n(12166),n(46867);var ln=function(e){var t=e.children,n=e.when,a=e.onSave,s=e.dataHasError,f=void 0!==s&&s,m=(0,c.k6)(),p=(0,i.useMemo)((function(){return m.location}),[m]),v=(0,i.useState)(!1),b=(0,r.Z)(v,2),g=b[0],h=b[1],y=(0,i.useState)(p),w=(0,r.Z)(y,2),E=w[0],O=w[1],_=(0,i.useState)(!1),k=(0,r.Z)(_,2),S=k[0],P=k[1],z=(0,u.useTranslation)(),C=(0,r.Z)(z,1)[0],A=function(){h(!1),P(!1)},T=function(){h(!1),P(!0)};return(0,i.useEffect)((function(){S&&E&&m.push(E)}),[S,m,E]),o().createElement(o().Fragment,null,o().createElement(c.NL,{when:n,message:function(e){return!(!S&&"".concat(e.pathname).concat(e.search||"")!=="".concat(m.location.pathname).concat(m.location.search)&&(h(!0),O(e),1))}}),o().createElement(l.Modal,{showCloseIcon:!0,closeIconTooltip:C("label.close","Close"),open:g,title:f?C("label.cannot_save_changes","Some changes cannot be saved"):C("label.unsaved_changes","You have unsaved changes"),onClose:A,onConfirm:f?T:function(){a().then((function(e){var t=(0,d.filter)(e,(function(e){return"rejected"===e.status}));t.length>0?(console.error(t),A()):(h(!1),P(!0))})).catch((function(e){console.error(e),A()}))},confirmLabel:f?C("label.leave_anyway","Leave anyway"):C("label.save_and_leave","Save and leave"),onSecondaryAction:f?A:T,secondaryActionLabel:f?C("label.cancel","Cancel"):C("label.leave_anyway","Leave anyway"),optionalFooter:f?void 0:o().createElement(l.Button,{color:"secondary",type:"outlined",label:C("label.cancel","Cancel"),onClick:A})},t))};const un=function(e){var t,n=e.onSave,a=e.onCancel,r=e.isDirty,u=e.title,s=Se(),d=(0,c.k6)(),f=(0,c.UO)(),m=(0,i.useMemo)((function(){return[{id:"settings",label:s("settings.app","Settings"),onClick:function(){return d.push("/".concat(w,"/"))}},{id:"general",label:u,onClick:function(){return d.push("/".concat(w,"/"))}}]}),[d,s,u]),p=null===(t=d.location)||void 0===t?void 0:t.search;return(0,i.useEffect)((function(){p&&setTimeout((function(){var e;return null===(e=document.querySelector("#".concat(d.location.search).replace("?section=","")))||void 0===e?void 0:e.scrollIntoView()}),1)}),[d,d.location,d.location.search,p,f]),o().createElement(o().Fragment,null,o().createElement(ln,{when:r,onSave:n},o().createElement(l.Text,null,s("label.unsaved_changes_line1","Are you sure you want to leave this page without saving?")),o().createElement(l.Text,null,s("label.unsaved_changes_line2","All your unsaved changes will be lost"))),o().createElement(l.Container,{orientation:"vertical",mainAlignment:"space-around",background:"gray5",height:"fit"},o().createElement(l.Row,{orientation:"horizontal",width:"100%"},o().createElement(l.Row,{padding:{all:"small"},mainAlignment:"flex-start",width:"50%",crossAlignment:"flex-start"},o().createElement(l.Breadcrumbs,{crumbs:m})),o().createElement(l.Row,{padding:{all:"small"},width:"50%",mainAlignment:"flex-end",crossAlignment:"flex-end"},o().createElement(l.Padding,{right:"small"},o().createElement(l.Button,{label:s("label.discard_changes","DISCARD CHANGES"),onClick:a,color:"secondary",disabled:!r})),o().createElement(l.Button,{label:s("label.save","Save"),color:"primary",onClick:n,disabled:!r})))),o().createElement(l.Divider,null))};var cn=n(26702),sn=n.n(cn)()(),dn=sn.os,fn=sn.browser,mn="CarbonioWebClient - ".concat(fn.name," ").concat(fn.version," (").concat(dn.name,")");function pn(){window.location.assign("".concat(window.location.origin,"/static/login"))}var vn=(0,ae.Ue)()((function(){return{pollingInterval:3e4,seq:0}})),bn=function(){return vn((function(e){var t;return null!==(t=e.notify)&&void 0!==t?t:[]}))},gn=function(){return vn((function(e){var t;return null!==(t=e.refresh)&&void 0!==t?t:{}}))},hn=(n(70504),n(81668),n(25419),n(68394),n(37615),new Worker(new URL(n.p+n.u(634),n.b))),yn=new Worker(new URL(n.p+n.u(962),n.b)),wn=(0,ae.Ue)()((function(){return{folders:{},roots:{},searches:{}}}));function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}yn.onmessage=function(e){var t=e.data;wn.setState(t)},n(99396),n(12446);var _n=function(e){var t=function(e){var t,n=e.id.split(":");return null!==(t=n[1])&&void 0!==t?t:n[0]}(e);return t===h.TRASH?h.LAST_SYSTEM_FOLDER_POSITION:parseInt(t,10)<17?"   ".concat(t):e.name.toLowerCase()},kn=function(e){return e.id===h.USER_ROOT||e.oname===T},Sn=function(e){return function(t){return function(n){return n.view===e||!t||void 0===n.view&&!kn(n)}}},Pn=function e(t,n,a,r){return(a?(0,d.sortBy)(t,a):t).filter(n(r)).map((function(t){return On(On({},t),{},{children:e(t.children,n,a,!0)})}))},zn=function e(t,n){var a=n.mapFunction,r=n.filterFunction,i=n.recursionKey,o=n.sortFunction,l=n.deep;return(0,d.sortBy)(t,o).reduce((function(t,n){return r(l)(n)&&t.push(On(On({},a(n)),{},(0,$.Z)({},i,e(n.children,{mapFunction:a,filterFunction:r,recursionKey:i,sortFunction:o,deep:!0})))),t}),[])};function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tn=function(e){return wn((function(t){var n;return null===(n=t.folders)||void 0===n?void 0:n[e]}))},jn=function(e){var t;return null===(t=wn.getState())||void 0===t||null===(t=t.folders)||void 0===t?void 0:t[e]},xn=function(){return wn((function(e){return e.folders}))},Mn=function(){return wn.getState().folders},Rn=function(e){return wn((function(t){var n;return null===(n=t.roots)||void 0===n?void 0:n[e]}))},In=function(e){var t;return null===(t=wn.getState().roots)||void 0===t?void 0:t[e]},Dn=function(){return wn((function(e){return e.roots}))},Bn=function(){return wn.getState().roots},Nn=function(e){return wn((function(t){return t.roots?t.roots[e]:{}}))},Vn=function(e){var t=wn.getState();return t.roots?t.roots[e]:{}},Zn=function(e){return wn((function(t){var n;return null===(n=t.searches)||void 0===n?void 0:n[e]}))},Ln=function(e){return wn.getState().searches[e]},Fn=function(){return wn((function(e){return e.searches}))},Gn=function(){return wn.getState().searches},Un=function(e){var t=Dn();return(0,i.useMemo)((function(){return t?Pn(Object.values(t),Sn(e),_n):[]}),[t,e])},Hn=function(e,t,n){var a=Dn();return(0,i.useMemo)((function(){return a?zn(Object.values(a),{mapFunction:function(e){var a,r={id:e.id,label:e.name,CustomComponent:t,items:[],folder:e,disableHover:kn(e)},i=null!==(a=null==n?void 0:n(r))&&void 0!==a?a:{};return An(An({},r),i)},filterFunction:Sn(e),recursionKey:"items",sortFunction:_n,deep:!1}):[]}),[t,n,a,e])},Wn=(0,ae.Ue)()((function(){return{tags:{}}}));hn.onmessage=function(e){var t=e.data;Wn.setState(t)};var qn=function(e){return Wn((function(t){return e?(0,d.pick)(t.tags,e):t.tags}))},Kn=function(e){return e?(0,d.pick)(Wn.getState().tags,e):Wn.getState().tags},Yn=function(e){var t,n,a=null!==(t=null===(n=e.prefs)||void 0===n?void 0:n.zimbraPrefMailPollingInterval)&&void 0!==t?t:"";if("500"===a)return 500;var r=parseInt(a,10);return Number.isNaN(r)?3e4:a.includes("m")?60*r*1e3:1e3*r};function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $n=function(){na(y)("NoOp",500===vn.getState().pollingInterval?{_jsns:"urn:zimbraMail",limitToOneBlocked:1,wait:1}:{_jsns:"urn:zimbraMail"})},Qn=function(e,t){if(t)return{by:"name",_content:t};if(e){if(e.name)return{by:"name",_content:e.name};if(e.id)return{by:"id",_content:e.id}}},ea=function(e,t){if(t)return'<account by="name">'.concat(t,"</account>");if(e){if(e.name)return'<account by="name">'.concat(e.name,"</account>");if(e.id)return'<account by="id">'.concat(e.id,"</account>")}return""},ta=function(e,t){var n,a,r,i,o,l=vn.getState().noOpTimeout,u=re.getState().usedQuota;if(clearTimeout(l),t.Body.Fault&&((0,d.find)(["service.AUTH_REQUIRED","service.AUTH_EXPIRED"],(function(e){var n;return e===(null===(n=t.Body.Fault.Detail)||void 0===n||null===(n=n.Error)||void 0===n?void 0:n.Code)}))&&(z?re.setState({authenticated:!1}):pn()),console.error(new Error("".concat(null===(r=t.Body.Fault.Detail)||void 0===r||null===(r=r.Error)||void 0===r?void 0:r.Detail,": ").concat(null===(i=t.Body.Fault.Reason)||void 0===i?void 0:i.Text)))),null!==(n=t.Header)&&void 0!==n&&n.context){var c,s,f,m,p,v=null!==(c=null===(s=t.Header.context)||void 0===s||null===(s=s.refresh)||void 0===s||null===(s=s.mbx)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.s)&&void 0!==c?c:null===(f=t.Header.context)||void 0===f||null===(f=f.notify)||void 0===f||null===(f=f[0])||void 0===f||null===(f=f.modified)||void 0===f||null===(f=f.mbx)||void 0===f||null===(f=f[0])||void 0===f?void 0:f.s,b=((o=t.Header.context).notify&&(o.notify=(0,d.map)(o.notify,(function(e){var t;return Jn(Jn({},e),{},{deleted:null===(t=e.deleted)||void 0===t||null===(t=t.id)||void 0===t?void 0:t.split(",")})}))),o),g=null!==(m=null===(p=(0,d.maxBy)(b.notify,"seq"))||void 0===p?void 0:p.seq)&&void 0!==m?m:0;!function(e){var t=e.refresh,n=e.notify;new Promise((function(e){var a,r=vn.getState().seq;t&&(hn.postMessage({op:"refresh",tags:t.tags}),yn.postMessage({op:"refresh",folder:null!==(a=t.folder)&&void 0!==a?a:[]})),null!=n&&n.length&&(0,d.forEach)(n,(function(e){e.seq>r&&(hn.postMessage({op:"notify",notify:e,state:Wn.getState().tags}),yn.postMessage({op:"notify",notify:e,state:wn.getState().folders}))})),e()}))}(b),re.setState({usedQuota:null!=v?v:u});var h=function(e){var t,n,a=vn.getState().pollingInterval,r=re.getState().settings,i=null==e||null===(t=e.Body)||void 0===t?void 0:t.waitDisallowed,o=null==e||null===(n=e.Body)||void 0===n?void 0:n.Fault;return o?6e4:i?1e4:o?a:Yn(r)}(t);vn.setState(Jn({noOpTimeout:setTimeout((function(){return $n()}),h),pollingInterval:h,seq:g},b))}return null!=t&&null!==(a=t.Body)&&void 0!==a&&a.Fault?t.Body:t.Body["".concat(e,"Response")]},na=function(e){return function(t,n,a,r){var i,o,l=re.getState(),u=l.zimbraVersion,c=l.account,s=vn.getState(),d=s.notify,f=s.session;return fetch("/service/soap/".concat(t,"Request"),{signal:r,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Body:(0,$.Z)({},"".concat(t,"Request"),n),Header:{context:{_jsns:"urn:zimbra",notify:null!=d&&null!==(i=d[0])&&void 0!==i&&i.seq?{seq:null==d||null===(o=d[0])||void 0===o?void 0:o.seq}:void 0,session:null!=f?f:{},account:Qn(c,a),userAgent:{name:mn,version:u}}}})}).then((function(e){return null==e?void 0:e.json()})).then((function(e){return ta(t,e)})).catch((function(t){throw $e(e)(t),t}))}},aa=function(e){return function(t,n,a){var r,i,o=re.getState(),l=o.zimbraVersion,u=o.account;return fetch("/service/soap/".concat(t,"Request"),{method:"POST",headers:{"content-type":"application/soap+xml"},body:'<?xml version="1.0" encoding="utf-8"?>\n\t\t<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">\n\t\t\t<soap:Header><context xmlns="urn:zimbra"><userAgent name="'.concat(mn,'" version="').concat(l,'"/>').concat((i=null===(r=vn.getState().session)||void 0===r?void 0:r.id,i?'<session id="'.concat(i,'"/>'):"")).concat(ea(u,a),'<format type="js"/></context></soap:Header>\n\t\t\t<soap:Body>').concat(n,"</soap:Body>\n\t\t</soap:Envelope>")}).then((function(e){return null==e?void 0:e.json()})).then((function(e){return ta(t,e)})).catch((function(t){throw $e(e)(t),t}))}};function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}na(y);var oa=function(){var e=(0,u.useTranslation)(),t=(0,r.Z)(e,1)[0],n=(0,l.useSnackbar)(),a=ie(),c=ce(),s=(0,i.useRef)({}),f=(0,i.useRef)([]),m=(0,i.useRef)({}),p=(0,i.useRef)(c.prefs.zimbraPrefDelegatedSendSaveTarget),v=(0,i.useState)(!1),b=(0,r.Z)(v,2),g=b[0],h=b[1],w=(0,i.useCallback)((function(){h(!(0,d.isEmpty)(s.current)||!(0,d.isEmpty)(f.current)||!(0,d.isEmpty)(m.current)||c.prefs.zimbraPrefDelegatedSendSaveTarget!==p.current)}),[c.prefs.zimbraPrefDelegatedSendSaveTarget]),E=(0,i.useCallback)((function(e){p.current=e,w()}),[w]),O=(0,i.useCallback)((function(){s.current={},f.current=[],m.current={},w()}),[w]),_=(0,i.useState)(0),k=(0,r.Z)(_,2),S=k[0],P=k[1],z=(0,i.useMemo)((function(){return function(e){var t=e.findIndex(Xt),n=(0,d.cloneDeep)(e),a=n.splice(t,1);return n.unshift(a[0]),n}(a.identities.identity)}),[a.identities.identity]),C=(0,i.useState)(z),A=(0,r.Z)(C,2),T=A[0],j=A[1],x=c.attrs.zimbraIdentityMaxNumEntries||0,M=(0,i.useCallback)((function(e,t){s.current[e]=t,w(),j((function(n){return[].concat((0,Q.Z)(n),[{id:e,name:t.zimbraPrefIdentityName,_attrs:ia(ia({},t),{},{zimbraPrefIdentityId:e})}])}))}),[w]),R=(0,i.useCallback)((function(e,t,n){if(s.current[e])s.current[e][t]=n;else if(m.current[e]){var a=(0,d.find)(z,(function(t){return t.id===e}));m.current[e][t]=n,a&&a._attrs[t]===n&&delete m.current[e][t],0===(0,d.size)(m.current[e])&&delete m.current[e]}else m.current[e]=(0,$.Z)({},t,n);w(),j((function(a){return(0,d.map)(a,(function(a){return a.id===e?ia(ia({},a),{},{_attrs:ia(ia({},a._attrs),{},(0,$.Z)({},t,n))}):a}))}))}),[w,z]),I=(0,i.useCallback)((function(e){s.current[e]?delete s.current[e]:(f.current=[].concat((0,Q.Z)(f.current),[e]),delete m.current[e]),w(),j((function(t){return(0,d.filter)(t,(function(t){return t.id!==e}))}))}),[w]);(0,i.useEffect)((function(){j(z),O()}),[z,O]);var D=(0,i.useCallback)((function(){if(z.length+(0,d.size)(s.current)-f.current.length>x)return n({key:"new",replace:!0,type:"error",label:t("message.snackbar.identities_quota_exceeded","The identity could not be created because you have exceeded your identity quota"),autoHideTimeout:5e3,hideButton:!0}),Promise.allSettled([Promise.reject(new Error("The identity could not be created because you have exceeded your identity quota"))]);var e;p.current&&c.prefs.zimbraPrefDelegatedSendSaveTarget!==p.current&&(e={_jsns:"urn:zimbraAccount",_attrs:{zimbraPrefDelegatedSendSaveTarget:p.current}});var a,r,i,o=(a=s.current,(0,d.map)(a,(function(e){return{_jsns:"urn:zimbraAccount",identity:{name:e.zimbraPrefIdentityName,_attrs:ia(ia({},e),{},{zimbraPrefFromAddressType:e.zimbraPrefFromAddressType||"sendAs"})}}}))),l=(r=f.current,(0,d.map)(r,(function(e,t){return{_jsns:"urn:zimbraAccount",identity:{id:e},requestId:t.toString()}}))),u=(i=m.current,(0,d.map)(i.current,(function(e,t){return{_jsns:"urn:zimbraAccount",identity:{id:t,_attrs:e}}}))),v=na(y)("Batch",{_jsns:"urn:zimbra",DeleteIdentityRequest:l.length>0?l:void 0,CreateIdentityRequest:o.length>0?o:void 0,ModifyIdentityRequest:u.length>0?u:void 0,ModifyPrefsRequest:e}).then((function(e){n({key:"new",replace:!0,type:"info",label:t("message.snackbar.settings_saved","Edits saved correctly"),autoHideTimeout:3e3,hideButton:!0}),O(),re.setState((0,ne.ZP)((function(t){var n,a,r,i,o,l,u,c;t.account&&(t.account.identities.identity=(r=t.account.identities.identity,i=f.current,o=(0,d.map)(e.CreateIdentityResponse,(function(e){return e.identity[0]})),l=m.current,u=(0,d.filter)(r,(function(e){return!i.includes(e.id)})),(c=(0,d.reduce)(l,(function(e,t,n){var a=(0,d.findIndex)(e,(function(e){return e.id===n}));return a>-1&&(e[a]._attrs=Lt(Lt({},e[a]._attrs),t),t.zimbraPrefIdentityName&&!Xt(e[a])&&(e[a].name=t.zimbraPrefIdentityName)),e}),u)).splice.apply(c,[-1,0].concat((0,Q.Z)(o))),c),t.account.displayName=(null===(n=(0,d.find)(m.current,(function(e){var n;return e.zimbraPrefIdentityId===(null==t||null===(n=t.account)||void 0===n?void 0:n.id)})))||void 0===n?void 0:n.zimbraPrefIdentityName)||(null===(a=t.account)||void 0===a?void 0:a.displayName)),t.settings.prefs.zimbraPrefDelegatedSendSaveTarget=p.current||""})))})).catch((function(e){if(n({key:"new",replace:!0,type:"error",label:t("snackbar.error","Something went wrong, please try again"),autoHideTimeout:3e3,hideButton:!0}),e instanceof Error)throw e;throw new Error("string"==typeof e?e:"edit setting error")}));return Promise.allSettled([v])}),[x,z.length,c.prefs.zimbraPrefDelegatedSendSaveTarget,n,t,O]),B=(0,i.useMemo)((function(){return function(e,t){var n,a,r=[];return r.push(e.name),null!==(n=e.rights)&&void 0!==n&&n.targets&&(null===(a=e.rights)||void 0===a||a.targets.forEach((function(e){!e.target||"sendAs"!==e.right&&"sendOnBehalfOf"!==e.right||e.target.forEach((function(e){"account"===e.type&&e.email&&e.email.forEach((function(e){r.push(e.addr)}))}))}))),t.attrs.zimbraMailAlias&&((0,d.isArray)(t.attrs.zimbraMailAlias)?r.push.apply(r,(0,Q.Z)(t.attrs.zimbraMailAlias)):r.push(String(t.attrs.zimbraMailAlias))),(0,d.uniq)(r)}(a,c)}),[a,c]),N=(0,i.useRef)(null),V=(0,i.useCallback)((function(){var e;O(),j(z),null===(e=N.current)||void 0===e||e.reset(),P((0,d.size)(z)-1)}),[z,O]),Z=(0,i.useState)([]),L=(0,r.Z)(Z,2),F=L[0],G=L[1];(0,i.useEffect)((function(){na(y)("GetRights",{_jsns:"urn:zimbraAccount",ace:[{right:"sendAs"},{right:"sendOnBehalfOf"}]}).then((function(e){if(e.ace){var t=e.ace,n=(0,d.reduce)(t,(function(e,t,n){var a=(0,d.findIndex)(e,{email:t.d});return-1===a?e.push({email:t.d||"",right:t.right,id:n.toString()}):(e.push({email:t.d||"",right:"".concat(t.right," and ").concat(e[a].right),id:n.toString()}),e.splice(a,1)),e}),[]);G(n)}}))}),[]);var U=(0,i.useMemo)((function(){var e=T[S];return e?o().createElement(nn,{identityAttrs:e._attrs,updateIdentities:R}):null}),[T,S,R]),H=(0,i.useMemo)((function(){var e=T[S];return e?o().createElement(on,{identityAttrs:e._attrs,updateIdentities:R,availableEmailAddresses:B}):null}),[B,T,S,R]);return o().createElement(o().Fragment,null,o().createElement(un,{onSave:D,onCancel:V,isDirty:g,title:t("label.accounts","Accounts")}),o().createElement(l.Container,{background:"gray5",padding:{top:"large"},height:"fit"}),o().createElement(l.Container,{background:"gray5",mainAlignment:"flex-start",padding:{all:"large"},style:{overflow:"auto"}},o().createElement(Qt,{accountName:a.name,identities:T,selectedIdentityId:S,setSelectedIdentityId:P,removeIdentity:I,addIdentity:M,identitiesDefault:z}),Xt(T[S])?o().createElement(o().Fragment,null,o().createElement(an,{account:a,identity:T[0],updateIdentities:R}),H,o().createElement(tn,{updateDelegatedSendSaveTarget:E,delegatedSendSaveTarget:c.prefs.zimbraPrefDelegatedSendSaveTarget,resetRef:N,delegates:F})):o().createElement(o().Fragment,null,U,H)))},la=function(e){return{label:e("settings.general.appearance","Appearance"),id:"appearance"}},ua=function(e){return{label:e("settings.timezone_and_language","Time Zone and Language"),id:"timezone_and_language"}},ca=function(e){return{label:e("settings.out_of_office.headings.settings_label","Out of Office Settings"),id:"out_of_office"}},sa=function(e){return{label:e("search.app","Search"),id:"search_prefs"}},da=function(e){return{label:e("module.app.version","Application versions"),id:"app_version"}},fa=function(e){return{label:e("user_quota.title","User's quota"),id:"user_quota"}},ma=function(e){return{label:e("settings.general.account","Account"),id:"account"}},pa=function(e){return[la(e),ua(e),ca(e),sa(e),da(e),fa(e),ma(e)]};const va=function(e){var t=e.children,n=Se(),a=(0,i.useMemo)((function(){return la(n)}),[n]);return o().createElement(l.Container,{mainAlignment:"flex-start",crossAlignment:"flex-start",gap:"1rem",padding:"large",minWidth:"calc(min(100%, 32rem))",width:"50%",height:"fit",id:a.id,background:"gray6"},o().createElement(l.Text,{weight:"bold",size:"medium"},a.label),t)};var ba=n(22173),ga=(0,ae.Ue)()((function(){return{loaded:!1,carbonioWebUiTitle:"Carbonio Client",carbonioWebUiFavicon:"".concat("/static/iris/carbonio-shell-ui/bf4cd0a881836a36fe0c4df29fc576e24ffe9534/","favicon.png")}}));function ha(){var e=ce(),t=ga().carbonioWebUiDarkMode,n=(0,i.useMemo)((function(){return(0,d.size)(e.prefs)>0||(0,d.size)(e.attrs)>0||(0,d.size)(e.props)>0}),[e]);return(0,i.useMemo)((function(){var a;if(n)return(null===(a=(0,d.find)(e.props,(function(e){return(t=e).name===L&&t.zimlet===y;var t})))||void 0===a?void 0:a._content)||t&&"enabled"||"disabled"}),[n,e,t])}var ya=function(){return window.matchMedia("(prefers-color-scheme: dark)")},wa=function(){var e=ha(),t=(0,i.useState)(!1),n=(0,r.Z)(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){e&&o("auto"===e&&ya().matches||"enabled"===e)}),[e]),(0,i.useEffect)((function(){var e=function(e){o(e.matches)};return ya().addEventListener("change",e),function(){ya().removeEventListener("change",e)}}),[]),{darkModeEnabled:a,darkReaderStatus:e}};function Ea(e){var t,n=[];document.body.classList.forEach((function(e){e.startsWith("global-cursor-")&&n.push(e)})),(t=document.body.classList).remove.apply(t,n),e&&document.body.classList.add("global-cursor-".concat(e))}function Oa(e,t,n){e.style[t]=void 0!==n?"".concat(n,"px"):""}function _a(e){e.stopPropagation()}function ka(e){return(0,d.reduce)(e,(function(e,t,n){return e[n]=void 0,e}),{})}function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var za=(0,ae.Ue)()((function(e){return{storage:{},readValue:function(t,n){try{var a=window.localStorage.getItem(t),r=null!==a?JSON.parse(a):n;e((function(e){return void 0===e.storage[t]?{storage:Pa(Pa({},e.storage),{},(0,$.Z)({},t,r))}:e}))}catch(a){console.error(a),e((function(e){return{storage:Pa(Pa({},e.storage),{},(0,$.Z)({},t,n))}}))}},setValue:function(t,n){e((function(e){var a,r,i=n instanceof Function?n(e.storage[t]):n;return a=i,r=e.storage[t],JSON.stringify(a)!==JSON.stringify(r)?(window.localStorage.setItem(t,JSON.stringify(i)),{storage:Pa(Pa({},e.storage),{},(0,$.Z)({},t,i))}):e}))}}})),Ca={keepSynchedWithStorage:!0};function Aa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ca,a=za((function(n){return n.storage[e]||t})),r=(0,i.useRef)(!1),o=(0,i.useMemo)((function(){return Pa(Pa({},Ca),n)}),[n]),l=(0,i.useCallback)((function(){za.getState().readValue(e,t)}),[e,t]);(0,i.useEffect)((function(){l()}),[l]);var u=(0,i.useCallback)((function(t){za.getState().setValue(e,t),r.current=!0}),[e]);return(0,i.useEffect)((function(){return null!=o&&o.keepSynchedWithStorage&&window.addEventListener("storage",l),function(){window.removeEventListener("storage",l)}}),[null==o?void 0:o.keepSynchedWithStorage,l]),(0,i.useEffect)((function(){r.current&&(window.dispatchEvent(new Event("storage")),r.current=!1)}),[a]),[a,u]}function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ka({useLocalStorageStore:za}),(0,ba.setFetchMethod)(window.fetch);var Ra=(0,i.createContext)({addExtension:function(){throw Error("Not implemented")},setDarkReaderState:function(){throw Error("not implemented")}}),Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return Ma(Ma(Ma({},t),e),{},{palette:Ma(Ma(Ma({},t.palette),e.palette),{},{shared:{regular:"#FFB74D",hover:"#FFA21A",active:"#FFA21A",focus:"#FF9800",disabled:"#FFD699"},linked:{regular:"#AB47BC",hover:"#8B3899",active:"#8B3899",focus:"#7A3187",disabled:"#DDB4E4"}})})}},Da=function(e){return Ma(Ma({},e),{},{icons:Ma(Ma({},e.icons),{},{Shared:e.icons.ArrowCircleRight,Linked:e.icons.ArrowCircleLeft})})},Ba=function(e){return Ma(Ma({},e),{},{globalCursors:[].concat((0,Q.Z)(e.globalCursors||[]),["ns-resize","ew-resize","nesw-resize","nwse-resize","move"])})},Na=(0,Ge.createGlobalStyle)(["html{font-size:",";}"," .no-active-background:active{background-color:inherit;}"],(function(e){var t=e.baseFontSize;return"".concat(t,"%")}),(function(e){var t=e.theme;return(0,d.map)(t.globalCursors,(function(e){return(0,Ge.css)([".global-cursor-"," *{cursor:"," !important;}"],e,e)}))})),Va=function(e){var t=e.children,n=Aa(M,{}),a=(0,r.Z)(n,1)[0],u=(0,i.useState)({}),c=(0,r.Z)(u,2),s=c[0],f=c[1],m=function(){var e=Aa(R,void 0),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=ga(),u=o.carbonioWebUiPrimaryColor,c=o.carbonioWebUiDarkPrimaryColor,s=wa(),f=s.darkModeEnabled,m=s.darkReaderStatus,p=(0,l.useTheme)(),v=(0,i.useMemo)((function(){return void 0!==m&&(u||c)?f?c||u:u||c:n&&(0,d.size)(n)>0?f&&(n.dark||n.light)||n.light||n.dark:p?p.palette.primary.regular:void 0}),[c,u,f,m,n,p]);return(0,i.useEffect)((function(){void 0!==m&&a((function(e){return ja(ja({},e),{},(0,$.Z)({},f?"dark":"light",v))}))}),[f,m,v,a]),v}();(0,i.useLayoutEffect)((function(){var e=m?{primary:(0,l.generateColorSet)({regular:m})}:{};f((function(t){return Ma(Ma({},t),{},{palette:Ia({palette:e}),icons:Da,globalCursors:Ba})}))}),[m]);var p=(0,i.useState)("disabled"),v=(0,r.Z)(p,2),b=v[0],g=v[1];(0,i.useEffect)((function(){switch(b){case"disabled":(0,ba.auto)(!1),(0,ba.disable)();break;case"enabled":(0,ba.auto)(!1),(0,ba.enable)({},k);break;default:(0,ba.auto)({},k)}}),[b]);var h=(0,i.useCallback)((function(e){return(0,d.reduce)(s,(function(e,t){return t?t(e):e}),e)}),[s]),y=(0,i.useCallback)((function(e,t){f((function(n){return Ma(Ma({},n),{},(0,$.Z)({},t,e))}))}),[]),w=(0,i.useMemo)((function(){var e=a["settings.appearance_setting.scaling"];return void 0!==e?e:Kt()}),[a]),E=(0,i.useMemo)((function(){return{addExtension:y,setDarkReaderState:g}}),[y]);return o().createElement(l.ThemeProvider,{extension:h},o().createElement(Ra.Provider,{value:E},o().createElement(Na,{baseFontSize:w}),t))};const Za=function(e){var t=e.addMod,n=e.removeMod,a=(0,i.useContext)(Ra).setDarkReaderState,u=ha(),c=(0,i.useState)(),s=(0,r.Z)(c,2),f=s[0],m=s[1],p=Se(),v=(0,i.useMemo)((function(){return[{label:p("settings.general.theme_auto","Auto"),value:"auto"},{label:p("settings.general.theme_enabled","Enabled"),value:"enabled"},{label:p("settings.general.theme_disabled","Disabled"),value:"disabled"}]}),[p]),b=(0,i.useCallback)((function(e){var t=(0,d.find)(v,{value:e});t&&m(t),a(e)}),[v,a]),g=(0,i.useCallback)((function(e){var a;"string"==typeof(a=e)&&j.includes(a)&&(e&&b(e),e!==u?t("props",L,{app:y,value:e}):n("props",L))}),[t,u,n,b]);return(0,i.useEffect)((function(){u&&b(u)}),[u,v,b]),f?o().createElement(o().Fragment,null,o().createElement(l.Text,{size:"medium",weight:"bold"},p("settings.general.theme_options","Theme Options")),o().createElement(l.Select,{items:v,selection:f,label:p("settings.general.dark_mode","Dark Mode"),onChange:g})):null};function La(){return na(y)("EndSession",{_jsns:"urn:zimbraAccount",logoff:!0}).then((function(){return fetch("/?loginOp=logout",{redirect:"manual"})})).then((function(){var e,t=ga.getState().carbonioWebUiLogoutURL;t?(e=t,window.location.assign(e)):pn()})).catch((function(e){console.error(e)}))}var Fa=function(){var e=(0,u.useTranslation)(),t=(0,r.Z)(e,1)[0],n=(0,i.useMemo)((function(){return ma(t)}),[t]);return o().createElement(l.FormSubSection,{label:n.label,minWidth:"calc(min(100%, 32rem))",width:"50%",id:n.id},o().createElement(l.Button,{label:t("settings.general.account_logout","Logout"),onClick:La}))};const Ga=function(){var e=Ie(),t=Se(),n=(0,l.useTheme)(),a=(0,i.useCallback)((function(e){e.preventDefault(),e.target instanceof HTMLElement&&navigator.clipboard.writeText(e.target.innerText)}),[]),r=(0,i.useMemo)((function(){return e.filter((function(e){return e.name!==O&&e.name!==w}))}),[e]),u=(0,i.useMemo)((function(){return da(t)}),[t]);return o().createElement(o().Fragment,null,o().createElement(l.FormSubSection,{label:u.label,minWidth:"calc(min(100%, 32rem))",width:"50%",id:u.id},(0,d.map)(r,(function(e){return o().createElement(l.Container,{key:e.name,padding:{horizontal:"large",vertical:"small"}},o().createElement(l.Container,{orientation:"horizontal",mainAlignment:"space-between"},o().createElement(l.Text,null,e.display),o().createElement(l.Tooltip,{placement:"top",label:t("label.click_to_copy","Click to copy")},o().createElement(l.Text,{style:{cursor:"pointer"},onClick:a},"Version: ",e.version))),o().createElement(l.Container,{orientation:"horizontal",mainAlignment:"space-between",padding:{top:"extrasmall",bottom:"medium"}},o().createElement(l.Text,{color:"secondary"},e.description),o().createElement(l.Badge,{value:"Active",style:{backgroundColor:n.palette.success.regular,color:n.palette.gray6.regular}})),o().createElement(l.Divider,{color:"gray2"}))}))))};function Ua(e){return e?function(e){return Gt(e).local().toDate()}(e):new Date}var Ha=function(e){var t=e.addMod,n=e.disabled,a=e.prefOutOfOfficeFromDate,u=e.prefOutOfOfficeUntilDate,c=e.resetRef,s=Se(),d=(0,i.useState)(Ua(a)),f=(0,r.Z)(d,2),m=f[0],p=f[1],v=(0,i.useState)(Ua(u)),b=(0,r.Z)(v,2),g=b[0],h=b[1],y=(0,i.useState)(!1),w=(0,r.Z)(y,2),E=w[0],O=w[1],_=(0,i.useMemo)((function(){return n||E}),[n,E]),k=(0,i.useMemo)((function(){return Yt(t)}),[t]),S=(0,i.useCallback)((function(){var e=Ua(a),t=Ua(u);p(e),h(t);var n=Ht(e),r=Wt(t);O(e.getTime()===n.getTime()&&t.getTime()===r.getTime())}),[a,u]);(0,i.useEffect)((function(){S()}),[S]),en(c,S);var P=(0,i.useCallback)((function(e){if(e){if(p((function(t){return e.getTime()!==t.getTime()&&k("zimbraPrefOutOfOfficeFromDate",Ut(e)),e})),e.getTime()>g.getTime()){var t=new Date(e);h(t),k("zimbraPrefOutOfOfficeUntilDate",Ut(t))}}else p((function(e){return new Date(e)}))}),[g,k]),z=(0,i.useCallback)((function(e){if(e){if(h((function(t){return e.getTime()!==t.getTime()&&k("zimbraPrefOutOfOfficeUntilDate",Ut(e)),e})),e.getTime()<m.getTime()){var t=new Date(e);p(t),k("zimbraPrefOutOfOfficeFromDate",Ut(t))}}else h((function(e){return new Date(e)}))}),[m,k]),C=(0,i.useCallback)((function(){O((function(e){var t=!e;return t&&(p((function(e){var t=Ht(e);return t.getTime()!==e.getTime()&&k("zimbraPrefOutOfOfficeFromDate",Ut(t)),t})),h((function(e){var t=Wt(e);return t.getTime()!==e.getTime()&&k("zimbraPrefOutOfOfficeUntilDate",Ut(t)),t}))),t}))}),[k]);return o().createElement(l.Container,{padding:{vertical:"small"},gap:"0.5rem",crossAlignment:"flex-start"},o().createElement(l.Container,{orientation:"horizontal",gap:"0.5rem"},o().createElement(l.DateTimePicker,{label:s("settings.out_of_office.labels.start_date","Start Date"),dateFormat:"P",disabled:n,defaultValue:m,onChange:P,includeTime:!1,width:"fill"}),o().createElement(l.DateTimePicker,{label:s("settings.out_of_office.labels.end_date","End Date"),dateFormat:"P",disabled:n,timeLabel:"",defaultValue:g,onChange:z,includeTime:!1,width:"fill"})),o().createElement(l.Checkbox,{disabled:n,label:s("settings.out_of_office.labels.all_day","All Day:"),value:E,onClick:C}),o().createElement(l.Container,{orientation:"horizontal",gap:"0.5rem"},o().createElement(l.DateTimePicker,{label:s("settings.out_of_office.labels.start_time","Start Time"),showTimeSelect:!0,showTimeSelectOnly:!0,timeLabel:"",dateFormat:"p",defaultValue:m,onChange:P,disabled:_,width:"fill"}),o().createElement(l.DateTimePicker,{label:s("settings.out_of_office.labels.end_time","End Time"),showTimeSelect:!0,showTimeSelectOnly:!0,timeLabel:"",dateFormat:"p",defaultValue:g,onChange:z,disabled:_,width:"fill"})))},Wa=function(e){return{SEND_AUTO_REPLY:{label:e("settings.out_of_office.external_senders.send_standard_auto_reply","Send standard auto-reply message"),value:"SEND_AUTO_REPLY"},SHOW_EXTERNAL_INPUT:{label:e("settings.out_of_office.external_senders.send_custom_in_organisation","Send custom message to those who are not in my organization"),value:"SHOW_EXTERNAL_INPUT"},SEND_NOT_IN_ORG:{label:e("settings.out_of_office.external_senders.send_custom_not_in_organisation","Send custom message to those who are not in my organization or address book"),value:"SEND_NOT_IN_ORG"},SUPPRESS_EXTERNAL:{label:e("settings.out_of_office.external_senders.do_not_send_to_external","Don't send an auto-reply message to external sender"),value:"SUPPRESS_EXTERNAL"}}},qa=function(e,t){var n=Wa(t);return"FALSE"===e.prefs.zimbraPrefOutOfOfficeSuppressExternalReply&&"FALSE"===e.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled?n.SEND_AUTO_REPLY:"ALL"===e.prefs.zimbraPrefExternalSendersType&&"TRUE"===e.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled?n.SHOW_EXTERNAL_INPUT:"ALLNOTINAB"===e.prefs.zimbraPrefExternalSendersType&&"TRUE"===e.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled?n.SEND_NOT_IN_ORG:n.SUPPRESS_EXTERNAL},Ka=function(e){var t,n,a=e.settings,u=e.addMod,c=e.resetRef,s=Se(),f=(0,i.useMemo)((function(){return ca(s)}),[s]),m=(0,i.useState)("TRUE"===a.prefs.zimbraPrefOutOfOfficeReplyEnabled),p=(0,r.Z)(m,2),v=p[0],b=p[1],g=(0,i.useState)(null!==(t=a.prefs.zimbraPrefOutOfOfficeReply)&&void 0!==t?t:""),h=(0,r.Z)(g,2),y=h[0],w=h[1],E=(0,i.useState)("TRUE"===a.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled),O=(0,r.Z)(E,2),_=O[0],k=O[1],S=(0,i.useState)(null!==(n=a.prefs.zimbraPrefOutOfOfficeExternalReply)&&void 0!==n?n:""),P=(0,r.Z)(S,2),z=P[0],C=P[1],A=(0,i.useState)(qa(a,s)),T=(0,r.Z)(A,2),j=T[0],x=T[1],M=(0,i.useState)(!!a.prefs.zimbraPrefOutOfOfficeFromDate&&!!a.prefs.zimbraPrefOutOfOfficeUntilDate),R=(0,r.Z)(M,2),I=R[0],D=R[1],B=(0,i.useRef)(null),N=(0,i.useCallback)((function(){var e,t,n;b("TRUE"===a.prefs.zimbraPrefOutOfOfficeReplyEnabled),w(null!==(e=a.prefs.zimbraPrefOutOfOfficeReply)&&void 0!==e?e:""),k("TRUE"===a.prefs.zimbraPrefOutOfOfficeExternalReplyEnabled),C(null!==(t=a.prefs.zimbraPrefOutOfOfficeExternalReply)&&void 0!==t?t:""),x(qa(a,s)),D(!!a.prefs.zimbraPrefOutOfOfficeFromDate&&!!a.prefs.zimbraPrefOutOfOfficeUntilDate),null===(n=B.current)||void 0===n||n.reset()}),[a,s]);(0,i.useEffect)((function(){N()}),[N]),en(c,N);var V=(0,i.useMemo)((function(){return Yt(u)}),[u]),Z=(0,i.useMemo)((function(){return function(e){return[{label:e("settings.out_of_office.send_auto_replies","Send auto-replies"),value:!0},{label:e("settings.out_of_office.do_not_send_auto_replies","Do not send auto-replies"),value:!1}]}(s)}),[s]),L=(0,i.useMemo)((function(){return(0,d.find)(Z,(function(e){return e.value===v}))}),[v,Z]),F=(0,i.useCallback)((function(e){null!==e&&(V("zimbraPrefOutOfOfficeReplyEnabled",e),b(e))}),[V]),G=(0,i.useMemo)((function(){return Object.values(Wa(s))}),[s]),U=(0,i.useCallback)((function(e){"SEND_AUTO_REPLY"===e?(V("zimbraPrefExternalSendersType","INSD"),V("zimbraPrefOutOfOfficeExternalReplyEnabled",!1),V("zimbraPrefOutOfOfficeSuppressExternalReply",!1),k(!1)):"SHOW_EXTERNAL_INPUT"===e?(V("zimbraPrefExternalSendersType","ALL"),V("zimbraPrefOutOfOfficeExternalReplyEnabled",!0),V("zimbraPrefOutOfOfficeSuppressExternalReply",!1),k(!0)):"SEND_NOT_IN_ORG"===e?(V("zimbraPrefExternalSendersType","ALLNOTINAB"),V("zimbraPrefOutOfOfficeExternalReplyEnabled",!0),V("zimbraPrefOutOfOfficeSuppressExternalReply",!1),k(!0)):"SUPPRESS_EXTERNAL"===e&&(V("zimbraPrefExternalSendersType","INAB"),V("zimbraPrefOutOfOfficeExternalReplyEnabled",!1),V("zimbraPrefOutOfOfficeSuppressExternalReply",!0),k(!1))}),[V]),H=(0,i.useCallback)((function(e){if(null!==e){U(e);var t=(0,d.find)(G,(function(t){return t.value===e}));t&&x(t)}}),[U,G]),W=(0,i.useCallback)((function(e){w(e.target.value),V("zimbraPrefOutOfOfficeReply",e.target.value)}),[V]),q=(0,i.useCallback)((function(e){C(e.target.value),V("zimbraPrefOutOfOfficeExternalReply",e.target.value)}),[V]),K=(0,i.useCallback)((function(){D((function(e){var t=!e;return t?(a.prefs.zimbraPrefOutOfOfficeFromDate||V("zimbraPrefOutOfOfficeFromDate",Ut(new Date)),a.prefs.zimbraPrefOutOfOfficeUntilDate||V("zimbraPrefOutOfOfficeUntilDate",Ut(new Date))):(V("zimbraPrefOutOfOfficeFromDate",void 0),V("zimbraPrefOutOfOfficeUntilDate",void 0)),t}))}),[a.prefs.zimbraPrefOutOfOfficeFromDate,a.prefs.zimbraPrefOutOfOfficeUntilDate,V]);return o().createElement(l.FormSubSection,{label:f.label,minWidth:"calc(min(100%, 32rem))",width:"50%",id:f.id},o().createElement(l.Container,{crossAlignment:"baseline",padding:{all:"small"},gap:"0.5rem"},o().createElement(l.Select,{items:Z,label:s("label.out_of_office","Out of Office"),onChange:F,selection:L}),o().createElement(l.TextArea,{value:y,disabled:!v,label:s("settings.out_of_office.labels.auto_reply_message","Auto-Reply Message:"),onChange:W}),o().createElement(l.Select,{disabled:!v,items:G,label:s("settings.out_of_office.labels.external_senders","External Senders"),onChange:H,selection:j,dropdownWidth:"auto",dropdownMaxWidth:"unset",placement:"bottom-start"}),_&&o().createElement(l.TextArea,{value:z,disabled:!v,label:s("settings.out_of_office.labels.auto_reply_message_external","Auto-Reply Message for External senders:"),onChange:q})),o().createElement(l.Container,{crossAlignment:"baseline",padding:{all:"small"}},o().createElement(l.Row,{padding:{all:"small"},mainAlignment:"baseline",crossAlignment:"baseline",width:"100%"},o().createElement(l.Text,{size:"large",weight:"bold"},s("settings.out_of_office.headings.time_period","Time Period"))),o().createElement(l.Padding,{vertical:"small"}),o().createElement(l.Checkbox,{label:s("settings.out_of_office.labels.send_auto_reply_period","Send auto-replies during the following period:"),value:I,onClick:K,disabled:!v}),o().createElement(Ha,{addMod:u,disabled:!v||!I,prefOutOfOfficeFromDate:a.prefs.zimbraPrefOutOfOfficeFromDate,prefOutOfOfficeUntilDate:a.prefs.zimbraPrefOutOfOfficeUntilDate,resetRef:B})))},Ya=(0,Ge.default)(l.Container).withConfig({displayName:"scaling-setting-section__ScalingSliderContainer",componentId:"sc-15f9iy2-0"})(["box-shadow:0px 0px 4px rgba(166,166,166,0.5);border-radius:0.5rem;"]),Xa=(0,Ge.default)(l.Container).withConfig({displayName:"scaling-setting-section__ExampleContainer",componentId:"sc-15f9iy2-1"})(["font-size:",";"],(function(e){var t=e.$fontSize;return t&&"".concat(t,"%")})),Ja=(0,Ge.default)(l.Text).withConfig({displayName:"scaling-setting-section__ExampleText",componentId:"sc-15f9iy2-2"})(["font-size:1em;"]),$a=B.findIndex((function(e){return e.value===N})),Qa=Kt(),er=B.findIndex((function(e){return e.value===Qa})),tr=function(e){var t,n=e.scalingSettings,a=e.addLocalStoreChange,c=e.cleanLocalStoreChange,s=e.resetRef,d=(0,u.useTranslation)(),f=(0,r.Z)(d,1)[0],m=(0,i.useMemo)((function(){return B.reduce((function(e,t){var n=(0,r.Z)(e,2),a=n[0],i=n[1];return a.push(t.value),i.push(f("settings.appearance.option",{context:t.label})),[a,i]}),[[],[]])}),[f]),p=(0,r.Z)(m,2),v=p[0],b=p[1],g=(0,i.useMemo)((function(){var e=n["settings.appearance_setting.scaling"];if(void 0!==e){var t=v.findIndex((function(t){return t===e}));if(t>=0)return t}return er}),[v,n]),h=(0,i.useState)(null===(t=n["settings.appearance_setting.auto"])||void 0===t||t),y=(0,r.Z)(h,2),w=y[0],E=y[1],O=(0,i.useState)(g),_=(0,r.Z)(O,2),k=_[0],S=_[1];(0,i.useEffect)((function(){S(g)}),[g]),(0,i.useEffect)((function(){v[k]&&(k!==g?a("settings.appearance_setting.scaling",v[k]):c("settings.appearance_setting.scaling"))}),[a,c,g,v,n,k]),(0,i.useEffect)((function(){void 0!==n["settings.appearance_setting.auto"]&&w!==n["settings.appearance_setting.auto"]||void 0===n["settings.appearance_setting.auto"]&&!w?(a("settings.appearance_setting.auto",w),w&&a("settings.appearance_setting.scaling",void 0)):c("settings.appearance_setting.auto")}),[a,w,c,n]);var P=(0,i.useCallback)((function(){S((function(e){return e<B.length-1?e+1:e}))}),[]),z=(0,i.useCallback)((function(){S((function(e){return e>0?e-1:e}))}),[]),C=(0,i.useCallback)((function(){E((function(e){return!e})),S(g)}),[g]),A=(0,i.useCallback)((function(e,t){S(t)}),[]);en(s,(0,i.useCallback)((function(){var e;S(g),E(null===(e=n["settings.appearance_setting.auto"])||void 0===e||e)}),[g,n]));var T=(0,i.useMemo)((function(){return f("settings.appearance.labels.choose_size_pangram","The quick brown fox jumps over the lazy dog.")}),[f]),j=(0,i.useMemo)((function(){return(v[Math.round(k)]||100)/v[g]*100}),[g,v,k]);return o().createElement(l.Container,{orientation:"vertical",mainAlignment:"flex-start",crossAlignment:"flex-start",gap:"1rem",height:"fit",width:"fill"},o().createElement(l.Container,{orientation:"vertical",gap:"1rem",height:"fit",width:"fit",mainAlignment:"flex-start",crossAlignment:"flex-start",maxWidth:"100%"},o().createElement(l.Text,{size:"small",overflow:"break-word"},f("settings.appearance.labels.choose_size_description","Choose Type Size and Styles for Carbonio Environment")),o().createElement(Ya,{orientation:"horizontal",width:"fill",height:"auto",padding:{vertical:"small",horizontal:"large"},gap:"0.5rem",flexGrow:1},o().createElement(l.Tooltip,{label:f("settings.appearance.labels.decrease","Decrease",{context:0===k?"disabled":""})},o().createElement(l.Container,{width:"fit",height:"fit",minWidth:"fit-content"},o().createElement(l.Button,{disabled:w||0===k,label:f("settings.appearance.labels.a","A"),type:"ghost",size:"extrasmall",color:"text",onClick:z,minWidth:"fit-content"}))),o().createElement(l.Slider,{disabled:w,options:b,onChange:A,value:w&&$a>=0?$a:k}),o().createElement(l.Tooltip,{label:f("settings.appearance.labels.increase","Increase",{context:k===B.length-1?"disabled":""})},o().createElement(l.Container,{width:"fit",height:"fit",minWidth:"fit-content"},o().createElement(l.Button,{disabled:w||k===B.length-1,label:f("settings.appearance.labels.a","A"),type:"ghost",size:"extralarge",onClick:P,color:"text",minWidth:"fit-content"})))),o().createElement(l.Checkbox,{value:w,onClick:C,label:f("settings.appearance.labels.choose_size_auto","Automatically resize the text size depending on the device"),size:"small"})),o().createElement(Xa,{background:"gray5",padding:"large",gap:"0.5rem",orientation:"vertical",mainAlignment:"flex-start",crossAlignment:"flex-start",width:"fill",$fontSize:j},o().createElement(Ja,{weight:"light",overflow:"break-word"},T),o().createElement(Ja,{weight:"regular",overflow:"break-word"},T),o().createElement(Ja,{weight:"bold",overflow:"break-word"},T)))},nr=function(e){var t=e.settings,n=e.addMod,a=e.resetRef,u=Se(),c=(0,i.useState)("TRUE"===t.prefs.zimbraPrefIncludeSpamInSearch),s=(0,r.Z)(c,2),d=s[0],f=s[1],m=(0,i.useState)("TRUE"===t.prefs.zimbraPrefIncludeTrashInSearch),p=(0,r.Z)(m,2),v=p[0],b=p[1],g=(0,i.useState)("TRUE"===t.prefs.zimbraPrefIncludeSharedItemsInSearch),h=(0,r.Z)(g,2),y=h[0],w=h[1],E=(0,i.useMemo)((function(){return Yt(n)}),[n]),O=(0,i.useCallback)((function(){f("TRUE"===t.prefs.zimbraPrefIncludeSpamInSearch),b("TRUE"===t.prefs.zimbraPrefIncludeTrashInSearch),w("TRUE"===t.prefs.zimbraPrefIncludeSharedItemsInSearch)}),[t.prefs.zimbraPrefIncludeSharedItemsInSearch,t.prefs.zimbraPrefIncludeSpamInSearch,t.prefs.zimbraPrefIncludeTrashInSearch]);en(a,O),(0,i.useEffect)((function(){O()}),[O]);var _=(0,i.useCallback)((function(){f((function(e){var t=!e;return E("zimbraPrefIncludeSpamInSearch",t),t}))}),[E]),k=(0,i.useCallback)((function(){b((function(e){var t=!e;return E("zimbraPrefIncludeTrashInSearch",t),t}))}),[E]),S=(0,i.useCallback)((function(){w((function(e){var t=!e;return E("zimbraPrefIncludeSharedItemsInSearch",t),t}))}),[E]),P=(0,i.useMemo)((function(){return sa(u)}),[u]);return o().createElement(l.FormSubSection,{label:P.label,minWidth:"calc(min(100%, 32rem))",width:"50%",id:P.id},o().createElement(l.Container,{crossAlignment:"baseline",padding:{all:"small"}},o().createElement(l.Checkbox,{label:u("settings.search_settings.labels.include_search_in_spam_folder","Include Spam Folder in Searches"),value:d,onClick:_}),o().createElement(l.Checkbox,{label:u("settings.search_settings.labels.include_search_in_trash_folder","Include Trash Folder in Searches"),value:v,onClick:k}),o().createElement(l.Checkbox,{label:u("settings.search_settings.labels.include_search_in_shared_folder","Include Shared Folder in Searches"),value:y,onClick:S})))};const ar=function(e){var t,n=e.mobileView,a=Se(),r=ce(),u=re((function(e){return e.usedQuota})),c=(0,i.useMemo)((function(){var e,t=Number(null==r||null===(e=r.attrs)||void 0===e?void 0:e.zimbraMailQuota);return u&&t&&t>0?Math.round(u/t*100):-1}),[null==r||null===(t=r.attrs)||void 0===t?void 0:t.zimbraMailQuota,u]),s=(0,i.useMemo)((function(){return-1===c||c>=100?100:c}),[c]),d=(0,i.useMemo)((function(){switch(!0){case!c||c<0:return a("user_quota.unlimited","You have unlimited space available");case 100===c:return a("user_quota.space_full","It seems that all available space is full");default:return a("user_quota.limited",{defaultValue:"You have filled {{quota}}% of the available space",quota:c})}}),[c,a]),f=(0,i.useMemo)((function(){switch(!0){case c>=95:return"error";case c>=90:return"warning";case-1===c:return"gray4";default:return"primary"}}),[c]),m=(0,i.useMemo)((function(){return fa(a)}),[a]);return n?o().createElement(l.Container,{width:"fit",padding:{right:"medium"}},o().createElement(l.Tooltip,{label:d,placement:"bottom"},o().createElement(l.Quota,{fill:s,fillBackground:f}))):o().createElement(l.FormSubSection,{label:m.label,minWidth:"calc(min(100%, 32rem))",width:"50%",id:m.id},o().createElement(l.Container,{width:"fill",padding:{vertical:"medium"}},o().createElement(l.Container,{orientation:"horizontal",mainAlignment:"flex-start",padding:{bottom:"medium"}},o().createElement(l.Text,null,d)),o().createElement(l.Quota,{fill:s,fillBackground:f})))},rr=function(e){var t=e.settings,n=e.addMod,a=e.open,r=e.setOpen,u=Se(),c=(0,i.useMemo)((function(){return qt(u)}),[u]),s=(0,i.useMemo)((function(){return function(e){return[{value:"Etc/GMT+12",label:e("timezone.etc_gmt+12",{value:"GMT -12:00",defaultValue:"{{value}} Dateline"})},{value:"Pacific/Midway",label:e("timezone.pacific_midway",{value:"GMT -11:00",defaultValue:"{{value}} Samoa"})},{value:"America/Adak",label:e("timezone.america_adak",{value:"GMT -10:00",defaultValue:"{{value}} Adak"})},{value:"Pacific/Honolulu",label:e("timezone.pacific_honolulu",{value:"GMT -10:00",defaultValue:"{{value}} Hawaii"})},{value:"Pacific/Marquesas",label:e("timezone.pacific_marquesas",{value:"GMT -09:30",defaultValue:"{{value}} Marquesas"})},{value:"America/Anchorage",label:e("timezone.america_anchorage",{value:"GMT -09:00",defaultValue:"{{value}} Alaska"})},{value:"America/Los_Angeles",label:e("timezone.america_los_angeles",{value:"GMT -08:00",defaultValue:"{{value}} US/Canada Pacific"})},{value:"America/Tijuana",label:e("timezone.america_tijuana",{value:"GMT -08:00",defaultValue:"{{value}} Baja California"})},{value:"America/Chihuahua",label:e("timezone.america_chihuahua",{value:"GMT -07:00",defaultValue:"{{value}} Chihuahua, La Paz, Mazatlan"})},{value:"America/Denver",label:e("timezone.america_denver",{value:"GMT -07:00",defaultValue:"{{value}} US/Canada Mountain"})},{value:"America/Fort_Nelson",label:e("timezone.america_fort_nelson",{value:"GMT -07:00",defaultValue:"{{value}} Fort Nelson"})},{value:"America/Phoenix",label:e("timezone.america_phoenix",{value:"GMT -07:00",defaultValue:"{{value}} Arizona"})},{value:"America/Whitehorse",label:e("timezone.america_whitehorse",{value:"GMT -07:00",defaultValue:"{{value}} Yukon"})},{value:"America/Chicago",label:e("timezone.america_chicago",{value:"GMT -06:00",defaultValue:"{{value}} US/Canada Central"})},{value:"America/Guatemala",label:e("timezone.america_guatemala",{value:"GMT -06:00",defaultValue:"{{value}} Central America"})},{value:"America/Mexico_City",label:e("timezone.america_mexico_city",{value:"GMT -06:00",defaultValue:"{{value}} Guadalajara, Mexico City, Monterrey"})},{value:"America/Regina",label:e("timezone.america_regina",{value:"GMT -06:00",defaultValue:"{{value}} Saskatchewan"})},{value:"Pacific/Easter",label:e("timezone.pacific_easter",{value:"GMT -06:00",defaultValue:"{{value}} Easter"})},{value:"America/Bogota",label:e("timezone.america_bogota",{value:"GMT -05:00",defaultValue:"{{value}} Colombia"})},{value:"America/Cancun",label:e("timezone.america_cancun",{value:"GMT -05:00",defaultValue:"{{value}} Cancun, Chetumal"})},{value:"America/Grand_Turk",label:e("timezone.america_grand_turk",{value:"GMT -05:00",defaultValue:"{{value}} Turks and Caicos Islands"})},{value:"America/Havana",label:e("timezone.america_havana",{value:"GMT -05:00",defaultValue:"{{value}} Havana"})},{value:"America/Indiana/Indianapolis",label:e("timezone.america_indiana_indianapolis",{value:"GMT -05:00",defaultValue:"{{value}} Indiana (East)"})},{value:"America/New_York",label:e("timezone.america_new_york",{value:"GMT -05:00",defaultValue:"{{value}} US/Canada Eastern"})},{value:"America/Port-au-Prince",label:e("timezone.america_port-au-prince",{value:"GMT -05:00",defaultValue:"{{value}} Port-au-Prince"})},{value:"America/Asuncion",label:e("timezone.america_asuncion",{value:"GMT -04:00",defaultValue:"{{value}} Asuncion"})},{value:"America/Caracas",label:e("timezone.america_caracas",{value:"GMT -04:00",defaultValue:"{{value}} Caracas"})},{value:"America/Cuiaba",label:e("timezone.america_cuiaba",{value:"GMT -04:00",defaultValue:"{{value}} Cuiaba"})},{value:"America/Guyana",label:e("timezone.america_guyana",{value:"GMT -04:00",defaultValue:"{{value}} Georgetown, La Paz, Manaus, San Juan"})},{value:"America/Halifax",label:e("timezone.america_halifax",{value:"GMT -04:00",defaultValue:"{{value}} Atlantic Time (Canada)"})},{value:"America/Santiago",label:e("timezone.america_santiago",{value:"GMT -04:00",defaultValue:"{{value}} Pacific South America"})},{value:"America/St_Johns",label:e("timezone.america_st_johns",{value:"GMT -03:30",defaultValue:"{{value}} Newfoundland"})},{value:"America/Araguaina",label:e("timezone.america_araguaina",{value:"GMT -03:00",defaultValue:"{{value}} Araguaina"})},{value:"America/Argentina/Buenos_Aires",label:e("timezone.america_argentina_buenos_aires",{value:"GMT -03:00",defaultValue:"{{value}} Argentina"})},{value:"America/Bahia",label:e("timezone.america_bahia",{value:"GMT -03:00",defaultValue:"{{value}} Salvador"})},{value:"America/Cayenne",label:e("timezone.america_cayenne",{value:"GMT -03:00",defaultValue:"{{value}} Cayenne, Fortaleza"})},{value:"America/Miquelon",label:e("timezone.america_miquelon",{value:"GMT -03:00",defaultValue:"{{value}} Miquelon"})},{value:"America/Montevideo",label:e("timezone.america_montevideo",{value:"GMT -03:00",defaultValue:"{{value}} Montevideo"})},{value:"America/Punta_Arenas",label:e("timezone.america_punta_arenas",{value:"GMT -03:00",defaultValue:"{{value}} Punta_Arenas"})},{value:"America/Sao_Paulo",label:e("timezone.america_sao_paulo",{value:"GMT -03:00",defaultValue:"{{value}} Brasilia"})},{value:"Atlantic/South_Georgia",label:e("timezone.atlantic_south_georgia",{value:"GMT -02:00",defaultValue:"{{value}} Mid-Atlantic"})},{value:"Atlantic/Azores",label:e("timezone.atlantic_azores",{value:"GMT -01:00",defaultValue:"{{value}} Azores"})},{value:"Atlantic/Cape_Verde",label:e("timezone.atlantic_cape_verde",{value:"GMT -01:00",defaultValue:"{{value}} Cape Verde Is."})},{value:"Africa/Monrovia",label:e("timezone.africa_monrovia",{value:"GMT +00:00",defaultValue:"{{value}} Monrovia"})},{value:"Africa/Sao_Tome",label:e("timezone.africa_sao_tome",{value:"GMT +00:00",defaultValue:"{{value}} Sao Tome"})},{value:"Europe/London",label:e("timezone.europe_london",{value:"GMT +00:00",defaultValue:"{{value}} Britain, Ireland, Portugal"})},{value:"UTC",label:e("timezone.utc",{value:"GMT/UTC",defaultValue:"{{value}} Coordinated Universal Time"})},{value:"Africa/Algiers",label:e("timezone.africa_algiers",{value:"GMT +01:00",defaultValue:"{{value}} West Central Africa"})},{value:"Africa/Casablanca",label:e("timezone.africa_casablanca",{value:"GMT +01:00",defaultValue:"{{value}} Casablanca"})},{value:"Europe/Belgrade",label:e("timezone.europe_belgrade",{value:"GMT +01:00",defaultValue:"{{value}} Belgrade, Bratislava, Budapest, Ljubljana, Prague"})},{value:"Europe/Berlin",label:e("timezone.europe_berlin",{value:"GMT +01:00",defaultValue:"{{value}} Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"})},{value:"Europe/Brussels",label:e("timezone.europe_brussels",{value:"GMT +01:00",defaultValue:"{{value}} Brussels, Copenhagen, Madrid, Paris"})},{value:"Europe/Warsaw",label:e("timezone.europe_warsaw",{value:"GMT +01:00",defaultValue:"{{value}} Sarajevo, Skopje, Warsaw, Zagreb"})},{value:"Africa/Cairo",label:e("timezone.africa_cairo",{value:"GMT +02:00",defaultValue:"{{value}} Egypt"})},{value:"Africa/Harare",label:e("timezone.africa_harare",{value:"GMT +02:00",defaultValue:"{{value}} Harare, Pretoria"})},{value:"Africa/Juba",label:e("timezone.africa_juba",{value:"GMT +02:00",defaultValue:"{{value}} Juba"})},{value:"Africa/Khartoum",label:e("timezone.africa_khartoum",{value:"GMT +02:00",defaultValue:"{{value}} Khartoum"})},{value:"Africa/Tripoli",label:e("timezone.africa_tripoli",{value:"GMT +02:00",defaultValue:"{{value}} Tripoli"})},{value:"Africa/Windhoek",label:e("timezone.africa_windhoek",{value:"GMT +02:00",defaultValue:"{{value}} Namibia"})},{value:"Asia/Amman",label:e("timezone.asia_amman",{value:"GMT +02:00",defaultValue:"{{value}} Jordan"})},{value:"Asia/Beirut",label:e("timezone.asia_beirut",{value:"GMT +02:00",defaultValue:"{{value}} Beirut"})},{value:"Asia/Damascus",label:e("timezone.asia_damascus",{value:"GMT +02:00",defaultValue:"{{value}} Damascus"})},{value:"Asia/Gaza",label:e("timezone.asia_gaza",{value:"GMT +02:00",defaultValue:"{{value}} Gaza"})},{value:"Asia/Jerusalem",label:e("timezone.asia_jerusalem",{value:"GMT +02:00",defaultValue:"{{value}} Jerusalem"})},{value:"Europe/Athens",label:e("timezone.europe_athens",{value:"GMT +02:00",defaultValue:"{{value}} Athens, Beirut, Bucharest, Istanbul"})},{value:"Europe/Bucharest",label:e("timezone.europe_bucharest",{value:"GMT +02:00",defaultValue:"{{value}} Bucharest"})},{value:"Europe/Chisinau",label:e("timezone.europe_chisinau",{value:"GMT +02:00",defaultValue:"{{value}} Chisinau"})},{value:"Europe/Helsinki",label:e("timezone.europe_helsinki",{value:"GMT +02:00",defaultValue:"{{value}} Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"})},{value:"Europe/Kaliningrad",label:e("timezone.europe_kaliningrad",{value:"GMT +02:00",defaultValue:"{{value}} Kaliningrad (RTZ 1)"})},{value:"Africa/Nairobi",label:e("timezone.africa_nairobi",{value:"GMT +03:00",defaultValue:"{{value}} Nairobi"})},{value:"Asia/Baghdad",label:e("timezone.asia_baghdad",{value:"GMT +03:00",defaultValue:"{{value}} Iraq"})},{value:"Asia/Kuwait",label:e("timezone.asia_kuwait",{value:"GMT +03:00",defaultValue:"{{value}} Kuwait, Riyadh"})},{value:"Europe/Istanbul",label:e("timezone.europe_istanbul",{value:"GMT +03:00",defaultValue:"{{value}} Istanbul"})},{value:"Europe/Minsk",label:e("timezone.europe_minsk",{value:"GMT +03:00",defaultValue:"{{value}} Minsk"})},{value:"Europe/Moscow",label:e("timezone.europe_moscow",{value:"GMT +03:00",defaultValue:"{{value}} Moscow, St. Petersburg, Volgograd (RTZ 2)"})},{value:"Europe/Volgograd",label:e("timezone.europe_volgograd",{value:"GMT +03:00",defaultValue:"{{value}} Volgograd"})},{value:"Asia/Tehran",label:e("timezone.asia_tehran",{value:"GMT +03:30",defaultValue:"{{value}} Tehran"})},{value:"Asia/Baku",label:e("timezone.asia_baku",{value:"GMT +04:00",defaultValue:"{{value}} Baku"})},{value:"Asia/Muscat",label:e("timezone.asia_muscat",{value:"GMT +04:00",defaultValue:"{{value}} Abu Dhabi, Muscat"})},{value:"Asia/Tbilisi",label:e("timezone.asia_tbilisi",{value:"GMT +04:00",defaultValue:"{{value}} Tbilisi"})},{value:"Asia/Yerevan",label:e("timezone.asia_yerevan",{value:"GMT +04:00",defaultValue:"{{value}} Yerevan"})},{value:"Europe/Astrakhan",label:e("timezone.europe_astrakhan",{value:"GMT +04:00",defaultValue:"{{value}} Astrakhan"})},{value:"Europe/Samara",label:e("timezone.europe_samara",{value:"GMT +04:00",defaultValue:"{{value}} Izhevsk, Samara (RTZ 3)"})},{value:"Europe/Saratov",label:e("timezone.europe_saratov",{value:"GMT +04:00",defaultValue:"{{value}} Saratov"})},{value:"Indian/Mauritius",label:e("timezone.indian_mauritius",{value:"GMT +04:00",defaultValue:"{{value}} Port Louis"})},{value:"Asia/Kabul",label:e("timezone.asia_kabul",{value:"GMT +04:30",defaultValue:"{{value}} Kabul"})},{value:"Asia/Karachi",label:e("timezone.asia_karachi",{value:"GMT +05:00",defaultValue:"{{value}} Islamabad, Karachi"})},{value:"Asia/Qyzylorda",label:e("timezone.asia_qyzylorda",{value:"GMT +05:00",defaultValue:"{{value}} Qyzylorda"})},{value:"Asia/Tashkent",label:e("timezone.asia_tashkent",{value:"GMT +05:00",defaultValue:"{{value}} Tashkent"})},{value:"Asia/Yekaterinburg",label:e("timezone.asia_yekaterinburg",{value:"GMT +05:00",defaultValue:"{{value}} Ekaterinburg (RTZ 4)"})},{value:"Asia/Colombo",label:e("timezone.asia_colombo",{value:"GMT +05:30",defaultValue:"{{value}} Sri Jayawardenepura Kotte"})},{value:"Asia/Kolkata",label:e("timezone.asia_kolkata",{value:"GMT +05:30",defaultValue:"{{value}} Chennai, Kolkata, Mumbai, New Delhi"})},{value:"Asia/Kathmandu",label:e("timezone.asia_kathmandu",{value:"GMT +05:45",defaultValue:"{{value}} Kathmandu"})},{value:"Asia/Almaty",label:e("timezone.asia_almaty",{value:"GMT +06:00",defaultValue:"{{value}} Astana"})},{value:"Asia/Dhaka",label:e("timezone.asia_dhaka",{value:"GMT +06:00",defaultValue:"{{value}} Dhaka"})},{value:"Asia/Omsk",label:e("timezone.asia_omsk",{value:"GMT +06:00",defaultValue:"{{value}} Omsk"})},{value:"Asia/Yangon",label:e("timezone.asia_yangon",{value:"GMT +06:30",defaultValue:"{{value}} Yangon"})},{value:"Asia/Bangkok",label:e("timezone.asia_bangkok",{value:"GMT +07:00",defaultValue:"{{value}} Bangkok, Hanoi, Jakarta"})},{value:"Asia/Barnaul",label:e("timezone.asia_barnaul",{value:"GMT +07:00",defaultValue:"{{value}} Barnaul"})},{value:"Asia/Hovd",label:e("timezone.asia_hovd",{value:"GMT +07:00",defaultValue:"{{value}} Hovd"})},{value:"Asia/Krasnoyarsk",label:e("timezone.asia_krasnoyarsk",{value:"GMT +07:00",defaultValue:"{{value}} Krasnoyarsk (RTZ 6)"})},{value:"Asia/Novosibirsk",label:e("timezone.asia_novosibirsk",{value:"GMT +07:00",defaultValue:"{{value}} Novosibirsk (RTZ 5)"})},{value:"Asia/Tomsk",label:e("timezone.asia_tomsk",{value:"GMT +07:00",defaultValue:"{{value}} Tomsk"})},{value:"Asia/Hong_Kong",label:e("timezone.asia_hong_kong",{value:"GMT +08:00",defaultValue:"{{value}} Beijing, Chongqing, Hong Kong, Urumqi"})},{value:"Asia/Irkutsk",label:e("timezone.asia_irkutsk",{value:"GMT +08:00",defaultValue:"{{value}} Irkutsk (RTZ 7)"})},{value:"Asia/Kuala_Lumpur",label:e("timezone.asia_kuala_lumpur",{value:"GMT +08:00",defaultValue:"{{value}} Kuala Lumpur"})},{value:"Asia/Singapore",label:e("timezone.asia_singapore",{value:"GMT +08:00",defaultValue:"{{value}} Singapore"})},{value:"Asia/Taipei",label:e("timezone.asia_taipei",{value:"GMT +08:00",defaultValue:"{{value}} Taipei"})},{value:"Asia/Ulaanbaatar",label:e("timezone.asia_ulaanbaatar",{value:"GMT +08:00",defaultValue:"{{value}} Ulaanbaatar"})},{value:"Australia/Perth",label:e("timezone.australia_perth",{value:"GMT +08:00",defaultValue:"{{value}} Perth"})},{value:"Australia/Eucla",label:e("timezone.australia_eucla",{value:"GMT +08:45",defaultValue:"{{value}} Eucla"})},{value:"Asia/Chita",label:e("timezone.asia_chita",{value:"GMT +09:00",defaultValue:"{{value}} Chita"})},{value:"Asia/Pyongyang",label:e("timezone.asia_pyongyang",{value:"GMT +09:00",defaultValue:"{{value}} Pyongyang"})},{value:"Asia/Seoul",label:e("timezone.asia_seoul",{value:"GMT +09:00",defaultValue:"{{value}} Korea"})},{value:"Asia/Tokyo",label:e("timezone.asia_tokyo",{value:"GMT +09:00",defaultValue:"{{value}} Japan"})},{value:"Asia/Yakutsk",label:e("timezone.asia_yakutsk",{value:"GMT +09:00",defaultValue:"{{value}} Yakutsk (RTZ 8)"})},{value:"Australia/Adelaide",label:e("timezone.australia_adelaide",{value:"GMT +09:30",defaultValue:"{{value}} Adelaide"})},{value:"Australia/Darwin",label:e("timezone.australia_darwin",{value:"GMT +09:30",defaultValue:"{{value}} Darwin"})},{value:"Asia/Vladivostok",label:e("timezone.asia_vladivostok",{value:"GMT +10:00",defaultValue:"{{value}} Vladivostok, Magadan (RTZ 9)"})},{value:"Australia/Brisbane",label:e("timezone.australia_brisbane",{value:"GMT +10:00",defaultValue:"{{value}} Brisbane"})},{value:"Australia/Hobart",label:e("timezone.australia_hobart",{value:"GMT +10:00",defaultValue:"{{value}} Hobart"})},{value:"Australia/Sydney",label:e("timezone.australia_sydney",{value:"GMT +10:00",defaultValue:"{{value}} Canberra, Melbourne, Sydney"})},{value:"Pacific/Guam",label:e("timezone.pacific_guam",{value:"GMT +10:00",defaultValue:"{{value}} Guam, Port Moresby"})},{value:"Australia/Lord_Howe",label:e("timezone.australia_lord_howe",{value:"GMT +10:30",defaultValue:"{{value}} Lord_Howe"})},{value:"Asia/Magadan",label:e("timezone.asia_magadan",{value:"GMT +11:00",defaultValue:"{{value}} Magadan"})},{value:"Asia/Sakhalin",label:e("timezone.asia_sakhalin",{value:"GMT +11:00",defaultValue:"{{value}} Sakhalin"})},{value:"Asia/Srednekolymsk",label:e("timezone.asia_srednekolymsk",{value:"GMT +11:00",defaultValue:"{{value}} Chokurdakh (RTZ 10)"})},{value:"Pacific/Bougainville",label:e("timezone.pacific_bougainville",{value:"GMT +11:00",defaultValue:"{{value}} Bougainville Standard Time"})},{value:"Pacific/Guadalcanal",label:e("timezone.pacific_guadalcanal",{value:"GMT +11:00",defaultValue:"{{value}} Solomon Is. / New Caledonia"})},{value:"Pacific/Norfolk",label:e("timezone.pacific_norfolk",{value:"GMT +11:00",defaultValue:"{{value}} Norfolk"})},{value:"Asia/Kamchatka",label:e("timezone.asia_kamchatka",{value:"GMT +12:00",defaultValue:"{{value}} Anadyr, Petropavlovsk-Kamchatsky (RTZ 11)"})},{value:"Pacific/Auckland",label:e("timezone.pacific_auckland",{value:"GMT +12:00",defaultValue:"{{value}} New Zealand"})},{value:"Pacific/Fiji",label:e("timezone.pacific_fiji",{value:"GMT +12:00",defaultValue:"{{value}} Fiji"})},{value:"Pacific/Chatham",label:e("timezone.pacific_chatham",{value:"GMT +12:45",defaultValue:"{{value}} Chatham"})},{value:"Pacific/Apia",label:e("timezone.pacific_apia",{value:"GMT +13:00",defaultValue:"{{value}} Samoa"})},{value:"Pacific/Tongatapu",label:e("timezone.pacific_tongatapu",{value:"GMT +13:00",defaultValue:"{{value}} Nuku’alofa"})},{value:"Pacific/Kiritimati",label:e("timezone.pacific_kiritimati",{value:"GMT +14:00",defaultValue:"{{value}} Kiritimati Island"})}]}(u)}),[u]),f=(0,i.useMemo)((function(){return ua(u)}),[u]),m=(0,i.useCallback)((function(e,t){n("prefs",t,e)}),[n]),p=(0,i.useMemo)((function(){return t.prefs.zimbraPrefLocale&&(0,d.find)(c,{id:"".concat(t.prefs.zimbraPrefLocale)})||(0,d.find)(c,{id:"en"})}),[c,t.prefs.zimbraPrefLocale]),v=(0,i.useCallback)((function(e){e&&e!==t.prefs.zimbraPrefLocale&&m(e,"zimbraPrefLocale")}),[t.prefs.zimbraPrefLocale,m]),b=(0,i.useMemo)((function(){return t.prefs.zimbraPrefTimeZoneId&&(0,d.find)(s,{value:"".concat(t.prefs.zimbraPrefTimeZoneId)})||(0,d.find)(s,{value:"UTC"})}),[s,t.prefs.zimbraPrefTimeZoneId]),g=(0,i.useCallback)((function(e){e&&e!==t.prefs.zimbraPrefTimeZoneId&&m(e,"zimbraPrefTimeZoneId")}),[t.prefs.zimbraPrefTimeZoneId,m]);return o().createElement(l.FormSubSection,{label:f.label,minWidth:"calc(min(100%, 32rem))",width:"50%",id:f.id},o().createElement(l.Container,{crossAlignment:"baseline",padding:{all:"small"}},Object.keys(t.prefs).length>0&&o().createElement(l.Select,{items:c,background:"gray5",label:u("label.language","Language"),onChange:v,defaultSelection:p,showCheckbox:!1,dropdownMaxHeight:"12.5rem",selectedBackgroundColor:"highlight"}),o().createElement(l.Padding,{top:"small",width:"100%"},Object.keys(t.prefs).length>0&&s&&b&&o().createElement(l.Select,{items:s,background:"gray5",label:u("label.time_zone","Time Zone"),onChange:g,selection:b,showCheckbox:!1,dropdownMaxHeight:"12.5rem",selectedBackgroundColor:"highlight"})),o().createElement(l.Modal,{title:u("label.reload","Reload"),open:a,dismissLabel:u("label.no","No"),onConfirm:function(){return window.location.reload()},confirmLabel:u("label.reload","Reload"),onClose:function(){return r(!1)}},o().createElement(l.Text,{overflow:"break-word"},u("message.reload","\tWould you like to reload the application now to show the new language?\n\t\t\t\t\t\t\t(Otherwise, the new language will appear the next time you sign in.)")))))};function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const lr=function(){var e=(0,i.useState)({}),t=(0,r.Z)(e,2),n=t[0],a=t[1],u=Se(),c=ce(),s=(0,i.useState)({}),f=(0,r.Z)(s,2),m=f[0],p=f[1],v=Aa(M,{}),b=(0,r.Z)(v,2),g=b[0],h=b[1],w=(0,i.useState)(!1),E=(0,r.Z)(w,2),O=E[0],_=E[1],k=(0,i.useCallback)((function(e,t){p((function(n){return or(or({},n),{},(0,$.Z)({},e,t))}))}),[]),S=(0,i.useCallback)((function(e){p((function(t){var n=or({},t);return delete n[e],n}))}),[]),P=(0,i.useCallback)((function(e,t,n){a((function(a){return or(or({},a),{},(0,$.Z)({},e,or(or({},null==a?void 0:a[e]),{},(0,$.Z)({},t,n))))}))}),[]),z=(0,i.useCallback)((function(e,t){a((function(n){var a=n[e];if(a&&void 0!==a[t]){var r=or(or({},n),{},(0,$.Z)({},e,or({},n[e]))),i=r[e];return i&&void 0!==i[t]&&delete i[t],0===(0,d.size)(r[e])&&delete r[e],r}return n}))}),[]),C=(0,l.useSnackbar)(),A=(0,i.useCallback)((function(){if(p((function(e){return(0,d.size)(e)>0?(h((function(t){return or(or({},t),e)})),{}):e})),(0,d.size)(n)>0){var e,t;if(n.props&&(e={_jsns:"urn:zimbraAccount",prop:(0,d.map)(n.props,(function(e,t){return{name:t,zimlet:e.app,_content:e.value}}))}),n.prefs){var r=n.prefs;"zimbraPrefMailTrustedSenderList"in r&&(r.zimbraPrefMailTrustedSenderList=r.zimbraPrefMailTrustedSenderList instanceof Array&&0===r.zimbraPrefMailTrustedSenderList.length?"":r.zimbraPrefMailTrustedSenderList),t={_jsns:"urn:zimbraAccount",_attrs:r}}var i=na(y)("Batch",{_jsns:"urn:zimbra",ModifyPropertiesRequest:e,ModifyPrefsRequest:t}).then((function(){re.setState((function(e){return{settings:or(or({},e.settings),{},{prefs:(0,d.reduce)(n.prefs,(function(e,t,n){return or(or({},e),{},(0,$.Z)({},n,t))}),e.settings.prefs),props:(0,d.reduce)(n.props,(function(e,t,n){var a=t.app,r=t.value,i=(0,d.findIndex)(e,(function(e){return e.name===n&&e.zimlet===a}));return i>=0?e[i]={name:n,zimlet:a,_content:r}:e.push({name:n,zimlet:a,_content:r}),e}),e.settings.props)})}})),n.prefs&&(0,d.includes)(Object.keys(n.prefs),"zimbraPrefLocale")&&_(!0),C({key:"new",replace:!0,type:"info",label:u("message.snackbar.settings_saved","Edits saved correctly"),autoHideTimeout:3e3,hideButton:!0}),a({})})).catch((function(e){if(C({key:"new",replace:!0,type:"error",label:u("snackbar.error","Something went wrong, please try again"),autoHideTimeout:3e3,hideButton:!0}),e instanceof Error)throw e;throw new Error("string"==typeof e?e:"edit setting error")}));return Promise.allSettled([i])}return Promise.allSettled([Promise.resolve()])}),[n,h,C,u]),T=(0,i.useRef)(null),j=(0,i.useRef)(null),x=(0,i.useRef)(null),R=(0,i.useCallback)((function(){var e,t,n;a({}),(0,d.size)(m)>0&&(null===(n=T.current)||void 0===n||n.reset()),null===(e=j.current)||void 0===e||e.reset(),null==x||null===(t=x.current)||void 0===t||t.reset()}),[m]),I=(0,i.useMemo)((function(){return!(0,d.isEmpty)(n)||!(0,d.isEmpty)(m)}),[n,m]),D=(0,i.useMemo)((function(){return u("settings.general.general","General Settings")}),[u]);return o().createElement(o().Fragment,null,o().createElement(un,{title:D,onCancel:R,onSave:A,isDirty:I}),o().createElement(l.Container,{background:"gray5",mainAlignment:"flex-start",crossAlignment:"flex-start",gap:"0.5rem",padding:{all:"medium"},style:{overflow:"auto"}},o().createElement(va,null,o().createElement(tr,{resetRef:T,scalingSettings:g,addLocalStoreChange:k,cleanLocalStoreChange:S}),o().createElement(Za,{addMod:P,removeMod:z})),o().createElement(rr,{settings:c,addMod:P,open:O,setOpen:_}),o().createElement(Ka,{settings:c,addMod:P,resetRef:j}),o().createElement(nr,{settings:c,addMod:P,resetRef:x}),o().createElement(Ga,null),o().createElement(ar,{mobileView:!1}),o().createElement(Fa,null)))};function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sr={route:w,id:w,app:w},dr=function(e){return{id:w,app:w,route:w,component:"SettingsModOutline",position:16,visible:!0,label:e("settings.app","Settings"),badge:{show:!1}}},fr={id:w,app:w,route:w,component:function(e){var t=e.expanded,n=Me((function(e){return e.views.settings})),a=(0,c.k6)(),r=(0,c.TH)(),u=(0,i.useMemo)((function(){return n.map((function(e){return{id:e.route,label:e.label,icon:e.icon,active:r.pathname==="/".concat(w,"/").concat(e.route)&&""===r.search,disableHover:r.pathname==="/".concat(w,"/").concat(e.route)&&""===r.search,onClick:function(t){t.stopPropagation(),a.push("/".concat(w,"/").concat(e.route))},items:(0,d.map)(e.subSections,(function(t){return cr(cr({},t),{},{active:r.search==="?section=".concat(t.id),disableHover:r.search==="?section=".concat(t.id),onClick:function(n){n.stopPropagation(),a.replace("/".concat(w,"/").concat(e.route,"?section=").concat(t.id))}})}))}}))}),[a,r.pathname,r.search,n]),s=(0,i.useMemo)((function(){return n.map((function(e){return o().createElement(l.Tooltip,{label:e.label,placement:"right",key:e.id},o().createElement("div",null,o().createElement(l.IconButton,{icon:e.icon,onClick:function(){return a.push("/".concat(w,"/").concat(e.route))},size:"large"})))}))}),[a,n]);return t?o().createElement(l.Accordion,{items:u}):o().createElement(o().Fragment,null,s)}},mr={id:w,app:w,route:w,component:function(){var e=Me((function(e){return e.views.settings})),t=(0,i.useMemo)((function(){return(0,d.map)(e,(function(e){return o().createElement(c.AW,{key:e.route,exact:!0,path:"/".concat(w,"/").concat(e.route)},o().createElement(Pe,{pkg:e.app},o().createElement(e.component,null)))}))}),[e]);return o().createElement(c.rs,null,t,o().createElement(c.l_,{from:"/".concat(w),exact:!0,strict:!0,to:"/".concat(w,"/general")}))}},pr=function(e){return{id:"general",route:"general",app:y,component:lr,icon:"SettingsModOutline",label:e("settings.general.general","General Settings"),position:1,subSections:pa(e)}},vr=function(e){return{id:"accounts",route:"accounts",app:y,component:oa,icon:"PersonOutline",label:e("settings.accounts","Accounts"),position:1}},br={route:O,id:O,app:O},gr=function(e){return{id:O,app:O,route:O,component:"SearchModOutline",position:15,visible:!0,label:e("search.app","Search"),badge:{show:!1}}},hr={id:O,app:O,route:O,component:function(){var e,t=Me((function(e){return e.views.search})),n=Rt().module,a=Me((function(e){return e.views.search})),r=(0,i.useMemo)((function(){return a.find((function(e){return e.route===n}))}),[n,a]),l=(0,i.useMemo)((function(){return(0,d.map)(t,(function(e){return o().createElement(c.AW,{key:"/".concat(e.route),path:"/".concat(O,"/").concat(e.route)},o().createElement(Pe,{pkg:e.app},o().createElement(e.component,{useQuery:It,ResultsHeader:Bt,useDisableSearch:Dt})))}))}),[t]);return o().createElement(c.rs,null,l,o().createElement(c.l_,{exact:!0,strict:!0,from:"/".concat(O),to:"/".concat(O,"/").concat(r?r.route:null===(e=t[0])||void 0===e?void 0:e.route)}))}},yr={id:"feedback",app:y,component:function(){var e,t,n,a=Se(),u=Ie(),c=(0,i.useMemo)((function(){return(0,d.filter)(u,(function(e){return!!e.sentryDsn}))}),[u]),s=(0,i.useMemo)((function(){return(0,d.map)(c,(function(e){return{label:e.display,value:e.name}}))}),[c]),f=ie(),m=(0,i.useReducer)(jt,Tt),p=(0,r.Z)(m,2),v=p[0],b=p[1],g=(0,i.useState)(!1),h=(0,r.Z)(g,2),y=h[0],w=h[1],E=(0,i.useState)(0),O=(0,r.Z)(E,2),_=O[0],k=O[1],S=(0,i.useCallback)((function(e){var t;return b({type:"select-app",payload:{app:e,version:null===(t=(0,d.find)(c,["name",e]))||void 0===t?void 0:t.version}})}),[c]),P=(0,i.useCallback)((function(e){w(!1),b({type:"select-topic",payload:e})}),[]),z=(0,i.useCallback)((function(e){e.target.style.height="auto",e.target.style.height="".concat(25+e.target.scrollHeight,"px"),e.target.value.length<=500&&(k(e.target.value.length),b({type:"set-message",payload:e.target.value}))}),[]),C=(0,i.useCallback)((function(e){var t,n;"0"===(null===(t=v.extra)||void 0===t?void 0:t.topic)?w(!0):w(!1),"Backspace"===e.key&&0===(null===(n=v.message)||void 0===n?void 0:n.length)&&w(!1)}),[w,v]),A=(0,l.useSnackbar)(),T=(0,i.useCallback)((function(){var e,t,n=(e=v,(t=Ye.getState().clients.feedbacks.captureEvent(Je(Je({},e),{},{level:"info"})))&&console.info("Feedback ",t," sent, Thank you"),t);A(n?{type:"success",label:a("feedback.success","Thank you for your feedback")}:{type:"error",label:a("feedback.error","There was an error while sending your feedback")}),at("feedback")}),[v,A,a]);(0,i.useEffect)((function(){var e;b({type:"set-user",payload:{id:f.id,name:null!==(e=f.displayName)&&void 0!==e?e:f.name}})}),[f]);var j=(0,i.useMemo)((function(){var e,t,n,a;return(null!==(e=null==v||null===(t=v.message)||void 0===t?void 0:t.length)&&void 0!==e?e:0)<=0||"0"===(null===(n=v.extra)||void 0===n?void 0:n.topic)||"0"===(null===(a=v.extra)||void 0===a?void 0:a.app)}),[v.message,null===(e=v.extra)||void 0===e?void 0:e.topic,null===(t=v.extra)||void 0===t?void 0:t.app]),x=(0,i.useCallback)((function(e){return o().createElement(Mt,(0,Fe.Z)({},e,{showErr:y}))}),[y]),M=(0,i.useMemo)((function(){return function(e){return[{label:e("feedback.user_interface","User interface"),value:"UserInterface"},{label:e("feedback.behaviors","Behaviors"),value:"Behaviors"},{label:e("feedback.missing_features","Missing features"),value:"MissingFeatures"},{label:e("feedback.other","Other"),value:"Other"}]}(a)}),[a]),R=(0,i.useMemo)((function(){var e;return null!==(e=(0,d.find)(M,(function(e){var t;return e.value===(null===(t=v.extra)||void 0===t?void 0:t.topic)})))&&void 0!==e?e:{label:"",value:""}}),[null===(n=v.extra)||void 0===n?void 0:n.topic,M]);return o().createElement(l.Container,{padding:{all:"large"},mainAlignment:"space-around"},o().createElement(l.Container,{orientation:"horizontal",height:"fit"},o().createElement(St,{mainAlignment:"flex-start",crossAlignment:"flex-start"},o().createElement(l.Text,{weight:"bold",size:"large"},a("feedback.report_something","Do you want to report something?")),o().createElement(Ct,{overflow:"break-word",lineHeight:"1.5"},a("feedback.explanation","Please send us your feedback about your new experience with Zextras Server. Your opinion is meaningful for us to improve our product. So tell us what’s on your mind.")),o().createElement(Ct,{overflow:"break-word"},a("feedback.hint","Remember: define the topic using module and macro area selectors before write your feedback. Thanks for your help."))),o().createElement(Pt,{crossAlignment:"flex-end",mainAlignment:"baseline"},o().createElement(l.Button,{label:a("feedback.send","SEND"),onClick:T,disabled:j}))),o().createElement(l.Container,{padding:{bottom:"medium"},height:"fit",mainAlignment:"space-between",crossAlignment:"flex-start",orientation:"horizontal"},o().createElement(l.Container,{mainAlignment:"space-between",crossAlignment:"flex-start",maxWidth:"19.0625rem"},o().createElement(l.Row,{padding:{vertical:"large"}},o().createElement(l.Text,{weight:"bold",size:"small"},"Module")),o().createElement(l.Select,{label:a("feedback.select_a_module","Select a module"),items:s,defaultSelection:{label:"",value:""},onChange:S,LabelFactory:xt})),o().createElement(l.Container,{mainAlignment:"space-between",crossAlignment:"flex-start",maxWidth:"19.0625rem"},o().createElement(l.Row,{padding:{vertical:"large"}},o().createElement(l.Text,{weight:"bold",size:"small"},"Topic")),o().createElement(l.Select,{label:a("feedback.select_a_topic","Select a topic"),items:M,defaultSelection:R,onChange:P,LabelFactory:x,multiple:!1}))),o().createElement(zt,{crossAlignment:"flex-end"},o().createElement(kt,{value:v.message,onKeyUp:C,onChange:z,placeholder:a("feedback.write_here","Write your feedback here")}),o().createElement(l.Text,{size:"medium",color:"secondary"},_,"/500")))},route:"feedback"},wr=(0,ae.Ue)()((function(e){return{packageDependentFunctions:{},functions:{},add:function(t){var n=t.packageDependentFunctions,a=t.functions;e((function(e){return{packageDependentFunctions:(0,d.reduce)(null!=n?n:{},(function(e,t,n){return e[n]=t,e}),e.packageDependentFunctions),functions:(0,d.reduce)(null!=a?a:{},(function(e,t,n){return e[n]=t,e}),e.functions)}}))}}}));function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _r=function(){var e=(0,c.TH)(),t=Ve();return(0,i.useMemo)((function(){return(0,d.find)(t,(function(t){var n=t.route;return(0,d.startsWith)((0,d.trim)(e.pathname,"/"),n)}))}),[e.pathname,t])},kr=function(){var e,t,n=null===(e=(t=wr.getState().functions).getHistory)||void 0===e?void 0:e.call(t),a=Ne(),r=(0,d.find)(a,(function(e){return(0,d.startsWith)((0,d.trim)(n.location.pathname,"/"),e.route)}));return(null==r?void 0:r.route)===O?Or(Or({},r),{},{route:"".concat(r.route,"/").concat(Rt.getState().module)}):r},Sr=function(e){var t;if("string"==typeof e)return(0,d.replace)("/".concat(null===(t=kr())||void 0===t?void 0:t.route,"/").concat(e),"//","/");var n=e.route?(0,d.find)(Ne(),(function(t){return t.id===e.route||t.route===e.route})):kr();return"string"==typeof e.path?(0,d.replace)("/".concat(null==n?void 0:n.route,"/").concat(e.path),"//","/"):{search:e.path.search,hash:e.path.hash,pathname:(0,d.replace)("/".concat(null==n?void 0:n.route,"/").concat(e.path.pathname),"//","/")}},Pr=function(){var e=(0,c.k6)();return(0,i.useCallback)((function(t){return e.push(Sr(t))}),[e])},zr=function(){var e=(0,c.k6)();return(0,i.useCallback)((function(t){return e.replace(Sr(t))}),[e])};function Cr(){return(0,c.k6)().goBack}var Ar=function(e){var t,n;(null===(t=(n=wr.getState().functions).getHistory)||void 0===t?void 0:t.call(n)).push(Sr(e))},Tr=function(e){var t,n;(null===(t=(n=wr.getState().functions).getHistory)||void 0===t?void 0:t.call(n)).replace(Sr(e))},jr=function(){var e,t;return null===(e=(t=wr.getState().functions).getHistory)||void 0===e?void 0:e.call(t).goBack()},xr=function(e){return na(y)("CreateTag",{_jsns:"urn:zimbraMail",tag:e})},Mr=function(e){return na(y)("TagAction",{_jsns:"urn:zimbraMail",action:{op:"delete",id:e}})},Rr=function(e,t){return na(y)("TagAction",{_jsns:"urn:zimbraMail",action:{op:"rename",id:e,name:t}})},Ir=function(e,t){return na(y)("TagAction",{_jsns:"urn:zimbraMail",action:"number"==typeof t?{op:"color",color:t,id:e}:{op:"color",rgb:t,id:e}})},Dr=n(98954),Br=n(85104);n(76550);const Nr=n.p+"20d012c938e8d0dcc703.mp3";function Vr(){return ga.getState().carbonioWebUiFavicon}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fr=function(){function e(){var t=this;(0,Dr.Z)(this,e),(0,$.Z)(this,"PopupNotificationDefaultConfig",{title:"",vibrate:[200,100,200],icon:Vr()}),(0,$.Z)(this,"AudioNotificationDefaultConfig",{sound:Nr}),(0,$.Z)(this,"NotificationDefaultConfig",Lr(Lr(Lr({},this.PopupNotificationDefaultConfig),this.AudioNotificationDefaultConfig),{},{showPopup:!0,playSound:!1})),(0,$.Z)(this,"functions",new Map),(0,$.Z)(this,"getAudioFileFunction",(function(n){t.functions.has(n)||t.functions.set(n,(0,d.debounce)((function(){new Audio(n).play().then(),t.functions.delete(n)}),e.DEBOUNCE_TIME));var a=t.functions.get(n);return null!=a?a:d.noop})),(0,$.Z)(this,"playSound",(function(e){var n=Lr(Lr({},t.AudioNotificationDefaultConfig),e);n.sound&&t.getAudioFileFunction(n.sound)()})),(0,$.Z)(this,"showPopup",(function(e){var n=Lr(Lr({},t.PopupNotificationDefaultConfig),e),a=new Notification(n.title,{body:n.message,vibrate:n.vibrate,icon:n.icon,tag:null==n?void 0:n.tag});n.onClick&&a.addEventListener("click",n.onClick)})),(0,$.Z)(this,"notify",(function(e){var n=Lr(Lr({},t.NotificationDefaultConfig),e);null!=n&&n.showPopup&&t.showPopup(n),null!=n&&n.playSound&&t.playSound(n)})),(0,$.Z)(this,"multipleNotify",(function(e){e.forEach((function(e){return t.notify(e)}))}))}return(0,Br.Z)(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();(0,$.Z)(Fr,"instance",void 0),(0,$.Z)(Fr,"DEBOUNCE_TIME",1e3);var Gr=function(){return Fr.getInstance()},Ur=function(e,t){Rt.setState({query:e,module:t,searchDisabled:!1}),Ar({route:O,path:"/".concat(t)})};const Hr=(0,i.createContext)({isMobile:!0});function Wr(){return(0,i.useContext)(Hr).isMobile}var qr=n(96471),Kr=n(10521),Yr=n(21645),Xr=n.n(Yr),Jr=(n(20468),n(92751),n(13607),n(28232),n(50844),n(80171),n(64892),n(75877),n(45971),n(16743),n(17240),n(50626),n(48734),n(7246),n(91103),n(75897),n(22634),n(46235),n(41995),n(67539),n(95461),n(16539),n(45609),["onEditorChange","onFileSelect","inline","value","initialValue","customInitOptions"]);function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Qr=Ge.default.input.withConfig({displayName:"composer__FileInput",componentId:"sc-o7p0p5-0"})(["display:none;"]);const ei=function(e){var t=e.onEditorChange,n=e.onFileSelect,a=e.inline,r=void 0!==a&&a,u=e.value,c=e.initialValue,s=e.customInitOptions,d=(0,qr.Z)(e,Jr),f=(0,i.useCallback)((function(e,n){null==t||t([n.getContent({format:"text"}),n.getContent({format:"html"})])}),[t]),m=ce().prefs,p=(0,i.useMemo)((function(){return{font:null==m?void 0:m.zimbraPrefHtmlEditorDefaultFontFamily,fontSize:null==m?void 0:m.zimbraPrefHtmlEditorDefaultFontSize,color:null==m?void 0:m.zimbraPrefHtmlEditorDefaultFontColor}}),[m]),v=(0,i.useRef)(null),b=(0,i.useCallback)((function(){v.current&&(v.current.value="",v.current.click())}),[]),g=Se(),h=_e.getState().locale,y=(0,i.useMemo)((function(){return g("label.add_inline_image","Add inline image")}),[g]),w=(0,i.useCallback)((function(e){n&&e.ui.registry.addMenuButton("imageSelector",{icon:"gallery",tooltip:g("label.select_image","Select image"),fetch:function(e){e([{type:"menuitem",text:y,onAction:function(){b()}}])}})}),[y,b,n,g]),E=(0,i.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({content_css:"".concat("/static/iris/carbonio-shell-ui/bf4cd0a881836a36fe0c4df29fc576e24ffe9534/","/tinymce/skins/content/default/content.css"),language_url:"".concat("/static/iris/carbonio-shell-ui/bf4cd0a881836a36fe0c4df29fc576e24ffe9534/","tinymce/langs/").concat(h,".js"),language:h,setup:w,min_height:350,auto_focus:!0,menubar:!1,statusbar:!1,branding:!1,resize:!0,inline:r,font_size_formats:"8pt 9pt 10pt 11pt 12pt 13pt 14pt 16pt 18pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt",object_resizing:"img",style_formats:[{title:"Headers",items:[{title:"h1",block:"h1"},{title:"h2",block:"h2"},{title:"h3",block:"h3"},{title:"h4",block:"h4"},{title:"h5",block:"h5"},{title:"h6",block:"h6"}]},{title:"Blocks",items:[{title:"p",block:"p"},{title:"div",block:"div"},{title:"pre",block:"pre"}]},{title:"Containers",items:[{title:"section",block:"section",wrapper:!0,merge_siblings:!1},{title:"article",block:"article",wrapper:!0,merge_siblings:!1},{title:"blockquote",block:"blockquote",wrapper:!0},{title:"hgroup",block:"hgroup",wrapper:!0},{title:"aside",block:"aside",wrapper:!0},{title:"figure",block:"figure",wrapper:!0}]}],plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","code","fullscreen","insertdatetime","media","table","code","help","quickbars","directionality","autoresize","visualblocks"],toolbar:!r&&["fontfamily fontsize styles visualblocks","bold italic underline strikethrough","removeformat code","alignleft aligncenter alignright alignjustify","forecolor backcolor","bullist numlist outdent indent","ltr rtl","insertfile image","imageSelector"].join(" | "),quickbars_insert_toolbar:r?"bullist numlist":"",quickbars_selection_toolbar:r?"bold italic underline | forecolor backcolor | removeformat | quicklink":"quicklink",contextmenu:"",toolbar_mode:"wrap",content_style:"body  {  color: ".concat(null==p?void 0:p.color,"; font-size: ").concat(null==p?void 0:p.fontSize,"; font-family: ").concat(null==p?void 0:p.font,"; }"),visualblocks_default_state:!1,end_container_on_empty_block:!0,relative_urls:!1,remove_script_host:!1,newline_behavior:"invert"},s)}),[null==p?void 0:p.color,null==p?void 0:p.font,null==p?void 0:p.fontSize,r,h,w,s]),O=(0,i.useCallback)((function(){var e;null==n||n({editor:Xr(),files:null==v||null===(e=v.current)||void 0===e?void 0:e.files})}),[n]);return o().createElement(l.Container,{height:"100%",crossAlignment:"baseline",mainAlignment:"flex-start",style:{overflowY:"hidden"}},o().createElement(Qr,{type:"file",ref:v,accept:"image/*",onChange:O,multiple:!0}),o().createElement(Kr.M,(0,Fe.Z)({initialValue:c,value:u,init:E,onEditorChange:f},d)))};function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ai=(0,ae.Ue)()((function(e){return{actions:{},components:{composer:{item:ei,app:y}},functions:{},registerActions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e((0,ne.ZP)((function(e){(0,d.forEach)(n,(function(t){var n=t.id,a=t.action,r=t.type;e.actions[r]||(e.actions[r]={}),e.actions[r][n]=a}))})))},registerComponents:function(t){return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e((0,ne.ZP)((function(e){(0,d.forEach)(a,(function(n){var a=n.id,r=n.component;e.components[a]={app:t,item:r}}))})))}},registerFunctions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e((0,ne.ZP)((function(e){(0,d.forEach)(n,(function(t){var n=t.id,a=t.fn;e.functions[n]=a}))})))},removeActions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e((0,ne.ZP)((function(e){(0,d.forEach)(e.actions,(function(t,a){(0,d.forEach)(t,(function(t,r){(0,d.includes)(n,r)&&delete e.actions[a][r]}))}))})))},removeComponents:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e((function(e){return ni(ni({},e),{},{components:(0,d.omit)(e.components,n)})}))},removeFunctions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e((function(e){return ni(ni({},e),{},{functions:(0,d.omit)(e.functions,n)})}))}}})),ri=function(e){var t,n=null===(t=ai.getState().functions)||void 0===t?void 0:t[e];return n?[n,!0]:[function(){},!1]},ii=function(e){var t,n=null===(t=ai.getState().components)||void 0===t?void 0:t[e];return n?[function(e){return o().createElement(Pe,{pkg:n.app},o().createElement(n.item,e))},!0]:[function(){return null},!1]},oi=function(e,t){var n=ai.getState().actions[t];return(0,d.compact)((0,d.map)(n,(function(t){try{return t(e)}catch(e){return void console.error(e)}})))},li=function(e){var t=ai.getState().actions[e];return function(e){return(0,d.compact)((0,d.map)(t,(function(t){try{return t(e)}catch(e){return void console.error(e)}})))}},ui=function(e,t,n){var a,r=null===(a=ai.getState().actions[e])||void 0===a?void 0:a[t],i=null==r?void 0:r(n);return[i,!!i]},ci=function(e,t){var n,a=null===(n=ai.getState().actions[e])||void 0===n?void 0:n[t];return[a,!!a]},si=function(e){var t=ai((function(t){var n;return null===(n=t.functions)||void 0===n?void 0:n[e]}));return t?[t,!0]:[function(){},!1]},di=function(e){var t=ai((function(t){var n;return null===(n=t.components)||void 0===n?void 0:n[e]}));return(0,i.useMemo)((function(){return t?[function(e){return o().createElement(Pe,{pkg:t.app},o().createElement(t.item,e))},!0]:[function(){return null},!1]}),[t])},fi=function(e,t){var n=ai((function(e){return e.actions[t]}));return(0,i.useMemo)((function(){var t;return null!==(t=(0,d.compact)((0,d.map)(n,(function(t){try{return t(e)}catch(e){return void console.error(e)}}))))&&void 0!==t?t:[]}),[n,e])},mi=function(e){var t=ai((function(t){return t.actions[e]}));return(0,i.useCallback)((function(e){return(0,d.compact)((0,d.map)(t,(function(t){try{return t(e)}catch(e){return void console.error(e)}})))}),[t])},pi=function(e,t,n){var a=ai((function(n){return n.actions[e][t]})),r=(0,i.useMemo)((function(){try{return null==a?void 0:a(n)}catch(e){return}}),[a,n]);return[r,!!r]},vi=function(e,t){var n=ai((function(n){return n.actions[e][t]}));return[n,!!n]};function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wi=["to","route"],Ei=function(e){var t=e.to,n=e.route,a=(0,qr.Z)(e,wi),r=(0,i.useMemo)((function(){return Sr({path:t,route:n})}),[n,t]);return o().createElement(s.Link,(0,Fe.Z)({style:{textDecoration:"none"},to:r},a))},Oi=function(){return o().createElement(l.Container,{width:"fill",height:"fill",mainAlignment:"center",crossAlignment:"center"},o().createElement(l.Button,{type:"ghost",label:"Button",color:"primary",loading:!0,onClick:d.noop}))};function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Si={},Pi=0,zi=n(35008),Ci=n(91877),Ai=n(90731),Ti=n(67051);function ji(e){var t,r,c,f;window.__ZAPP_SHARED_LIBRARIES__||(window.__ZAPP_SHARED_LIBRARIES__={react:o(),"react-dom":Ai,"react-i18next":u,"react-redux":Ti,lodash:d,"react-router-dom":s,moment:Nt,"styled-components":Ge,"@reduxjs/toolkit":zi,"@zextras/carbonio-shell-ui":{},"@zextras/carbonio-design-system":l,"@zextras/carbonio-ui-preview":Ci},window.__ZAPP_HMR_EXPORT__={});var m=(0,d.filter)(e,(function(e){return e.name!==y&&!(e.attrKey&&"FALSE"===pe("attrs",e.attrKey))}));console.log("%cLOADING APPS","color: white; background: #2b73d2;padding: 4px 8px 2px 4px; font-family: sans-serif; border-radius: 12px; width: 100%");var p=re.getState().settings,v=null!==(t=null!==(r=null==p||null===(c=p.prefs)||void 0===c?void 0:c.zimbraPrefLocale)&&void 0!==r?r:null==p||null===(f=p.attrs)||void 0===f?void 0:f.zimbraLocale)&&void 0!==t?t:"en";_e.getState().actions.addI18n(m,v);var b=qt(Se()).find((function(e){return e.id===v}));if(b){var g=b.dateFnsLocale||b.value;(function(e){return n(95804)("./".concat(e,"/index.js"))})(g).then((function(e){(0,l.registerLocale)(g,e),(0,l.setDefaultLocale)(g)}))}return Ye.getState().setClients(m),Promise.allSettled((0,d.map)(m,(function(e){return t=e,new Promise((function(e,n){try{window.__ZAPP_SHARED_LIBRARIES__&&window.__ZAPP_SHARED_LIBRARIES__["@zextras/carbonio-shell-ui"]&&(window.__ZAPP_SHARED_LIBRARIES__["@zextras/carbonio-shell-ui"][t.name]=ki(ki(ki({report:$e(t.name),AppLink:Ei,Spinner:Oi,SettingsHeader:un},function(e){var t,n=Me.getState().setters,a=ai.getState();return{updatePrimaryBadge:n.updatePrimaryBadge,updateUtilityBadge:n.updateUtilityBadge,setAppContext:n.setAppContext(e.name),addRoute:function(t){return n.addRoute(function(e,t){var n,a,r,i,o,l,u,c,s,f,m,p,v=(0,d.trim)(null!==(n=e.route)&&void 0!==n?n:t.name,"/");return{app:t.name,route:v,id:null!==(a=e.id)&&void 0!==a?a:v,badge:Ce(null!==(r=null==e?void 0:e.badge)&&void 0!==r?r:{}),position:null!==(i=null==e?void 0:e.position)&&void 0!==i?i:t.priority,visible:null===(o=null==e?void 0:e.visible)||void 0===o||o,label:null!==(l=null==e?void 0:e.label)&&void 0!==l?l:"",primaryBar:null!==(u=null!==(c=e.primaryBar)&&void 0!==c?c:t.icon)&&void 0!==u?u:"CubeOutline",secondaryBar:e.secondaryBar,appView:null!==(s=e.appView)&&void 0!==s?s:ze,standalone:{hidePrimaryBar:null==e||null===(f=e.standalone)||void 0===f?void 0:f.hidePrimaryBar,hideShellHeader:null==e||null===(m=e.standalone)||void 0===m?void 0:m.hideShellHeader,allowUnauthenticated:null==e||null===(p=e.standalone)||void 0===p?void 0:p.allowUnauthenticated}}}(t,e))},setRouteVisibility:function(e,t){return n.setRouteVisibility(e,t)},removeRoute:function(e){return n.removeRoute(e)},addBoardView:function(t){return n.addBoardView(function(e,t){var n,a,r,i=(0,d.trim)(null!==(n=e.route)&&void 0!==n?n:t.name,"/");return{app:t.name,route:i,id:null!==(a=null==e?void 0:e.id)&&void 0!==a?a:i,component:null!==(r=null==e?void 0:e.component)&&void 0!==r?r:ze}}(t,e))},removeBoardView:n.removeBoardView,addSettingsView:function(t){return n.addSettingsView(function(e,t){var n,a,r,i,o,l,u,c,s=(0,d.trim)(null!==(n=e.route)&&void 0!==n?n:t.name,"/");return{app:t.name,route:s,id:null!==(a=null==e?void 0:e.id)&&void 0!==a?a:s,component:null!==(r=null==e?void 0:e.component)&&void 0!==r?r:ze,label:null!==(i=e.label)&&void 0!==i?i:t.display,icon:null!==(o=e.icon)&&void 0!==o?o:t.icon,position:null!==(l=null!==(u=e.position)&&void 0!==u?u:t.priority)&&void 0!==l?l:99,subSections:null!==(c=e.subSections)&&void 0!==c?c:[]}}(t,e))},removeSettingsView:n.removeSettingsView,addSearchView:function(t){return n.addSearchView(function(e,t){var n,a,r,i,o,l,u,c=(0,d.trim)(null!==(n=e.route)&&void 0!==n?n:t.name,"/");return{app:t.name,route:c,id:null!==(a=null==e?void 0:e.id)&&void 0!==a?a:c,component:null!==(r=null==e?void 0:e.component)&&void 0!==r?r:ze,label:null!==(i=e.label)&&void 0!==i?i:t.display,icon:null!==(o=e.icon)&&void 0!==o?o:t.icon,position:null!==(l=null!==(u=e.position)&&void 0!==u?u:t.priority)&&void 0!==l?l:99}}(t,e))},removeSearchView:n.removeSearchView,addUtilityView:function(t){return n.addUtilityView(function(e,t){var n,a,r,i,o,l;return{app:t.name,id:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:t.name,whitelistRoutes:null==e?void 0:e.whitelistRoutes,blacklistRoutes:null==e?void 0:e.blacklistRoutes,component:null!==(a=null==e?void 0:e.component)&&void 0!==a?a:ze,button:null!==(r=null==e?void 0:e.button)&&void 0!==r?r:"Cube",badge:Ce(null!==(i=null==e?void 0:e.badge)&&void 0!==i?i:{}),position:null!==(o=null==e?void 0:e.position)&&void 0!==o?o:t.priority,label:null!==(l=null==e?void 0:e.label)&&void 0!==l?l:t.display}}(t,e))},removeUtilityView:n.removeUtilityView,addPrimaryAccessoryView:function(t){return n.addPrimaryAccessoryView(function(e,t){var n,a,r,i;return{app:t.name,onClick:null==e?void 0:e.onClick,label:null!==(n=null==e?void 0:e.label)&&void 0!==n?n:t.display,position:null!==(a=null==e?void 0:e.position)&&void 0!==a?a:t.priority,whitelistRoutes:null==e?void 0:e.whitelistRoutes,blacklistRoutes:null==e?void 0:e.blacklistRoutes,id:null!==(r=null==e?void 0:e.id)&&void 0!==r?r:t.name,component:null!==(i=null==e?void 0:e.component)&&void 0!==i?i:ze}}(t,e))},removePrimaryAccessoryView:n.removePrimaryAccessoryView,addSecondaryAccessoryView:function(t){return n.addSecondaryAccessoryView(function(e,t){var n,a,r;return{app:t.name,position:null!==(n=null==e?void 0:e.position)&&void 0!==n?n:t.priority,whitelistRoutes:null==e?void 0:e.whitelistRoutes,blacklistRoutes:null==e?void 0:e.blacklistRoutes,id:null!==(a=null==e?void 0:e.id)&&void 0!==a?a:t.name,component:null!==(r=null==e?void 0:e.component)&&void 0!==r?r:ze}}(t,e))},removeSecondaryAccessoryView:n.removeSecondaryAccessoryView,registerFunctions:a.registerFunctions,removeFunctions:a.removeFunctions,registerActions:a.registerActions,removeActions:a.removeActions,registerComponents:a.registerComponents(e.name),removeComponents:a.removeComponents,editSettings:(t=e.name,function(e){return function(e){var t,n,a,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return aa(y)("Batch",'<BatchRequest xmlns="urn:zimbra" onerror="stop">'.concat(e.props?'<ModifyPropertiesRequest xmlns="urn:zimbraAccount">'.concat((0,d.map)(e.props,(function(e,t){var n;return'<prop name="'.concat(t,'" zimlet="').concat(null!==(n=e.app)&&void 0!==n?n:i,'">').concat(e.value,"</prop>")})),"</ModifyPropertiesRequest>"):"").concat(e.prefs?'<ModifyPrefsRequest xmlns="urn:zimbraAccount">'.concat((0,d.map)(e.prefs,(function(e,t){return(0,d.isArray)(e)?(0,d.map)(e,(function(e){return'<pref name="'.concat(t,'">').concat(e,"</pref>")})).join(""):'<pref name="'.concat(t,'">').concat(e,"</pref>")})).join(""),"</ModifyPrefsRequest>"):"").concat(null!==(t=e.identity)&&void 0!==t&&t.modifyList?(0,d.map)(e.identity.modifyList,(function(e){return'<ModifyIdentityRequest xmlns="urn:zimbraAccount" requestId="0"><identity id="'.concat(e.id,'">').concat((0,d.map)(e.prefs,(function(e,t){return'<a name="'.concat(t,'">').concat(e,"</a>")})).join(""),"</identity></ModifyIdentityRequest>")})).join(""):"").concat(null!==(n=e.identity)&&void 0!==n&&n.deleteList?(0,d.map)(e.identity.deleteList,(function(e){return'<DeleteIdentityRequest xmlns="urn:zimbraAccount" requestId="0"><identity id="'.concat(e,'"/></DeleteIdentityRequest>')})).join(""):"").concat(null!==(a=e.identity)&&void 0!==a&&a.createList?(0,d.map)(e.identity.createList,(function(e,t){return'<CreateIdentityRequest xmlns="urn:zimbraAccount" requestId="'.concat(t,'"><identity name="').concat(e.prefs.zimbraPrefIdentityName,'"><a name="zimbraPrefIdentityName">').concat(e.prefs.zimbraPrefIdentityName,'</a><a name="zimbraPrefFromDisplay">').concat(e.prefs.zimbraPrefFromDisplay,'</a><a name="zimbraPrefFromAddress">').concat(e.prefs.zimbraPrefFromAddress,'</a><a name="zimbraPrefFromAddressType">sendAs</a><a name="zimbraPrefReplyToEnabled">').concat(e.prefs.zimbraPrefReplyToEnabled,'</a><a name="zimbraPrefReplyToDisplay">').concat(e.prefs.zimbraPrefReplyToDisplay,'</a><a name="zimbraPrefReplyToAddress">').concat(e.prefs.zimbraPrefReplyToAddress,'</a><a name="zimbraPrefDefaultSignatureId">').concat(e.prefs.zimbraPrefDefaultSignatureId,'</a><a name="zimbraPrefForwardReplySignatureId">').concat(e.prefs.zimbraPrefForwardReplySignatureId,'</a><a name="zimbraPrefWhenSentToEnabled">').concat(e.prefs.zimbraPrefWhenSentToEnabled,'</a><a name="zimbraPrefWhenInFoldersEnabled">').concat(e.prefs.zimbraPrefWhenInFoldersEnabled,"</a></identity></CreateIdentityRequest>")})).join(""):"").concat(e.permissions?'<RevokeRightsRequest xmlns="urn:zimbraAccount" requestId="0">'.concat(e.permissions.freeBusy?(0,d.map)(e.permissions.freeBusy.current,(function(e){return"dom"===e.gt?'<ace right="viewFreeBusy" gt="'.concat(e.gt,'" zid="').concat(e.zid,'" d="zextras.com"/>'):"all"===e.gt&&e.deny?'<ace right="viewFreeBusy" gt="'.concat(e.gt,'" zid="').concat(e.zid,'" deny="1"/>'):"usr"===e.gt?'<ace right="viewFreeBusy" gt="'.concat(e.gt,'" zid="').concat(e.zid,'" d="').concat(e.d,'"/>'):'<ace right="viewFreeBusy" gt="'.concat(e.gt,'" zid="').concat(e.zid,'" />')})).join(""):"").concat(e.permissions.inviteRight?(0,d.map)(e.permissions.inviteRight.current,(function(e){return"all"===e.gt&&e.deny?'<ace right="invite" gt="'.concat(e.gt,'" zid="').concat(e.zid,'" deny="1"/>'):"usr"===e.gt?'<ace right="invite" gt="'.concat(e.gt,'" zid="').concat(e.zid,'" d="').concat(e.d,'"/>'):'<ace right="invite" gt="'.concat(e.gt,'" zid="').concat(e.zid,'" />')})).join(""):"",'</RevokeRightsRequest><GrantRightsRequest xmlns="urn:zimbraAccount" requestId="1">').concat(e.permissions.freeBusy?"".concat("dom"===e.permissions.freeBusy.new.gt?'<ace right="viewFreeBusy" gt="'.concat(e.permissions.freeBusy.new.gt,'" d="zextras.com"/>'):"all"===e.permissions.freeBusy.new.gt&&e.permissions.freeBusy.new.deny?'<ace right="viewFreeBusy" gt="'.concat(e.permissions.freeBusy.new.gt,'" deny="1"/>'):"usr"===e.permissions.freeBusy.new.gt?(0,d.map)(e.permissions.freeBusy.new.d,(function(t){var n;return'<ace right="viewFreeBusy" gt="'.concat(null===(n=e.permissions)||void 0===n?void 0:n.freeBusy.new.gt,'" d="').concat(t.email,'"/>')})).join(""):'<ace right="viewFreeBusy" gt="'.concat(e.permissions.freeBusy.new.gt,'" />')):"").concat(e.permissions.inviteRight?"".concat("all"===e.permissions.inviteRight.new.gt&&e.permissions.inviteRight.new.deny?'<ace right="invite" gt="'.concat(e.permissions.inviteRight.new.gt,'" deny="1"/>'):"usr"===e.permissions.inviteRight.new.gt?(0,d.map)(e.permissions.inviteRight.new.d,(function(t){var n;return'<ace right="invite" gt="'.concat(null===(n=e.permissions)||void 0===n?void 0:n.inviteRight.new.gt,'" d="').concat(t.email,'"/>')})).join(""):'<ace right="invite" gt="'.concat(null===(r=e.permissions)||void 0===r?void 0:r.inviteRight.new.gt,'" />')):"","\n\t</GrantRightsRequest>"):"","</BatchRequest>")).then((function(t){return re.setState((function(n){var a,r,i,o;return{settings:yi(yi({},n.settings),{},{prefs:(0,d.reduce)(e.prefs,(function(e,t,n){return yi(yi({},e),{},(0,$.Z)({},n,t))}),n.settings.prefs),props:(0,d.reduce)(e.props,(function(e,t,n){var a=t.app,r=t.value,i=(0,d.findIndex)(e,(function(e){return e.name===n&&e.zimlet===a}));return i>=0?e[i]={name:n,zimlet:a,_content:r}:e.push({name:n,zimlet:a,_content:r}),e}),n.settings.props)}),account:yi(yi({},n.account),{},{displayName:(null===(a=(0,d.find)(null==e||null===(r=e.identity)||void 0===r?void 0:r.modifyList,(function(e){var t;return e.id===(null==n||null===(t=n.account)||void 0===t?void 0:t.id)})))||void 0===a?void 0:a.prefs.zimbraPrefIdentityName)||(null===(i=n.account)||void 0===i?void 0:i.displayName),identities:{identity:void 0!==n.account?(0,d.reduce)(null==e||null===(o=e.identity)||void 0===o?void 0:o.modifyList,(function(e,t){var n=t.id,a=t.prefs,r=(0,d.findIndex)(e,(function(t,a){return e[a].id===n}));return r>-1&&(e[r]._attrs=yi(yi({},e[r]._attrs),a),a.zimbraPrefIdentityName&&"DEFAULT"!==e[r].name&&(e[r].name=a.zimbraPrefIdentityName)),e}),[].concat((0,Q.Z)((0,d.filter)(n.account.identities.identity,(function(t){var n;return!(null!=e&&null!==(n=e.identity)&&void 0!==n&&null!==(n=n.deleteList)&&void 0!==n&&n.includes(t.id))})).filter((function(e){return"DEFAULT"!==e.name}))),(0,Q.Z)((0,d.map)(null==t?void 0:t.CreateIdentityResponse,(function(e){return e.identity[0]}))),(0,Q.Z)((0,d.filter)(n.account.identities.identity,(function(t){var n;return!(null!=e&&null!==(n=e.identity)&&void 0!==n&&null!==(n=n.deleteList)&&void 0!==n&&n.includes(t.id))})).filter((function(e){return"DEFAULT"===e.name}))))):void 0}})}})),t}))}(e,t).then((function(e){return yi(yi({},e),{},{type:"fulfilled"})}))})}}(t)),function(e){return{getI18n:(n=e.name,function(){var e,t,a=_e.getState(),r=a.instances,i=a.defaultI18n;return null!==(e=null!==(t=r[n])&&void 0!==t?t:r[y])&&void 0!==e?e:i}),t:ke(e.name),soapFetch:na(e.name),xmlSoapFetch:aa(e.name),useAppContext:(t=e.name,function(){return Me((function(e){return e.appContexts[t]}))}),getAppContext:Be(e.name),useApp:Re(e.name),getApp:De(e.name),getAppViews:Me((function(e){return e.views.appView})),useIntegratedFunction:si,getIntegratedFunction:ri,useIntegratedComponent:di,getIntegratedComponent:ii,useAction:pi,getAction:ui,useActions:fi,getActions:oi,useActionsFactory:mi,getActionsFactory:li,useActionFactory:vi,getActionFactory:ci,useUserAccount:ie,getUserAccount:de,useUserAccounts:oe,getUserAccounts:fe,useUserSettings:ce,getUserSettings:me,getUserSetting:pe,useUserSetting:se,useUserRight:ue,useUserRights:le,getUserRight:be,getUserRights:ve,useTags:qn,getTags:Kn,useNotify:bn,useRefresh:gn,useFoldersByView:Un,useFoldersAccordionByView:Hn,useFolder:Tn,getFolder:jn,useFolders:xn,getFolders:Mn,useRoot:Rn,getRoot:In,useRoots:Dn,getRoots:Bn,useSearchFolder:Zn,useSearchFolders:Fn,getSearchFolder:Ln,getSearchFolders:Gn,useRootByUser:Nn,getRootByUser:Vn,addBoard:nt(e.name),closeBoard:at,updateBoard:dt,updateBoardContext:ft,getBoardById:pt,getBoardContextById:bt,useBoard:Et,useBoardById:mt,useBoardContextById:vt,minimizeBoards:ot,reopenBoards:lt,setCurrentBoard:st,useBoardHooks:wt,usePushHistoryCallback:Pr,useGoBackHistoryCallback:Cr,useReplaceHistoryCallback:zr,useCurrentRoute:_r,getCurrentRoute:kr,pushHistory:Ar,goBackHistory:jr,replaceHistory:Tr,createTag:xr,renameTag:Rr,changeTagColor:Ir,deleteTag:Mr,getNotificationManager:Gr,runSearch:Ur,useIsMobile:Wr,useLocalStorage:Aa,getBridgedFunctions:function(){var t=wr.getState(),n=t.packageDependentFunctions;return gi(gi({},t.functions),(0,d.reduce)(n,(function(t,n,a){return gi(gi({},t),{},(0,$.Z)({},a,n(e.name)))}),{}))}};var t,n}(t)),a)),window.__ZAPP_HMR_EXPORT__[t.name]=function(n){Me.setState((function(e){return{entryPoints:ki(ki({},e.entryPoints),{},(0,$.Z)({},t.name,(0,i.memo)(n)))}})),console.info("%c loaded ".concat(t.name),"color: white; background: #539507;padding: 4px 8px 2px 4px; font-family: sans-serif; border-radius: 12px; width: 100%"),e(t)};var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("data-pkg_name",t.name),r.setAttribute("data-pkg_version",t.version),r.setAttribute("data-is_app","true"),r.setAttribute("src","".concat(t.js_entrypoint)),document.body.appendChild(r),Pi+=1,Si["".concat(t.name,"-loader-").concat(Pi)]=r}catch(e){console.error(e),n(e)}}));var t})))}n(1303);function xi(e){return"rejected"===e.status}var Mi=function(e){var t=e.open,n=e.closeHandler,a=(0,u.useTranslation)(),c=(0,r.Z)(a,1)[0],s=(0,i.useCallback)((function(){return window.location.reload()}),[]);return o().createElement(l.Modal,{open:t,showCloseIcon:!1,onSecondaryAction:pn,title:c("bootstrap.failure.modal.title","Something went wrong..."),confirmLabel:c("bootstrap.failure.modal.confirmButtonLabel","refresh"),secondaryActionLabel:c("bootstrap.failure.modal.secondaryButtonLabel","login page"),onConfirm:s,onClose:n},o().createElement(l.Padding,{all:"small"},o().createElement(l.Text,{overflow:"break-word"},c("bootstrap.failure.modal.body","Some technical issues occurred while processing your request. Please try to refresh the page or go back to the login page."))))},Ri=function(){var e=(0,i.useState)(!1),t=(0,r.Z)(e,2),n=t[0],a=t[1],l=(0,i.useCallback)((function(){return a(!1)}),[]);return(0,i.useEffect)((function(){return Promise.allSettled([fetch(Z).then((function(e){return e.json()})).then((function(e){ga.setState(e)})).finally((function(){ga.setState({loaded:!0});var e=document.getElementById("favicon");e&&e instanceof HTMLLinkElement&&(e.href=Vr()),document.title=ga.getState().carbonioWebUiTitle})),fetch("/static/iris/components.json").then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).then((function(e){var t=e.components;Me.getState().setters.addApps((0,d.filter)(t,(function(e){var t=e.type;return"shell"===t||"carbonio"===t})))})),na(y)("GetInfo",{_jsns:"urn:zimbraAccount",rights:"sendAs,sendAsDistList,viewFreeBusy,sendOnBehalfOf,sendOnBehalfOfDistList"}).then((function(e){if(e){var t=function(e){var t=e.id,n=e.name,a=e.attrs,r=e.prefs,i=e.identities,o=e.signatures,l=e.props,u=e.version,c=e.rights,s=function(e){var t;return{attrs:e.attrs._attrs,prefs:e.prefs._attrs,props:null!==(t=e.props.prop)&&void 0!==t?t:[]}}({attrs:a,prefs:r,props:l});return{account:{id:t,name:n,displayName:a._attrs.displayName,identities:i,signatures:o,rights:c},settings:s,version:u}}(e),n=t.account,a=t.settings,r=t.version;vn.setState({pollingInterval:Yn(a)}),re.setState({authenticated:!0,account:n,settings:a,zimbraVersion:r})}}))]).then((function(e){var t=(0,r.Z)(e,3),n=t[1],i=t[2],o=(0,d.find)([n,i],xi);o&&("string"==typeof o.reason?console.error(o.reason):"message"in o.reason&&console.error(o.reason.message),a(!0)),"fulfilled"===n.status&&ji(Object.values(Me.getState().apps))})),function(){new Promise((function(e){(0,d.forOwn)(Si,(function(e){e.parentNode&&e.parentNode.removeChild(e)})),e()}))}}),[]),o().createElement(Mi,{open:n,closeHandler:l})};const Ii=function(e){var t=e.children,n=_e((function(e){return e.instances[y]}));return o().createElement(u.I18nextProvider,{i18n:n},t)};var Di=function(){return(0,i.useEffect)((function(){"Notification"in window?Notification.requestPermission():console.warn("This browser does not support desktop notifications")}),[]),o().createElement(o().Fragment,null)},Bi=(0,Ge.default)(l.Container).withConfig({displayName:"app-view-container___BoardsRouterContainer",componentId:"sc-1gu6zd6-0"})(["flex-grow:1;flex-basis:0;min-width:0.0625rem;max-height:calc(100vh - 3.75rem);overflow-y:auto;"]),Ni=function(){var e=Ie(),t=Ve(),n=(0,c.TH)(),a=(0,i.useMemo)((function(){var n;return null===(n=(0,d.find)(t,(function(t){var n;return(null===(n=e[0])||void 0===n?void 0:n.name)===t.app})))||void 0===n?void 0:n.route}),[e,t]);return a&&"/"===(null==n?void 0:n.pathname)?o().createElement(c.l_,{exact:!0,strict:!0,from:"/",to:"/".concat(a)}):null};const Vi=function(){var e=Me((function(e){return e.views.appView})),t=(0,i.useMemo)((function(){return(0,Q.Z)((0,d.map)(e,(function(e){return o().createElement(c.AW,{key:e.id,path:"/".concat(e.route)},o().createElement(Pe,{key:e.app,pkg:e.app},o().createElement(e.component,null)))})))}),[e]);return o().createElement(Bi,null,o().createElement(l.Container,{mainAlignment:"flex-start"},o().createElement(c.rs,null,t),o().createElement(Ni,null)))};var Zi=n(1751),Li=Ge.default.div.withConfig({displayName:"board__BoardContainer",componentId:"sc-i98psp-0"})(["display:",";height:100%;width:100%;overflow-y:auto;&::-webkit-scrollbar{width:0.5rem;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar-thumb{background-color:",";border-radius:0.25rem;}"],(function(e){return e.show?"block":"none"}),(function(e){return e.theme.palette.gray3.regular})),Fi=function(e){var t=e.board,n=tt((function(e){return e.current})),a=(0,i.useMemo)((function(){return(0,Zi.PP)({initialEntries:[t.url]})}),[]),r=Me((function(e){return e.views.board})),l=(0,c.k6)(),u=(0,i.useMemo)((function(){var e=(0,d.find)(r,(function(e){return e.id===t.url||(0,d.startsWith)(t.url,e.route)}));return e?o().createElement(c.AW,{key:e.id,path:e.route},o().createElement(Pe,{key:e.id,pkg:e.app},o().createElement(yt,{id:t.id},o().createElement(e.component,{windowHistory:l})))):null}),[t.id,t.url,r,l]);return(0,i.useEffect)((function(){var e=a.listen((function(e){var n=e.location;"".concat(n.pathname).concat(n.search).concat(n.hash)!==t.url&&dt(t.id,{url:"".concat(n.pathname).concat(n.search).concat(n.hash)})}));return function(){e()}}),[t.url,t.id,a]),(0,i.useEffect)((function(){var e=a.location;"".concat(e.pathname).concat(e.search).concat(e.hash)!==t.url&&a.push(t.url)}),[t.url,a]),o().createElement(Li,{show:n===t.id,onMouseDown:_a},o().createElement(c.F0,{history:a},u))},Gi=(0,Ge.default)(l.Row).withConfig({displayName:"board-tab__TabContainer",componentId:"sc-1tw4sj3-0"})(["container-type:inline-size;container-name:tab;max-width:calc(3rem + 15ch);min-width:1rem;flex-grow:1;flex-basis:0;cursor:pointer;height:1.75rem;user-select:none;background-color:",";gap:0.25rem;border-radius:0.25rem;margin-left:0.25rem;margin-right:0.25rem;overflow:hidden;",""],(function(e){var t=e.theme;return e.active?t.palette.gray3.regular:t.palette.gray5.regular}),(function(e){return e.active&&(0,Ge.css)(["min-width:calc(3rem + 15ch);"])})),Ui=(0,Ge.default)(l.Container).withConfig({displayName:"board-tab__CloseContainer",componentId:"sc-1tw4sj3-1"})(["margin-left:auto;"]),Hi=(0,Ge.default)(l.Icon).withConfig({displayName:"board-tab__TabIcon",componentId:"sc-1tw4sj3-2"})(["min-width:1.5rem;"]),Wi=(0,Ge.default)(l.Text).withConfig({displayName:"board-tab__CustomText",componentId:"sc-1tw4sj3-3"})([""," text-overflow:unset;"],(function(e){return e.overflowing&&(0,Ge.css)(["mask-image:linear-gradient(90deg,#000 60%,transparent);"])})),qi=(0,Ge.default)(l.Container).withConfig({displayName:"board-tab__VerticalDivider",componentId:"sc-1tw4sj3-4"})(["width:0.0625rem;min-width:0.0625rem;height:2.25rem;background:",";"],(function(e){return e.theme.palette.gray3.regular})),Ki=function(e){var t=e.id,n=e.icon,a=e.title,u=e.firstTab,c=tt((function(e){return e.current})),s=Se(),d=(0,i.useCallback)((function(e){e.defaultPrevented||st(t)}),[t]),f=(0,i.useCallback)((function(e){e.defaultPrevented||(e.stopPropagation(),at(t))}),[t]),m=(0,i.useRef)(null),p=(0,i.useState)(!1),v=(0,r.Z)(p,2),b=v[0],g=v[1],h=(0,i.useRef)();return(0,i.useEffect)((function(){return m.current&&!h.current&&(h.current=new ResizeObserver((function(){requestAnimationFrame((function(){m.current&&g(m.current.offsetWidth<m.current.scrollWidth)}))})),h.current.observe(m.current)),function(){var e;null===(e=h.current)||void 0===e||e.disconnect()}}),[m]),o().createElement(o().Fragment,null,!u&&o().createElement(qi,null),o().createElement(Gi,{wrap:"nowrap",orientation:"row",mainAlignment:"flex-start",onClick:d,"data-testid":"board-tab-".concat(t),padding:{horizontal:"extrasmall"},active:c===t},o().createElement(Hi,{icon:n,size:"large"}),o().createElement(l.Tooltip,{label:a,placement:"top",maxWidth:"700px",triggerRef:m},o().createElement(Wi,{size:"medium",weight:"regular",color:c===t?"text":"secondary",overflowing:b,className:"tab-text"},a)),o().createElement(Ui,{orientation:"row",width:"fit"},o().createElement(l.Tooltip,{label:s("board.close_tab","Close Tab"),placement:"top"},o().createElement(l.IconButton,{className:"tab-close-icon-button",iconColor:"secondary",icon:"Close",onClick:f,style:{padding:"0.125rem",width:"1.5rem",height:"1.5rem"}})))))},Yi=(0,Ge.default)(l.Row).withConfig({displayName:"board-tab-list__CustomRow",componentId:"sc-s0jduq-0"})(["overflow-x:auto;&::-webkit-scrollbar{height:0.5rem;}"]),Xi=function(){var e=tt(),t=e.boards,n=e.orderedBoards;return o().createElement(Yi,{wrap:"nowrap",height:"100%",mainAlignment:"flex-start",takeAvailableSpace:!0},t&&!(0,d.isEmpty)(n)&&(0,d.map)(n,(function(e,n){return o().createElement(Ki,{key:e,id:e,title:t[e].title,icon:t[e].icon,firstTab:0===n})})))};function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n(41387);var $i=["n","s","e","w","ne","se","sw","nw"];function Qi(e){var t,n=null===(t=(0,d.find)([["n","s"],["e","w"],["ne","sw"],["nw","se"]],(function(t){return t.includes(e)})))||void 0===t?void 0:t.join("");return n&&n.concat("-resize")||""}function eo(e,t,n){var a={top:t.top,left:t.left,height:t.height,width:t.width};if(e.includes("n")){var r=t.clientTop-n.clientY;a.height=t.height+r,a.top=t.top-r}if(e.includes("s")&&(a.height=n.clientY-t.clientTop),e.includes("e")&&(a.width=n.clientX-t.clientLeft),e.includes("w")){var i=t.clientLeft-n.clientX;a.width=t.width+i,a.left=t.left-i}return a}var to=(ka({calcNewSizeAndPosition:eo}),["elementToResize","children","localStorageKey","disabled","keepSynchedWithStorage"]),no=(0,Ge.default)(l.Container).withConfig({displayName:"resizable-container__MainContainer",componentId:"sc-1eyb1m-0"})(["position:relative;width:100%;height:100%;"]),ao=Ge.default.div.withConfig({displayName:"resizable-container__BorderWithResize",componentId:"sc-1eyb1m-1"})(["position:absolute;z-index:2;cursor:",";width:",";height:",";",";",""],(function(e){return e.$cursor}),(function(e){return e.$width}),(function(e){return e.$height}),(function(e){return e.$position}),(function(e){var t=e.$translateTransform;return((null==t?void 0:t.x)||(null==t?void 0:t.y))&&(0,Ge.css)(["transform:translate(",",",");"],(null==t?void 0:t.x)||0,(null==t?void 0:t.y)||0)})),ro=function(e){var t=e.border,n=e.elementToResize,a=e.localStorageKey,l=e.keepSynchedWithStorage,u=(0,i.useRef)(null),c=function(e,t,n){var a=(0,i.useRef)(),o=Aa((null==n?void 0:n.localStorageKey)||"use-resize-data",{},{keepSynchedWithStorage:null==n?void 0:n.keepSynchedWithStorage}),l=(0,r.Z)(o,2),u=l[0],c=l[1],s=(0,i.useRef)(u);(0,i.useEffect)((function(){s.current=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u)}),[u]);var f=(0,i.useCallback)((function(t){var n=t.width,a=t.height,r=t.top,i=t.left;if(e.current){var o=e.current,l=s.current,u=getComputedStyle(e.current),c=parseFloat(u.minHeight)||0,f=parseFloat(u.minWidth)||0;r>=0&&a>=c&&(l.height=a,l.top=r),i>=0&&n>=f&&(l.width=n,l.left=i),(0,d.forEach)(l,(function(e,t){Oa(o,t,e)})),o.style.bottom="",o.style.right="",s.current=l}}),[e]),m=(0,i.useCallback)((function(e){if(a.current){var n=eo(t,a.current,e);f(n)}}),[t,f]),p=(0,i.useCallback)((function(){Ea(void 0),document.body.removeEventListener("mousemove",m),document.body.removeEventListener("mouseup",p),null!=n&&n.localStorageKey&&c(s.current)}),[m,null==n?void 0:n.localStorageKey,c]);return(0,i.useCallback)((function(n){if(!n.defaultPrevented&&e.current){n.preventDefault();var r=e.current.getBoundingClientRect();a.current={width:e.current.offsetWidth,height:e.current.offsetHeight,top:e.current.offsetTop,left:e.current.offsetLeft,clientTop:r.top,clientLeft:r.left},Ea(Qi(t)),document.body.addEventListener("mousemove",m),document.body.addEventListener("mouseup",p)}}),[t,e,m,p])}(n,t,{localStorageKey:a,keepSynchedWithStorage:l}),s=(0,i.useMemo)((function(){switch(t){case"n":case"s":return{$width:"100%",$height:"0.25rem"};case"e":case"w":return{$width:"0.25rem",$height:"100%"};default:return{$width:"0.25rem",$height:"0.25rem"}}}),[t]),f=(0,i.useMemo)((function(){var e={},n={};return t.includes("n")&&(e.top=0,n.y="-50%"),t.includes("s")&&(e.bottom=0,n.y="50%"),t.includes("e")&&(e.right=0,n.x="50%"),t.includes("w")&&(e.left=0,n.x="-50%"),{$position:e,$translateTransform:n}}),[t]);return o().createElement(ao,(0,Fe.Z)({ref:u},s,f,{$cursor:Qi(t),onMouseDown:c,"data-testid":"resizable-border-".concat(t)}))},io=function(e){var t=e.elementToResize,n=e.children,a=e.localStorageKey,r=e.disabled,l=void 0!==r&&r,u=e.keepSynchedWithStorage,c=(0,qr.Z)(e,to),s=(0,i.useMemo)((function(){return $i.map((function(e){return o().createElement(ro,{key:"resizable-border-".concat(e),border:e,elementToResize:t,localStorageKey:a,keepSynchedWithStorage:u})}))}),[t,u,a]);return o().createElement(no,c,!l&&s,n)};function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var co=Ge.default.div.withConfig({displayName:"board-container__BoardContainerComp",componentId:"sc-m7rj4k-0"})(["position:fixed;width:calc(100vw - ",");height:calc(100vh - ",");top:",";left:",";background-color:rgba(0,0,0,0);pointer-events:none;z-index:",";"," ",""],W,H,H,W,Y,(function(e){return e.expanded&&(0,Ge.css)(["background-color:rgba(0,0,0,0.5);pointer-events:auto;"])}),(function(e){return e.minimized&&(0,Ge.css)(["display:none;"])})),so=(0,Ge.default)(l.Container).withConfig({displayName:"board-container__OverflowContainer",componentId:"sc-m7rj4k-1"})(["overflow:auto;"]),fo=(0,Ge.default)(l.Container).withConfig({displayName:"board-container__Board",componentId:"sc-m7rj4k-2"})(["z-index:5;position:absolute;",";"," "," min-height:calc("," * 3);min-width:calc("," * 2);box-shadow:0 0.125rem 0.3125rem 0 rgba(125,125,125,0.5);pointer-events:auto;max-height:100%;max-width:100%;",";"],{left:"1.5rem",bottom:"0"},(function(e){return!e.width&&(0,Ge.css)(["aspect-ratio:4 / 3;width:auto;"])}),(function(e){return!e.height&&(0,Ge.css)(["height:70vh;@media (min-height:800px){height:60vh;}@media (min-height:1000px){height:50vh;}"])}),q,K,(function(e){return e.expanded&&(0,Ge.css)(["height:calc(100% - 1.5rem) !important;width:calc(100% - 3rem) !important;top:1.5rem !important;left:1.5rem !important;min-height:auto;"])})),mo=(0,Ge.default)(l.Row).withConfig({displayName:"board-container__BoardHeader",componentId:"sc-m7rj4k-3"})(["position:relative;"]),po=(0,Ge.default)(l.Row).withConfig({displayName:"board-container__BoardDetailContainer",componentId:"sc-m7rj4k-4"})(["min-height:0;"]),vo=(0,Ge.default)(l.IconButton).withConfig({displayName:"board-container__BackButton",componentId:"sc-m7rj4k-5"})([""]),bo=(0,Ge.default)(l.Row).withConfig({displayName:"board-container__Actions",componentId:"sc-m7rj4k-6"})([""]);function go(e){var t=e.icon,n=e.label,a=e.selected,r=e.app,u=e.boardId,c=Se(),s=(0,i.useCallback)((function(e){e.stopPropagation(),at(u)}),[u]);return o().createElement(l.Container,{orientation:"horizontal",mainAlignment:"flex-start",gap:"0.5rem"},t&&o().createElement(l.Icon,{icon:t,size:"large",color:"text",style:{pointerEvents:"none"}}),o().createElement(so,{crossAlignment:"flex-start"},o().createElement(l.Text,{size:"medium",weight:a?"bold":"regular",color:"gray0"},n),o().createElement(l.Text,{size:"small",weight:a?"bold":"regular",color:"secondary"},r&&c("board.from_app","From {{app}}",{app:r}))),o().createElement(l.IconButton,{icon:"CloseOutline",size:"large",onClick:s}))}function ho(e,t,n){var a=t-n;return e>a?a>0?a:0:e}var yo=function(){var e,t=Se(),n=tt(),a=n.boards,u=n.minimized,c=n.expanded,s=n.current,f=n.orderedBoards,m=(0,i.useMemo)((function(){return(0,d.map)(f,(function(e){var t;return{id:e,label:a[e].title,icon:a[e].icon,onClick:function(){return st(e)},selected:e===s,customComponent:o().createElement(go,{label:a[e].title,icon:a[e].icon,selected:e===s,app:null===(t=De(a[e].app)())||void 0===t?void 0:t.display,boardId:e})}}))}),[a,s,f]),p=(0,i.useRef)(null),v=(0,i.useRef)(null),b=Aa(D,{}),g=(0,r.Z)(b,2),h=g[0],y=g[1],w=(0,i.useState)(h),E=(0,r.Z)(w,2),O=E[0],_=E[1],k=(0,i.useRef)(h),S=function(e,t){var n=(0,i.useState)(!1),a=(0,r.Z)(n,2),o=a[0],l=a[1],u=(0,i.useRef)(!1),c=(0,i.useRef)(),s=Aa((null==t?void 0:t.localStorageKey)||"use-move-data",{},{keepSynchedWithStorage:null==t?void 0:t.keepSynchedWithStorage}),f=(0,r.Z)(s,2),m=f[0],p=f[1],v=(0,i.useRef)(m),b=(0,i.useRef)(),g=(0,i.useRef)(!1),h=(0,i.useCallback)((function(t){var n=t.left,a=t.top;if(e.current){var r=e.current,i=v.current;a>=0&&(i.top=a),n>=0&&(i.left=n),(0,d.forEach)(i,(function(e,t){Oa(r,t,e)})),v.current=i}}),[e]);(0,i.useEffect)((function(){v.current=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m)}),[e,m]);var y=(0,i.useCallback)((function(e){e.preventDefault(),document.body.removeEventListener("click",y,{capture:!0})}),[]),w=(0,i.useCallback)((function(t){if(document.body.addEventListener("click",y,{capture:!0}),c.current&&e.current){var n=e.current.offsetParent instanceof HTMLElement&&e.current.offsetParent||document.body,a=(r=c.current,i=t,s=null!==(o=(u=n.getBoundingClientRect()).top)&&void 0!==o?o:0,d=i.clientY-r.mouseClientY,f=r.clientTop+d,m=r.top+d,p=null!==(l=u.left)&&void 0!==l?l:0,v=i.clientX-r.mouseClientX,b=r.clientLeft+v,w=r.left+v,{left:b>p?w:0,top:f>s?m:0});h({left:a.left,top:a.top}),g.current=!0}var r,i,o,l,u,s,d,f,m,p,v,b,w}),[e,h,y]),E=(0,i.useCallback)((function(){document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.classList.add("no-active-background"),document.body.addEventListener("mousemove",w),Ea("move"),u.current=!0,l(!0)}),[w]),O=(0,i.useCallback)((function(){document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.classList.remove("no-active-background"),document.body.removeEventListener("mousemove",w),Ea(void 0),u.current=!1,l(!1)}),[w]),_=(0,i.useCallback)((function(){b.current&&clearTimeout(b.current),u.current&&O(),document.body.removeEventListener("mouseup",_),null!=t&&t.localStorageKey&&g.current&&(p(v.current),g.current=!1)}),[O,null==t?void 0:t.localStorageKey,p]);return[o,(0,i.useCallback)((function(t){if(!t.defaultPrevented&&e.current){var n=e.current.getBoundingClientRect();c.current={width:e.current.offsetWidth,height:e.current.offsetHeight,left:e.current.offsetLeft,top:e.current.offsetTop,clientTop:n.top,clientLeft:n.left,mouseClientY:t.clientY,mouseClientX:t.clientX},b.current=setTimeout(E,250),document.body.addEventListener("mouseup",_)}}),[e,E,_])]}(p,{localStorageKey:D}),P=(0,r.Z)(S,2),z=P[0],C=P[1],A=(0,i.useMemo)((function(){return 0===(0,d.size)(O)}),[O]),T=(0,i.useMemo)((function(){return(0,d.isEmpty)(a)}),[a]),j=(0,i.useCallback)((function(){y({}),ct()}),[y]);(0,i.useEffect)((function(){T&&y((function(e){var t=uo({},e);return delete t.left,delete t.top,t}))}),[T,y]),(0,i.useEffect)((function(){if(p.current){var e=p.current;Oa(e,"width",O.width),Oa(e,"height",O.height),Oa(e,"top",O.top),Oa(e,"left",O.left)}}),[O]);var x=(0,i.useMemo)((function(){return(0,d.debounce)((function(){if(v.current&&v.current.clientHeight>0&&v.current.clientWidth>0){var e={};void 0!==k.current.width&&(e.width=k.current.width),void 0!==k.current.height&&(e.height=k.current.height);var t=v.current;void 0!==k.current.top&&(e.top=ho(k.current.top,t.clientHeight,X.top)),void 0!==k.current.left&&(e.left=ho(k.current.left,t.clientWidth,X.left)),_(e)}}),0,{leading:!1,trailing:!0})}),[]);(0,i.useEffect)((function(){return window.addEventListener("resize",x),function(){window.removeEventListener("resize",x)}}),[x]),(0,i.useEffect)((function(){return k.current=uo({},h),p.current?(0,d.size)(h)>0?x():_({}):_(uo({},h)),function(){x.cancel()}}),[h,x]);var M=(0,i.useCallback)((function(e){return function(t){"click"===t.type&&t.defaultPrevented||e(t)}}),[]);return!T&&s&&o().createElement(co,{expanded:c,minimized:u,ref:v},o().createElement(fo,{"data-testid":"NewItemContainer",background:"gray6",crossAlignment:"unset",expanded:c,ref:p,width:O.width,height:O.height,onMouseDown:!c&&C||void 0},o().createElement(io,{crossAlignment:"unset",elementToResize:p,localStorageKey:D,disabled:c},o().createElement(mo,{background:"gray5"},o().createElement(l.Padding,{all:"extrasmall"},o().createElement(l.Tooltip,{label:t("board.hide","Hide board"),placement:"top",disabled:z},o().createElement(vo,{icon:"BoardCollapseOutline",onClick:M(ot)}))),o().createElement(Xi,null),o().createElement(bo,{padding:{all:"extrasmall"}},(null===(e=a[s])||void 0===e||null===(e=e.context)||void 0===e?void 0:e.onReturnToApp)&&o().createElement(l.Padding,{right:"extrasmall"},o().createElement(l.Tooltip,{label:t("board.open_app","Open in app"),placement:"top",disabled:z},o().createElement(l.IconButton,{icon:"DiagonalArrowRightUp",onClick:M(it)}))),o().createElement(l.Container,{gap:"0.25rem",orientation:"horizontal",width:"fit",height:"fit"},o().createElement(l.Tooltip,{label:t("board.show_tabs","Show other tabs"),placement:"top",disabled:z},o().createElement(l.Dropdown,{items:m},o().createElement(l.IconButton,{icon:"ChevronDown",onClick:M(d.noop)}))),o().createElement(l.Tooltip,{label:A?t("board.reset_size.disabled","Board already at the default position"):t("board.reset_size.enabled","Return to default position and size"),placement:"top",disabled:z},o().createElement(l.IconButton,{icon:"DiagonalArrowLeftDown",onClick:M(j),disabled:A})),o().createElement(l.Tooltip,{label:c?t("board.reduce","Reduce board"):t("board.enlarge","Enlarge board"),placement:"top",disabled:z},o().createElement(l.IconButton,{icon:c?"CollapseOutline":"ExpandOutline",onClick:M(c?ct:ut)}))),o().createElement(l.Tooltip,{label:t("board.close_tabs","Close all your tabs"),placement:"top",disabled:z},o().createElement(l.IconButton,{icon:"CloseOutline",onClick:M(rt)})))),o().createElement(l.Divider,{style:{height:"0.125rem"}}),o().createElement(po,{takeAvailableSpace:!0},(0,d.map)(a,(function(e){return o().createElement(Fi,{key:e.id,board:e})}))))))||null};const wo=function(e){var t=e.children,n=(0,l.useScreenMode)(),a=(0,i.useMemo)((function(){return{isMobile:"mobile"===n}}),[n]);return o().createElement(Hr.Provider,{value:a},t)};function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(23373);var _o=function(e){var t=e.activeRoute,n=e.location,a=Se(),u=fi({activeRoute:t,location:n},_.NEW),c=(0,i.useState)(!1),s=(0,r.Z)(c,2),f=s[0],m=s[1],p=(0,i.useMemo)((function(){return(0,d.find)(u,(function(e){return(e.group===(null==t?void 0:t.id)||e.group===(null==t?void 0:t.app))&&!0===e.primary}))}),[u,null==t?void 0:t.app,null==t?void 0:t.id]),v=Ie(),b=(0,i.useMemo)((function(){return(0,d.groupBy)(u,"group")}),[u]),g=(0,i.useMemo)((function(){var e,n;return[].concat((0,Q.Z)(null!==(e=b[null!==(n=null==t?void 0:t.app)&&void 0!==n?n:""])&&void 0!==e?e:[]),(0,Q.Z)((0,d.reduce)(v,(function(e,n,a){var r;return n.name!==(null==t?void 0:t.app)&&(null===(r=b[n.name])||void 0===r?void 0:r.length)>0&&e.push.apply(e,[{type:"divider",label:"",id:"divider-".concat(a)}].concat((0,Q.Z)(b[n.name]))),e}),[])))}),[null==t?void 0:t.app,v,b]),h=(0,i.useCallback)((function(){m(!1)}),[]),y=(0,i.useCallback)((function(){m(!0)}),[]);return p?o().createElement(l.Container,{minWidth:"80px"},o().createElement(l.MultiButton,{"data-testid":"NewItemButton",size:"extralarge",background:"primary",label:a("new","New"),onClick:p.onClick||p.click||d.noop,items:g,disabledPrimary:!p||(null==p?void 0:p.disabled),disabledSecondary:!(null!=g&&g.length)})):o().createElement(l.Dropdown,{items:g,onClose:h,onOpen:y},o().createElement(l.Button,{"data-testid":"NewItemButton",size:"extralarge",backgroundColor:"primary",label:a("new","New"),icon:f?"ChevronUp":"ChevronDown",onClick:d.noop}))},ko=o().memo(_o),So=function(){var e=(0,c.TH)(),t=_r(),n=(0,i.useMemo)((function(){return function(e){var t;return Oo(Oo({},e),{},{pathname:null==e||null===(t=e.pathname)||void 0===t?void 0:t.split("/").slice(0,2).join("/"),key:""})}(e)}),[e]);return o().createElement(ko,{activeRoute:t,location:n})},Po=n(33519);n(6250);var zo=(0,Ge.default)(l.Container).withConfig({displayName:"module-selector__SelectorContainer",componentId:"sc-191wz47-0"})(["border-right:0.0625rem solid ",";cursor:pointer;background:",";&:hover{background:",";}"],(function(e){return e.theme.palette.gray4.regular}),(function(e){var t=e.theme,n=e.open;return t.palette[n?"gray5":"gray6"].regular}),(function(e){var t=e.theme,n=e.open;return t.palette[n?"gray5":"gray6"].hover})),Co=function(e){var t=e.app,n=Me((function(e){return e.views.search})),a=Rt(),u=a.module,c=a.updateModule,s=(0,i.useMemo)((function(){var e;return null!==(e=n.find((function(e){return e.route===u})))&&void 0!==e?e:n[0]}),[u,n]),d=(0,i.useState)(!1),f=(0,r.Z)(d,2),m=f[0],p=f[1],v=(0,i.useMemo)((function(){return n.map((function(e){var t=e.id,n=e.label,a=e.icon,r=e.route;return{id:t,label:n,icon:a,onClick:function(){c(r),Ar({route:O,path:"/".concat(r)})}}}))}),[n,c]);(0,i.useEffect)((function(){var e,a;t===O||s&&(null==s?void 0:s.app)===t||c(null===(e=null!==(a=n.find((function(e){return e.app===t})))&&void 0!==a?a:n[0])||void 0===e?void 0:e.route)}),[t,s,n,c]);var b=(0,i.useCallback)((function(){p(!0)}),[]),g=(0,i.useCallback)((function(){p(!1)}),[]);return s?o().createElement(l.Dropdown,{items:v,onOpen:b,onClose:g},o().createElement(zo,{"data-testid":"HeaderModuleSelector",orientation:"horizontal",height:"2.625rem",width:"fit",minWidth:"9.375rem",crossAlignment:"center",mainAlignment:"space-between",borderRadius:"half"},o().createElement(l.Row,{takeAvailableSpace:!0,mainAlignment:"unset",padding:{left:"small"}},o().createElement(l.Text,{size:"small",color:m?"primary":"text"},null==s?void 0:s.label)),o().createElement(l.Icon,{size:"large",icon:m?"ChevronUpOutline":"ChevronDownOutline",color:m?"primary":"text",style:{alignSelf:"center"}}))):null},Ao=o().memo(Co),To=function(){var e=_r();return o().createElement(Ao,{app:null==e?void 0:e.app})};function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mo=(0,Ge.default)(l.IconButton).withConfig({displayName:"search-bar__OutlinedIconButton",componentId:"sc-1h49lt8-0"})(["border:0.0625rem solid ",";display:block;& svg{border:none;}"],(function(e){var t=e.theme;return e.disabled?t.palette.primary.disabled:t.palette.primary.regular})),Ro=(0,Ge.default)(l.ChipInput).withConfig({displayName:"search-bar__StyledChipInput",componentId:"sc-1h49lt8-1"})(["padding:0 1rem;&:hover{outline:none;background:",";}"],(function(e){var t=e.theme;return e.disabled?"gray5":t.palette.gray5.hover})),Io=(0,Ge.default)(l.Container).withConfig({displayName:"search-bar__StyledContainer",componentId:"sc-1h49lt8-2"})(["height:2.625rem;overflow-y:hidden;&:first-child{transform:translateY(-0.125rem);}"]),Do=function(){var e=(0,i.useRef)(null),t=Se(),n=Aa(I,[]),a=(0,r.Z)(n,2),u=a[0],s=a[1],f=(0,i.useState)(""),m=(0,r.Z)(f,2),p=m[0],v=m[1],b=(0,c.k6)(),g=Rt(),h=g.updateQuery,y=g.module,w=g.query,E=g.searchDisabled,_=g.setSearchDisabled,k=g.tooltip,S=(0,i.useState)(!1),P=(0,r.Z)(S,2),z=P[0],C=P[1],A=(0,i.useState)([]),T=(0,r.Z)(A,2),j=T[0],x=T[1],M=(0,i.useState)(!1),R=(0,r.Z)(M,2),D=R[0],B=R[1],N=(0,i.useState)(w),V=(0,r.Z)(N,2),Z=V[0],L=V[1],F=(0,i.useMemo)((function(){var t,n;return Z.length>0||(null===(t=e.current)||void 0===t?void 0:t.value)&&(null===(n=e.current)||void 0===n||null===(n=n.value)||void 0===n?void 0:n.length)>0}),[Z.length]),G=(0,i.useCallback)((function(){var t;e.current&&(e.current.value="",null===(t=e.current)||void 0===t||t.focus()),C(!1),L([]),_(!1),h([]),v("")}),[_,h]),U=(0,i.useCallback)((function(){h((function(t){var n=null==e?void 0:e.current;if(n&&(n.value=""),p.length>0){var a=[].concat((0,Q.Z)(Z),(0,Q.Z)((0,d.map)(p.split(" "),(function(e,t){return{id:"".concat(t),label:e,hasAvatar:!1}}))));return L(a),v(""),(0,d.reduce)(a,(function(e,n){return(0,d.some)(t,(function(e){return e.label===n.label}))||e.push(n),e}),(0,d.filter)(t,(function(e){return(0,d.some)(Z,(function(t){return t.label===e.label}))})))}return v(""),(0,d.reduce)(Z,(function(e,n){return(0,d.some)(t,(function(e){return e.label===n.label}))||e.push(n),e}),(0,d.filter)(t,(function(e){return(0,d.some)(Z,(function(t){return t.label===e.label}))})))})),b.push("/".concat(O,"/").concat(y))}),[h,b,y,p,Z]),H=(0,i.useMemo)((function(){return(0,d.filter)(u,(function(e){return e.app===y})).reverse().map((function(e){return xo(xo({},e),{},{disabled:E,onClick:function(){var t=xo(xo({},e),{},{hasAvatar:!1,onClick:void 0});L((function(e){return[].concat((0,Q.Z)(e),[t])}))}})}))}),[u,y,E]),W=(0,i.useCallback)((function(e,t){e.length>0?x(H.filter((function(n){return e&&n.label.includes(e)&&!(0,d.some)(t,(function(e){return e.value===n.label}))})).slice(0,5)):x(H.slice(0,5))}),[H]),q=(0,i.useCallback)((function(e){var t,n=null===(t=e[e.length-1])||void 0===t?void 0:t.label;n&&"string"==typeof n&&y&&!(0,d.find)(H,(function(e){return e.label===n}))&&s((function(e){var t={value:n,label:n,icon:"ClockOutline",app:y,id:n};return[].concat((0,Q.Z)(e),[t])})),L(e)}),[H,y,s]),K=(0,i.useCallback)((function(e){e.textContent?C(!0):C(!1),v(e.textContent||""),W(e.textContent||"",w)}),[w,W]);(0,i.useEffect)((function(){if(y){var e=(0,d.filter)(H,(function(e){return e.app===y})).slice(0,5);x(e)}}),[H,y]);var Y=(0,i.useRef)(null),X=(0,i.useCallback)((function(){return B(!0)}),[]),J=(0,i.useCallback)((function(){return B(!1)}),[]);(0,i.useEffect)((function(){var t=e.current,n=function(e){"Enter"===e.key&&(U(),J())};return t&&t.addEventListener("keyup",n),function(){t&&t.removeEventListener("keyup",n)}}),[U,J]);var $=(0,i.useMemo)((function(){return!(j.length>0)||z}),[j,z]),ee=(0,i.useMemo)((function(){return D&&y?t("search.active_input_label","Separate your keywords by a comma or pressing TAB"):t("search.idle_input_label","Search in {{module}}",{module:y})}),[D,y,t]),te=(0,i.useMemo)((function(){return F||z?t("search.clear","Clear search input"):t("search.already_clear","Search input is already clear")}),[F,t,z]),ne=(0,i.useMemo)((function(){return!z&&!F}),[F,z]),ae=(0,i.useMemo)((function(){return!ne&&Z.length>0?t("search.start","Start search"):D?t("search.type_or_choose_suggestion","Type or choose some keywords to start a search"):w.length>0?t("label.edit_to_start_search","Edit your search to start a new one"):t("search.type_to_start_search","Type some keywords to start a search")}),[ne,Z.length,D,w.length,t]),re=(0,i.useCallback)((function(e){if(C(!1),v(""),y){var t=(0,d.filter)(H,(function(e){return(null==e?void 0:e.app)===y})).slice(0,5);x(t)}return{label:"string"==typeof e?e:"",value:e,hasAvatar:!1}}),[H,y]);return(0,i.useEffect)((function(){L((0,d.map)(w,(function(e){return xo(xo({},e),{},{disabled:E})})))}),[E,w]),o().createElement(l.Container,{minWidth:"fit-content",width:"fit",flexGrow:"1",orientation:"horizontal",ref:Y},o().createElement(l.Tooltip,{disabled:!E,maxWidth:"100%",label:null!=k?k:t("search.unable_to_parse_query","Unable to complete the search, clear it and retry")},o().createElement(l.Container,{orientation:"horizontal",width:"fill"},o().createElement(l.Container,{minWidth:"32rem",width:"fill"},o().createElement(l.Container,{orientation:"horizontal",width:"fill"},o().createElement(l.Container,{width:"fit"},o().createElement(To,null)),o().createElement(Io,{orientation:"horizontal"},o().createElement(Ro,{disabled:E,inputRef:e,value:Z,onAdd:re,options:j,placeholder:ee,confirmChipOnBlur:!1,separators:["Enter","NumpadEnter","Comma","Space"],background:E?"gray5":"gray6",style:{cursor:"pointer",overflowX:"hidden"},onChange:q,onInputType:K,onInputTypeDebounce:0,onBlur:J,onFocus:X,disableOptions:$,requireUniqueChips:!1})))),!ne&&o().createElement(l.Padding,{left:"small"},o().createElement(l.Tooltip,{label:te,placement:"bottom"},o().createElement(Mo,{size:"large",customSize:{iconSize:"large",paddingSize:"small"},disabled:ne,icon:"BackspaceOutline",iconColor:"primary",onClick:G}))),o().createElement(l.Padding,{left:"small"},o().createElement(l.Tooltip,{maxWidth:"100%",disabled:E,label:ae,placement:"bottom"},o().createElement(l.IconButton,{size:"large",customSize:{iconSize:"large",paddingSize:"small"},icon:"Search",disabled:ne,backgroundColor:"primary",iconColor:"gray6",onClick:U}))))))},Bo=(0,Ge.default)((function(e){var t,n,a,r,l=ga().loaded,u=(t=ga(),n=t.carbonioWebUiAppLogo,a=t.carbonioWebUiDarkAppLogo,r=wa().darkModeEnabled,(0,i.useMemo)((function(){return r?a||n||Po.Z:n||a||Po.Z}),[a,n,r]));return l?"string"==typeof u&&o().createElement("img",(0,Fe.Z)({alt:""},e,{src:u}))||o().createElement(u,e):o().createElement(o().Fragment,null)})).withConfig({displayName:"shell-header__StyledLogo",componentId:"sc-1yz2cfr-0"})(["height:2rem;"]),No=(0,Ge.default)(l.Container).withConfig({displayName:"shell-header__ShellHeaderContainer",componentId:"sc-1yz2cfr-1"})(["z-index:",";"],Y+1);const Vo=function(e){var t=e.mobileNavIsOpen,n=e.onMobileMenuClick,a=e.children,r=wa().darkReaderStatus,i=(0,l.useScreenMode)(),u=Me((function(e){return e.views.search.length>0}));return o().createElement(No,{"data-testid":"MainHeaderContainer",orientation:"horizontal",background:"gray3",width:"fill",height:H,minHeight:H,maxHeight:H,mainAlignment:"space-between",padding:{horizontal:"desktop"===i?"large":"extrasmall",vertical:"small"}},o().createElement(l.Catcher,null,o().createElement(l.Container,{orientation:"horizontal",maxWidth:"75%",mainAlignment:"flex-start",minWidth:"fit-content","data-testid":"HeaderMainLogoContainer"},o().createElement(l.Responsive,{mode:"mobile"},o().createElement(l.Padding,{right:"small"},o().createElement(l.IconButton,{icon:t?"Close":"Menu",onClick:n}))),o().createElement(l.Container,{width:"15.625rem",height:"2rem",crossAlignment:"flex-start"},r&&o().createElement(Bo,null)),o().createElement(l.Padding,{horizontal:"large"},o().createElement(So,null)),o().createElement(l.Responsive,{mode:"desktop"},u&&o().createElement(Do,null))),o().createElement(l.Container,{orientation:"horizontal",width:"auto",mainAlignment:"flex-end"},o().createElement(l.Responsive,{mode:"desktop"},a))))};var Zo=function(e){var t=e.item;return t.secondary?o().createElement(Pe,{pkg:t.id},o().createElement(t.secondary,{expanded:!!t.expanded})):null},Lo=function(e){var t=e.mobileNavIsOpen,n=e.menuTree,a=(0,c.k6)(),r=Me((function(e){return(0,d.reduce)(e.routes,(function(t,n){var r=(0,d.find)(e.views.primaryBar,(function(e){return e.id===n.id})),i=(0,d.find)(e.views.secondaryBar,(function(e){return e.id===n.id}));return r&&r.visible&&t.push({id:"".concat(n.app,"-wrap"),label:r.label,icon:"string"==typeof r.component?r.component:"Cube",onClick:function(){return a.push("/".concat(n.route))},items:i?[{id:i.id,label:i.id,icon:"Cube",secondary:i.component,CustomComponent:Zo}]:[]}),t}),[])}));return o().createElement(l.Container,{height:"fill",width:"fit",background:"gray5",style:{position:"absolute",left:0,top:0,zIndex:3}},o().createElement(l.Collapse,{orientation:"horizontal",open:t,crossSize:"100%"},o().createElement(l.Container,{width:316,height:"fill",orientation:"vertical",mainAlignment:"space-between",style:{maxHeight:"calc(100vh - 3rem)",overflowY:"auto"}},o().createElement(l.Container,{width:"fill",height:"fit",orientation:"vertical",mainAlignment:"space-between"},o().createElement(l.Accordion,{items:r})),o().createElement(l.Container,{width:"fill",height:"fit",orientation:"vertical",mainAlignment:"flex-end"},o().createElement(l.Accordion,{items:[n]}),o().createElement(l.Padding,{vertical:"medium"})))))},Fo=o().memo(Lo);const Go=function(e){var t=e.mobileNavIsOpen,n=kr();return o().createElement(Fo,{menuTree:n,mobileNavIsOpen:t})};var Uo=(0,Ge.default)(l.Container).withConfig({displayName:"badge-wrap__MiniBadge",componentId:"sc-w6kick-0"})(["position:absolute;bottom:25%;right:25%;transform:translate(30%,30%);background:",";min-width:0.75rem;min-height:0.75rem;line-height:0.75rem;border-radius:0.5rem;user-select:none;cursor:pointer;pointer-events:none;z-index:99;"],(function(e){var t,n=e.badge;return e.theme.palette[null!==(t=null==n?void 0:n.color)&&void 0!==t?t:"primary"].regular})),Ho=(0,i.forwardRef)((function(e,t){var n,a=e.badge,r=e.children;return o().createElement(l.Container,{width:"3rem",height:"3rem",style:{position:"relative"},ref:t},a.show&&o().createElement(Uo,{badge:a,height:"fit",width:"fit"},a.showCount?o().createElement(l.Text,{size:"extrasmall",style:{padding:"0.125rem 0.25rem",fontSize:"0.625rem"},color:"gray6"},null!==(n=a.count)&&void 0!==n?n:0):null),r)}));const Wo=Ho;var qo=function(e,t){return(0,d.intersection)(e,t).length>0},Ko=function(e,t){var n,a=Object.values(null!==(n=(0,d.omit)(t,"standalone"))&&void 0!==n?n:{});return e.blacklistRoutes?!qo(a,e.blacklistRoutes):!e.whitelistRoutes||qo(a,e.whitelistRoutes)},Yo=function(){var e=Me((function(e){return e.views.utilityBar})),t=_r();return(0,i.useMemo)((function(){return(0,d.filter)(e,(function(e){return Ko(e,t)}))}),[t,e])};function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $o=(0,Ge.default)(l.Container).withConfig({displayName:"shell-primary-bar__PrimaryBarContainer",componentId:"sc-ixisow-0"})(["border-right:0.0625rem solid ",";z-index:",";"],(function(e){return e.theme.palette.gray3.regular}),Y+1),Qo=function(){var e=tt(),t=e.minimized,n=e.boards;return(0,d.isEmpty)(n)?null:o().createElement(l.Container,{width:"3rem",height:"3rem"},o().createElement(l.IconButton,{iconColor:"primary",icon:t?"BoardOpen":"BoardCollapse",onClick:t?lt:ot,size:"large"}))},el=function(e){var t=e.view,n=e.active,a=e.onClick;return o().createElement(l.Tooltip,{label:t.label,placement:"right",key:t.id},o().createElement(Wo,{badge:t.badge},"string"==typeof t.component?o().createElement(l.IconButton,{icon:t.component,backgroundColor:n?"gray4":"gray6",iconColor:n?"primary":"text",onClick:a,size:"large","data-isselected":n}):o().createElement(t.component,{active:n})))},tl=function(e){var t,n=e.view;return o().createElement(l.Tooltip,{label:n.label,placement:"right",key:n.id},o().createElement(Pe,{key:n.id,pkg:n.app},"string"==typeof n.component?o().createElement(l.IconButton,{icon:n.component,backgroundColor:"gray6",iconColor:"text",onClick:null!==(t=n.onClick)&&void 0!==t?t:d.noop,size:"large"}):o().createElement(n.component,null)))},nl=(0,Ge.default)(l.Row).withConfig({displayName:"shell-primary-bar__OverlayRow",componentId:"sc-ixisow-1"})(["min-height:0.0625rem;overflow-y:auto;overflow-y:overlay;"]),al=function(e){var t,n=e.activeRoute,a=Me((function(e){return e.views.primaryBar})),r=(0,c.k6)().push,l=(0,c.TH)(),u=l.pathname,s=l.search,f=(0,i.useRef)({});(0,i.useEffect)((function(){f.current=a.reduce((function(e,t){return e[t.id]||(e[t.id]=t.route),e}),f.current)}),[a]),(0,i.useEffect)((function(){n&&n.id!==O&&(f.current=Jo(Jo({},f.current),{},(0,$.Z)({},n.id,"".concat((0,d.trim)(u,"/")).concat(s))))}),[n,u,s,a]);var m=Me((function(e){return e.views.primaryBarAccessories})),p=(0,i.useMemo)((function(){return(0,d.sortBy)((0,d.filter)(m,(function(e){return Ko(e,n)})),"position")}),[n,m]),v=(0,i.useMemo)((function(){return(0,d.map)(a,(function(e){return e.visible?o().createElement(el,{key:e.id,onClick:function(){return r("/".concat(f.current[e.id]))},view:e,active:(null==n?void 0:n.id)===e.id}):null}))}),[null==n?void 0:n.id,r,a]),b=(0,i.useMemo)((function(){return p.map((function(e){return o().createElement(tl,{view:e,key:e.id})}))}),[p]);return z&&null!=n&&null!==(t=n.standalone)&&void 0!==t&&t.hidePrimaryBar?null:o().createElement($o,{width:W,height:"fill",background:"gray6",orientation:"vertical",mainAlignment:"flex-start",crossAlignment:"flex-start","data-testid":"SideMenuContainer"},o().createElement(nl,{mainAlignment:"flex-start",crossAlignment:"flex-start",orientation:"vertical",takeAvailableSpace:!0,wrap:"nowrap"},v,o().createElement(Qo,null)),o().createElement(nl,{mainAlignment:"flex-end",orientation:"vertical",wrap:"nowrap"},b))},rl=o().memo(al);const il=function(){var e=_r();return o().createElement(rl,{activeRoute:e})};var ol=Ge.default.div.withConfig({displayName:"collapser__VerticalDivider",componentId:"sc-178akf5-0"})(["position:relative;overflow:visible;height:100%;width:0.0625rem;max-width:0.0625rem;min-width:0.0625rem;background-color:",";transition:background 0.2s;&:hover{background-color:",";}"],(function(e){return e.theme.palette.gray2.regular}),(function(e){return e.theme.palette.gray2.hover})),ll=Ge.default.div.withConfig({displayName:"collapser__Bubble",componentId:"sc-178akf5-1"})(["cursor:pointer;z-index:2;display:flex;align-items:center;justify-content:center;position:absolute;top:50%;left:-0.75rem;width:1.5rem;height:1.5rem;border-radius:50%;background-color:",";transition:background-color 0.2s,transform 0.2s;transform:scaleX(",");&:hover{background-color:",";}&:active{background-color:",";}"],(function(e){return e.theme.palette.gray2.regular}),(function(e){return e.open?1:-1}),(function(e){return e.theme.palette.gray2.hover}),(function(e){return e.theme.palette.gray2.active})),ul=function(e){var t=e.open,n=e.onClick;return o().createElement(ol,null,o().createElement(ll,{onClick:n,open:t},o().createElement(l.Icon,{size:"medium",icon:"ChevronLeft"})))},cl=(0,ae.Ue)()((function(e){return{mode:"closed",current:void 0,secondaryBarState:!0,setMode:function(t){return e((function(e){return{mode:t,secondaryBarState:"open"!==t&&e.secondaryBarState}}))},setCurrent:function(t){return e({current:t})},setSecondaryBarState:function(t){return e({secondaryBarState:t})}}})),sl=(0,Ge.default)(l.Container).withConfig({displayName:"shell-secondary-bar__SidebarContainer",componentId:"sc-4cqsy-0"})(["min-width:3rem;max-width:19.625rem;width:","rem;transition:width 300ms;overflow-x:hidden;"],(function(e){return e.sidebarIsOpen?19.625:3})),dl=function(e){var t=e.activeRoute,n=cl((function(e){return e.secondaryBarState})),a=cl((function(e){return e.setSecondaryBarState})),r=(0,i.useCallback)((function(){return a(!n)}),[n,a]),u=Me((function(e){return e.views.secondaryBar})),s=Me((function(e){return e.views.secondaryBarAccessories})),f=(0,i.useMemo)((function(){return(0,d.sortBy)((0,d.filter)(s,(function(e){return Ko(e,t)})),"position")}),[t,s]);return(0,i.useMemo)((function(){return(0,d.findIndex)(u,(function(e){return e.id===(null==t?void 0:t.id)}))<0}),[null==t?void 0:t.id,u])?null:o().createElement(o().Fragment,null,o().createElement(sl,{"data-testid":"SideSecondaryBarContainer",sidebarIsOpen:n,role:"menu",height:"fill",orientation:"vertical",mainAlignment:"space-between",onClick:n?void 0:r,style:{maxHeight:"calc(100vh - 3.75rem)",overflowY:"auto"}},o().createElement(l.Container,{mainAlignment:"flex-start"},o().createElement(c.rs,null,(0,d.map)(u,(function(e){return o().createElement(c.AW,{key:e.id,path:"/".concat(e.route)},o().createElement(Pe,{pkg:e.app},o().createElement(e.component,{expanded:n})))})))),o().createElement(l.Container,{mainAlignment:"flex-end",height:"fit"},f.map((function(e){return o().createElement(Pe,{key:e.id,pkg:e.app},o().createElement(e.component,{expanded:n}))})))),o().createElement(ul,{onClick:r,open:n}))},fl=o().memo(dl);const ml=function(){var e=_r();return o().createElement(fl,{activeRoute:e})},pl=function(e){var t=e.mobileNavIsOpen;return o().createElement(l.Container,{orientation:"horizontal",background:"gray5",width:"fit",height:"fill",mainAlignment:"flex-start",crossAlignment:"flex-start"},o().createElement(l.Responsive,{mode:"desktop"},o().createElement(il,null),o().createElement(ml,null)),o().createElement(l.Responsive,{mode:"mobile"},o().createElement(Go,{mobileNavIsOpen:t})))};var vl=function(e){var t=e.view,n=cl(),a=n.mode,r=n.setMode,u=n.current,c=n.setCurrent,s=(0,i.useCallback)((function(){r(u!==t.id||"open"!==a?"open":"closed"),c(t.id)}),[u,a,c,r,t.id]);return"string"==typeof t.button?o().createElement(l.Tooltip,{label:t.label,placement:"bottom-end"},o().createElement(l.IconButton,{icon:t.button,iconColor:u===t.id?"primary":"text",onClick:s,size:"large"})):o().createElement(t.button,{mode:a,setMode:r})},bl=function(){var e,t=Yo(),n=Se(),a=ie(),r=(0,i.useMemo)((function(){var e,t;return[{id:"account",label:null!==(e=null==a?void 0:a.displayName)&&void 0!==e?e:"Account",disabled:!0},{id:"email",label:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"",disabled:!0},{type:"divider",id:"divider",label:"divider"},{id:"feedback",label:n("label.feedback","Feedback"),onClick:function(){nt(y)({url:"feedback",title:n("label.feedback","Feedback"),icon:"MessageSquareOutline"})},icon:"MessageSquareOutline"},{id:"update",label:n("label.update_view","Update view"),onClick:$n,icon:"Refresh"},{id:"docs",label:n("label.documentation","Documentation"),onClick:d.noop,disabled:!0,icon:"InfoOutline"},{id:"logout",label:n("label.logout","Logout"),onClick:La,icon:"LogOut"}]}),[a,n]),u=(0,i.useMemo)((function(){return(0,d.map)(t,(function(e){return o().createElement(vl,{view:e,key:e.id})}))}),[t]);return o().createElement(l.Container,{orientation:"horizontal",width:"fit"},u,o().createElement(l.Tooltip,{label:null!==(e=null==a?void 0:a.displayName)&&void 0!==e?e:null==a?void 0:a.name,placement:"bottom-end"},o().createElement(l.Dropdown,{items:r,maxWidth:"18.75rem",disableAutoFocus:!0},o().createElement(l.IconButton,{icon:"PersonOutline",size:"large",onClick:d.noop}))))},gl=(0,Ge.default)(l.Container).withConfig({displayName:"panel__Panel",componentId:"sc-1czvuxd-0"})(["width:","rem;border-radius:0;height:100%;position:absolute;right:0;top:0;bottom:0;transition:width 0.2s;border-left:0.0625rem solid ",";"],(function(e){return"closed"!==e.mode?16:3}),(function(e){return e.theme.palette.gray2.regular})),hl=Ge.default.div.withConfig({displayName:"panel__Spacer",componentId:"sc-1czvuxd-1"})(["position:relative;width:","rem;height:100%;transition:width 0.2s;"],(function(e){return"open"===e.mode?16:3})),yl=function(){var e=cl(),t=e.mode,n=e.setMode,a=e.current,r=e.setCurrent,u=Yo(),c=(0,i.useMemo)((function(){return(0,d.find)(u,(function(e){return e.id===a}))}),[a,u]);return(0,i.useEffect)((function(){var e;a&&c||r(null===(e=u[0])||void 0===e?void 0:e.id)}),[a,c,r,u]),c?o().createElement(l.Responsive,{mode:"desktop"},o().createElement(hl,{mode:t},o().createElement(gl,{mode:t,mainAlignment:"flex-start"},c&&o().createElement(Pe,{pkg:null==c?void 0:c.id},o().createElement(c.component,{mode:t,setMode:n}))))):null},wl=Ge.default.div.withConfig({displayName:"shell-view__Background",componentId:"sc-1116s2y-0"})(["background:",";display:flex;flex-direction:column;height:100%;min-height:100%;max-height:100%;width:100%;min-width:100%;max-width:100%;"],(function(e){return e.theme.palette.gray6.regular}));function El(){var e=(0,i.useContext)(Ra).setDarkReaderState,t=ha();return(0,i.useEffect)((function(){t&&e(t)}),[t,e]),null}var Ol=function(e){var t=e.allowUnauthenticated,n=e.hideShellHeader,a=(0,i.useState)(!1),u=(0,r.Z)(a,2),c=u[0],s=u[1];return function(e){var t=re((function(e){return e.authenticated}));(0,i.useEffect)((function(){!z||t||e||pn()}),[e,t])}(t),o().createElement(wl,null,o().createElement(El,null),!(z&&n)&&o().createElement(Vo,{mobileNavIsOpen:c,onMobileMenuClick:function(){return s(!c)}},o().createElement(bl,null)),o().createElement(l.Row,{crossAlignment:"unset",style:{position:"relative",flexGrow:"1"}},o().createElement(pl,{mobileNavIsOpen:c}),o().createElement(Vi,null),o().createElement(yl,null)),o().createElement(yo,null))},_l=o().memo(Ol);const kl=function(){var e,t,n=_r(),a=null==n||null===(e=n.standalone)||void 0===e?void 0:e.allowUnauthenticated,r=null==n||null===(t=n.standalone)||void 0===t?void 0:t.hideShellHeader;return o().createElement(wo,null,o().createElement(Ci.PreviewManager,null,o().createElement(_l,{allowUnauthenticated:a,hideShellHeader:r})))};var Sl=function(){var e,t,n=(0,c.k6)(),a=(0,l.useSnackbar)(),r=(0,l.useModal)();return e={functions:{getHistory:function(){return n},createSnackbar:a,createModal:r}},t=wr((function(e){return e.add})),(0,i.useEffect)((function(){t(e)}),[e,t]),null},Pl=function(){var e=(0,c.UO)().route;return(0,i.useEffect)((function(){e&&Me.setState({standalone:e})}),[e]),null},zl=function(){var e=(0,u.useTranslation)(),t=(0,r.Z)(e,1)[0];return(0,i.useEffect)((function(){!function(e){Me.setState((0,ne.ZP)((function(t){var n,a=re.getState().settings.attrs;0===(0,d.size)(a)||"FALSE"===a.zimbraFeatureOptionsEnabled?(t.routes=(0,$.Z)({},O,br),t.views.primaryBar=[gr(e)],t.views.appView=[hr]):(t.routes=(n={},(0,$.Z)(n,O,br),(0,$.Z)(n,w,sr),n),t.views.primaryBar=[gr(e),dr(e)],t.views.secondaryBar=[fr],t.views.appView=[hr,mr],t.views.settings=[pr(e),vr(e)]),t.views.board=[yr]})))}(t)}),[t]),null};const Cl=function(){return o().createElement(Va,null,o().createElement(Ii,null,o().createElement(s.BrowserRouter,{basename:C},o().createElement(l.SnackbarManager,null,o().createElement(l.ModalManager,null,o().createElement(Ri,null),z&&o().createElement(c.rs,null,o().createElement(c.AW,{path:"/:route"},o().createElement(Pl,null))),o().createElement(zl,null),o().createElement(Di,null),o().createElement(Sl,null),o().createElement(Le,null),o().createElement(kl,null))))))}},95804:(e,t,n)=>{var a={"./de/index.js":[97816,816],"./en-US/index.js":[84491,491],"./es/index.js":[40087,87],"./fr/index.js":[90455,455],"./hi/index.js":[49069,69],"./it/index.js":[18879,138,879],"./ja/index.js":[33206,206],"./nl/index.js":[79465,465],"./pl/index.js":[44691,138,691],"./pt-BR/index.js":[37839,839],"./pt/index.js":[2277,277],"./ro/index.js":[17339,339],"./ru/index.js":[2172,138,172],"./th/index.js":[10329,329],"./tr/index.js":[94471,471],"./vi/index.js":[51297,297],"./zh-CN/index.js":[91361,138,361]};function r(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n.t(r,23)))}r.keys=()=>Object.keys(a),r.id=95804,e.exports=r},46700:(e,t,n)=>{var a={"./af":6678,"./af.js":6678,"./ar":25295,"./ar-dz":45476,"./ar-dz.js":45476,"./ar-kw":31348,"./ar-kw.js":31348,"./ar-ly":22025,"./ar-ly.js":22025,"./ar-ma":33478,"./ar-ma.js":33478,"./ar-sa":71018,"./ar-sa.js":71018,"./ar-tn":57371,"./ar-tn.js":57371,"./ar.js":25295,"./az":63895,"./az.js":63895,"./be":10796,"./be.js":10796,"./bg":99983,"./bg.js":99983,"./bm":3740,"./bm.js":3740,"./bn":67013,"./bn-bd":5046,"./bn-bd.js":5046,"./bn.js":67013,"./bo":30393,"./bo.js":30393,"./br":30965,"./br.js":30965,"./bs":5228,"./bs.js":5228,"./ca":49744,"./ca.js":49744,"./cs":73141,"./cs.js":73141,"./cv":79831,"./cv.js":79831,"./cy":38153,"./cy.js":38153,"./da":15477,"./da.js":15477,"./de":63062,"./de-at":84080,"./de-at.js":84080,"./de-ch":71626,"./de-ch.js":71626,"./de.js":63062,"./dv":72168,"./dv.js":72168,"./el":56800,"./el.js":56800,"./en-au":43047,"./en-au.js":43047,"./en-ca":10033,"./en-ca.js":10033,"./en-gb":25383,"./en-gb.js":25383,"./en-ie":90853,"./en-ie.js":90853,"./en-il":65665,"./en-il.js":65665,"./en-in":31886,"./en-in.js":31886,"./en-nz":36072,"./en-nz.js":36072,"./en-sg":86350,"./en-sg.js":86350,"./eo":88684,"./eo.js":88684,"./es":48898,"./es-do":78613,"./es-do.js":78613,"./es-mx":6587,"./es-mx.js":6587,"./es-us":4654,"./es-us.js":4654,"./es.js":48898,"./et":78351,"./et.js":78351,"./eu":71733,"./eu.js":71733,"./fa":12401,"./fa.js":12401,"./fi":47303,"./fi.js":47303,"./fil":98889,"./fil.js":98889,"./fo":86588,"./fo.js":86588,"./fr":10500,"./fr-ca":78579,"./fr-ca.js":78579,"./fr-ch":21445,"./fr-ch.js":21445,"./fr.js":10500,"./fy":20235,"./fy.js":20235,"./ga":98789,"./ga.js":98789,"./gd":93110,"./gd.js":93110,"./gl":22881,"./gl.js":22881,"./gom-deva":26778,"./gom-deva.js":26778,"./gom-latn":55522,"./gom-latn.js":55522,"./gu":59273,"./gu.js":59273,"./he":53979,"./he.js":53979,"./hi":29356,"./hi.js":29356,"./hr":72592,"./hr.js":72592,"./hu":52674,"./hu.js":52674,"./hy-am":76846,"./hy-am.js":76846,"./id":30029,"./id.js":30029,"./is":28255,"./is.js":28255,"./it":9085,"./it-ch":34451,"./it-ch.js":34451,"./it.js":9085,"./ja":5864,"./ja.js":5864,"./jv":95688,"./jv.js":95688,"./ka":31848,"./ka.js":31848,"./kk":8786,"./kk.js":8786,"./km":33226,"./km.js":33226,"./kn":51243,"./kn.js":51243,"./ko":98852,"./ko.js":98852,"./ku":77226,"./ku.js":77226,"./ky":10896,"./ky.js":10896,"./lb":37104,"./lb.js":37104,"./lo":86111,"./lo.js":86111,"./lt":91059,"./lt.js":91059,"./lv":7962,"./lv.js":7962,"./me":74899,"./me.js":74899,"./mi":26642,"./mi.js":26642,"./mk":68949,"./mk.js":68949,"./ml":49043,"./ml.js":49043,"./mn":12241,"./mn.js":12241,"./mr":23022,"./mr.js":23022,"./ms":29403,"./ms-my":4188,"./ms-my.js":4188,"./ms.js":29403,"./mt":27104,"./mt.js":27104,"./my":87673,"./my.js":87673,"./nb":74363,"./nb.js":74363,"./ne":49995,"./ne.js":49995,"./nl":25363,"./nl-be":62352,"./nl-be.js":62352,"./nl.js":25363,"./nn":89574,"./nn.js":89574,"./oc-lnc":41822,"./oc-lnc.js":41822,"./pa-in":40430,"./pa-in.js":40430,"./pl":56165,"./pl.js":56165,"./pt":51781,"./pt-br":66584,"./pt-br.js":66584,"./pt.js":51781,"./ro":83145,"./ro.js":83145,"./ru":23270,"./ru.js":23270,"./sd":22181,"./sd.js":22181,"./se":86638,"./se.js":86638,"./si":88434,"./si.js":88434,"./sk":28634,"./sk.js":28634,"./sl":38661,"./sl.js":38661,"./sq":75890,"./sq.js":75890,"./sr":41865,"./sr-cyrl":42155,"./sr-cyrl.js":42155,"./sr.js":41865,"./ss":12220,"./ss.js":12220,"./sv":34292,"./sv.js":34292,"./sw":56803,"./sw.js":56803,"./ta":65669,"./ta.js":65669,"./te":50774,"./te.js":50774,"./tet":28794,"./tet.js":28794,"./tg":50652,"./tg.js":50652,"./th":48819,"./th.js":48819,"./tk":19620,"./tk.js":19620,"./tl-ph":28767,"./tl-ph.js":28767,"./tlh":10812,"./tlh.js":10812,"./tr":23935,"./tr.js":23935,"./tzl":40080,"./tzl.js":40080,"./tzm":96112,"./tzm-latn":99882,"./tzm-latn.js":99882,"./tzm.js":96112,"./ug-cn":68037,"./ug-cn.js":68037,"./uk":8358,"./uk.js":8358,"./ur":73244,"./ur.js":73244,"./uz":4535,"./uz-latn":55334,"./uz-latn.js":55334,"./uz.js":4535,"./vi":45622,"./vi.js":45622,"./x-pseudo":21161,"./x-pseudo.js":21161,"./yo":11517,"./yo.js":11517,"./zh-cn":9902,"./zh-cn.js":9902,"./zh-hk":17658,"./zh-hk.js":17658,"./zh-mo":29702,"./zh-mo.js":29702,"./zh-tw":73465,"./zh-tw.js":73465};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=46700},93414:()=>{},70172:()=>{},2001:()=>{},33779:()=>{},66558:()=>{},82258:()=>{}}]);
//# sourceMappingURL=883.eeab6520.chunk.js.map